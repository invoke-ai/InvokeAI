
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="mauwii">
      
      
        <link rel="canonical" href="https://invoke-ai.github.io/InvokeAI/configuration/">
      
      
        <link rel="prev" href="../nodes/invocation-api/">
      
      
        <link rel="next" href="../features/low-vram/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Configuration - Invoke</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2X4JR4S4FB"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2X4JR4S4FB",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2X4JR4S4FB",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#invokeai-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Invoke" class="md-header__button md-logo" aria-label="Invoke" data-md-component="logo">
      
  <img src="../img/invoke-symbol-wht-lrg.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Invoke
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/invoke-ai/InvokeAI" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    invoke-ai/InvokeAI
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../installation/quick_start/" class="md-tabs__link">
          
  
  
    
  
  Installation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../nodes/overview/" class="md-tabs__link">
          
  
  
    
  
  Workflows & Nodes

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Configuration

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../features/low-vram/" class="md-tabs__link">
          
  
  
    
  
  Features

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../contributing/" class="md-tabs__link">
          
  
  
    
  
  Contributing

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../help/gettingStartedWithAI/" class="md-tabs__link">
          
  
  
    
  
  Help

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../faq/" class="md-tabs__link">
        
  
  
    
  
  FAQ

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Invoke" class="md-nav__button md-logo" aria-label="Invoke" data-md-component="logo">
      
  <img src="../img/invoke-symbol-wht-lrg.svg" alt="logo">

    </a>
    Invoke
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/invoke-ai/InvokeAI" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    invoke-ai/InvokeAI
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/quick_start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Detailed Requirements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manual Install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/patchmatch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PatchMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/legacy_scripts.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Legacy Scripts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workflows & Nodes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Workflows & Nodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nodes Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/NODES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflow Editor Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/defaultNodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    List of Default Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/communityNodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Community Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/comfyToInvoke/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ComfyUI to InvokeAI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/detailedNodes/faceTools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Facetool Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/contributingNodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/NODES_MIGRATION_V3_V4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating from v3 to v4
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/invocation-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Invocation API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#intro" class="md-nav__link">
    <span class="md-ellipsis">
      Intro
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invokeai-root-directory" class="md-nav__link">
    <span class="md-ellipsis">
      InvokeAI Root Directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invokeai-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      InvokeAI Configuration File
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InvokeAI Configuration File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-config-file-location" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Config File Location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-args" class="md-nav__link">
    <span class="md-ellipsis">
      CLI Args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#low-vram-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Low-VRAM Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all-settings" class="md-nav__link">
    <span class="md-ellipsis">
      All Settings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#invokeai.app.services.config.config_default.InvokeAIAppConfig" class="md-nav__link">
    <span class="md-ellipsis">
      InvokeAIAppConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InvokeAIAppConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#model-marketplace-api-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Model Marketplace API Keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Model Hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Path Settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/low-vram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Low VRAM mode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/gettingStartedWithAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New to InvokeAI?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../contributing/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CODE_OF_CONDUCT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of Conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/dev-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dev Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/contribution_guides/development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/contribution_guides/newContributorChecklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New Contributors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/MODEL_MANAGER/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Manager v2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/LOCAL_DEVELOPMENT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local Development
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/TESTS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../contributing/frontend/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/frontend/state-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    State Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/frontend/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflows - Design and Implementation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/contribution_guides/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/INVOCATIONS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/MODEL_MANAGER/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Manager v2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/DOWNLOAD_QUEUE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download Queue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/contribution_guides/translation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Translation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/contribution_guides/tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Help
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Help
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/gettingStartedWithAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New to InvokeAI?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/diffusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diffusion Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/SAMPLER_CONVERGENCE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sampler Convergence
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="invokeai-configuration"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 13c-1.86 0-3.41 1.28-3.86 3H2v2h2.14c.45 1.72 2 3 3.86 3s3.41-1.28 3.86-3H22v-2H11.86c-.45-1.72-2-3-3.86-3m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2M19.86 6c-.45-1.72-2-3-3.86-3s-3.41 1.28-3.86 3H2v2h10.14c.45 1.72 2 3 3.86 3s3.41-1.28 3.86-3H22V6zM16 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"/></svg></span> InvokeAI Configuration<a class="headerlink" href="#invokeai-configuration" title="Permanent link">#</a></h1>
<h2 id="intro">Intro<a class="headerlink" href="#intro" title="Permanent link">#</a></h2>
<p>Runtime settings, including the location of files and
directories, memory usage, and performance, are managed via the
<code>invokeai.yaml</code> config file or environment variables. A subset
of settings may be set via commandline arguments.</p>
<p>Settings sources are used in this order:</p>
<ul>
<li>CLI args</li>
<li>Environment variables</li>
<li><code>invokeai.yaml</code> settings</li>
<li>Fallback: defaults</li>
</ul>
<h3 id="invokeai-root-directory">InvokeAI Root Directory<a class="headerlink" href="#invokeai-root-directory" title="Permanent link">#</a></h3>
<p>On startup, InvokeAI searches for its "root" directory. This is the directory
that contains models, images, the database, and so on. It also contains
a configuration file called <code>invokeai.yaml</code>.</p>
<p>InvokeAI searches for the root directory in this order:</p>
<ol>
<li>The <code>--root &lt;path&gt;</code> CLI arg.</li>
<li>The environment variable INVOKEAI_ROOT.</li>
<li>The directory containing the currently active virtual environment.</li>
<li>Fallback: a directory in the current user's home directory named <code>invokeai</code>.</li>
</ol>
<h3 id="invokeai-configuration-file">InvokeAI Configuration File<a class="headerlink" href="#invokeai-configuration-file" title="Permanent link">#</a></h3>
<p>Inside the root directory, we read settings from the <code>invokeai.yaml</code> file.</p>
<p>It has two sections - one for internal use and one for user settings:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Internal metadata - do not edit:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nt">schema_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4.0.2</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Put user settings here - see https://invoke-ai.github.io/InvokeAI/features/CONFIGURATION/:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span><span class="w"> </span><span class="c1"># serve the app on your local network</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nt">models_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">D:\invokeai\models</span><span class="w"> </span><span class="c1"># store models on an external drive</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nt">precision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">float16</span><span class="w"> </span><span class="c1"># always use fp16 precision</span>
</code></pre></div>
<p>The settings in this file will override the defaults. You only need
to change this file if the default for a particular setting doesn't
work for you.</p>
<p>You'll find an example file next to <code>invokeai.yaml</code> that shows the default values.</p>
<p>Some settings, like <a href="#model-marketplace-api-keys">Model Marketplace API Keys</a>, require the YAML
to be formatted correctly. Here is a <a href="https://circleci.com/blog/what-is-yaml-a-beginner-s-guide/">basic guide to YAML files</a>.</p>
<h4 id="custom-config-file-location">Custom Config File Location<a class="headerlink" href="#custom-config-file-location" title="Permanent link">#</a></h4>
<p>You can use any config file with the <code>--config</code> CLI arg. Pass in the path to the <code>invokeai.yaml</code> file you want to use.</p>
<p>Note that environment variables will trump any settings in the config file.</p>
<h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">#</a></h3>
<p>All settings may be set via environment variables by prefixing <code>INVOKEAI_</code>
to the variable name. For example, <code>INVOKEAI_HOST</code> would set the <code>host</code>
setting.</p>
<p>For non-primitive values, pass a JSON-encoded string:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">INVOKEAI_REMOTE_API_TOKENS</span><span class="o">=</span><span class="s1">&#39;[{&quot;url_regex&quot;:&quot;modelmarketplace&quot;, &quot;token&quot;: &quot;12345&quot;}]&#39;</span>
</code></pre></div>
<p>We suggest using <code>invokeai.yaml</code>, as it is more user-friendly.</p>
<h3 id="cli-args">CLI Args<a class="headerlink" href="#cli-args" title="Permanent link">#</a></h3>
<p>A subset of settings may be specified using CLI args:</p>
<ul>
<li><code>--root</code>: specify the root directory</li>
<li><code>--config</code>: override the default <code>invokeai.yaml</code> file location</li>
</ul>
<h3 id="low-vram-mode">Low-VRAM Mode<a class="headerlink" href="#low-vram-mode" title="Permanent link">#</a></h3>
<p>See the <a href="../features/low-vram/">Low-VRAM mode docs</a> for details on enabling this feature.</p>
<h3 id="all-settings">All Settings<a class="headerlink" href="#all-settings" title="Permanent link">#</a></h3>
<p>Following the table are additional explanations for certain settings.</p>
<!-- prettier-ignore-start -->


<div class="doc doc-object doc-class">



<a id="invokeai.app.services.config.config_default.InvokeAIAppConfig"></a>
    <div class="doc doc-contents first">




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.host">host</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>IP address to bind to. Use <code>0.0.0.0</code> to serve to your local network.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.port">port</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Port to bind to.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.allow_origins">allow_origins</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Allowed CORS origins.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.allow_credentials">allow_credentials</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Allow CORS credentials.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.allow_methods">allow_methods</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Methods allowed for CORS.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.allow_headers">allow_headers</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Headers allowed for CORS.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.ssl_certfile">ssl_certfile</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>SSL certificate file for HTTPS. See <a href="https://www.uvicorn.org/settings/#https">https://www.uvicorn.org/settings/#https</a>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.ssl_keyfile">ssl_keyfile</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>SSL key file for HTTPS. See <a href="https://www.uvicorn.org/settings/#https">https://www.uvicorn.org/settings/#https</a>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.log_tokenization">log_tokenization</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable logging of parsed prompt tokens.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.patchmatch">patchmatch</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable patchmatch inpaint code.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.models_dir">models_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the models directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.convert_cache_dir">convert_cache_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the converted models cache directory (DEPRECATED, but do not delete because it is needed for migration from previous versions).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.download_cache_dir">download_cache_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the directory that contains dynamically downloaded models.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.legacy_conf_dir">legacy_conf_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to directory of legacy checkpoint config files.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.db_dir">db_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to InvokeAI databases directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.outputs_dir">outputs_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to directory for outputs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.custom_nodes_dir">custom_nodes_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to directory for custom nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.style_presets_dir">style_presets_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to directory for style presets.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.workflow_thumbnails_dir">workflow_thumbnails_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to directory for workflow thumbnails.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.log_handlers">log_handlers</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Log handler. Valid options are "console", "file=<path>", "syslog=path|address:host:port", "http=<url>".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.log_format">log_format</span></code></td>
            <td>
                  <code><span title="invokeai.app.services.config.config_default.LOG_FORMAT">LOG_FORMAT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Log format. Use "plain" for text-only, "color" for colorized output, "legacy" for 2.3-style logging and "syslog" for syslog-style.<br>Valid values: <code>plain</code>, <code>color</code>, <code>syslog</code>, <code>legacy</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.log_level">log_level</span></code></td>
            <td>
                  <code><span title="invokeai.app.services.config.config_default.LOG_LEVEL">LOG_LEVEL</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emit logging messages at this level or higher.<br>Valid values: <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>critical</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.log_sql">log_sql</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Log SQL queries. <code>log_level</code> must be <code>debug</code> for this to do anything. Extremely verbose.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.log_level_network">log_level_network</span></code></td>
            <td>
                  <code><span title="invokeai.app.services.config.config_default.LOG_LEVEL">LOG_LEVEL</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Log level for network-related messages. 'info' and 'debug' are very verbose.<br>Valid values: <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>critical</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.use_memory_db">use_memory_db</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use in-memory database. Useful for development.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.dev_reload">dev_reload</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Automatically reload when Python sources are changed. Does not reload node definitions.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.profile_graphs">profile_graphs</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable graph profiling using <code>cProfile</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.profile_prefix">profile_prefix</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional prefix for profile output files.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.profiles_dir">profiles_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to profiles output directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.max_cache_ram_gb">max_cache_ram_gb</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum amount of CPU RAM to use for model caching in GB. If unset, the limit will be configured based on the available RAM. In most cases, it is recommended to leave this unset.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.max_cache_vram_gb">max_cache_vram_gb</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The amount of VRAM to use for model caching in GB. If unset, the limit will be configured based on the available VRAM and the device_working_mem_gb. In most cases, it is recommended to leave this unset.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.log_memory_usage">log_memory_usage</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, a memory snapshot will be captured before and after every model cache operation, and the result will be logged (at debug level). There is a time cost to capturing the memory snapshots, so it is recommended to only enable this feature if you are actively inspecting the model cache's behaviour.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.device_working_mem_gb">device_working_mem_gb</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The amount of working memory to keep available on the compute device (in GB). Has no effect if running on CPU. If you are experiencing OOM errors, try increasing this value.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.enable_partial_loading">enable_partial_loading</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable partial loading of models. This enables models to run with reduced VRAM requirements (at the cost of slower speed) by streaming the model from RAM to VRAM as its used. In some edge cases, partial loading can cause models to run more slowly if they were previously being fully loaded into VRAM.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.keep_ram_copy_of_weights">keep_ram_copy_of_weights</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to keep a full RAM copy of a model's weights when the model is loaded in VRAM. Keeping a RAM copy increases average RAM usage, but speeds up model switching and LoRA patching (assuming there is sufficient RAM). Set this to False if RAM pressure is consistently high.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.ram">ram</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DEPRECATED: This setting is no longer used. It has been replaced by <code>max_cache_ram_gb</code>, but most users will not need to use this config since automatic cache size limits should work well in most cases. This config setting will be removed once the new model cache behavior is stable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.vram">vram</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DEPRECATED: This setting is no longer used. It has been replaced by <code>max_cache_vram_gb</code>, but most users will not need to use this config since automatic cache size limits should work well in most cases. This config setting will be removed once the new model cache behavior is stable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.lazy_offload">lazy_offload</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DEPRECATED: This setting is no longer used. Lazy-offloading is enabled by default. This config setting will be removed once the new model cache behavior is stable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.pytorch_cuda_alloc_conf">pytorch_cuda_alloc_conf</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configure the Torch CUDA memory allocator. This will impact peak reserved VRAM usage and performance. Setting to "backend:cudaMallocAsync" works well on many systems. The optimal configuration is highly dependent on the system configuration (device type, VRAM, CUDA driver version, etc.), so must be tuned experimentally.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.device">device</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Preferred execution device. <code>auto</code> will choose the device depending on the hardware platform and the installed torch capabilities.<br>Valid values: <code>auto</code>, <code>cpu</code>, <code>cuda</code>, <code>mps</code>, <code>cuda:N</code> (where N is a device number)</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.precision">precision</span></code></td>
            <td>
                  <code><span title="invokeai.app.services.config.config_default.PRECISION">PRECISION</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Floating point precision. <code>float16</code> will consume half the memory of <code>float32</code> but produce slightly lower-quality images. The <code>auto</code> setting will guess the proper precision based on your video card and operating system.<br>Valid values: <code>auto</code>, <code>float16</code>, <code>bfloat16</code>, <code>float32</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.sequential_guidance">sequential_guidance</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to calculate guidance in serial instead of in parallel, lowering memory requirements.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.attention_type">attention_type</span></code></td>
            <td>
                  <code><span title="invokeai.app.services.config.config_default.ATTENTION_TYPE">ATTENTION_TYPE</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Attention type.<br>Valid values: <code>auto</code>, <code>normal</code>, <code>xformers</code>, <code>sliced</code>, <code>torch-sdp</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.attention_slice_size">attention_slice_size</span></code></td>
            <td>
                  <code><span title="invokeai.app.services.config.config_default.ATTENTION_SLICE_SIZE">ATTENTION_SLICE_SIZE</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Slice size, valid when attention_type=="sliced".<br>Valid values: <code>auto</code>, <code>balanced</code>, <code>max</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code>, <code>8</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.force_tiled_decode">force_tiled_decode</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to enable tiled VAE decode (reduces memory consumption with some performance penalty).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.pil_compress_level">pil_compress_level</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The compress_level setting of PIL.Image.save(), used for PNG encoding. All settings are lossless. 0 = no compression, 1 = fastest with slightly larger filesize, 9 = slowest with smallest filesize. 1 is typically the best setting.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.max_queue_size">max_queue_size</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of items in the session queue.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.clear_queue_on_startup">clear_queue_on_startup</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Empties session queue on startup.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.allow_nodes">allow_nodes</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="list">list</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of nodes to allow. Omit to allow all.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.deny_nodes">deny_nodes</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="list">list</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of nodes to deny. Omit to deny none.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.node_cache_size">node_cache_size</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How many cached nodes to keep in memory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.hashing_algorithm">hashing_algorithm</span></code></td>
            <td>
                  <code><span title="invokeai.backend.model_hash.model_hash.HASHING_ALGORITHMS">HASHING_ALGORITHMS</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Model hashing algorthim for model installs. 'blake3_multi' is best for SSDs. 'blake3_single' is best for spinning disk HDDs. 'random' disables hashing, instead assigning a UUID to models. Useful when using a memory db to reduce model installation time, or if you don't care about storing stable hashes for models. Alternatively, any other hashlib algorithm is accepted, though these are not nearly as performant as blake3.<br>Valid values: <code>blake3_multi</code>, <code>blake3_single</code>, <code>random</code>, <code>md5</code>, <code>sha1</code>, <code>sha224</code>, <code>sha256</code>, <code>sha384</code>, <code>sha512</code>, <code>blake2b</code>, <code>blake2s</code>, <code>sha3_224</code>, <code>sha3_256</code>, <code>sha3_384</code>, <code>sha3_512</code>, <code>shake_128</code>, <code>shake_256</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.remote_api_tokens">remote_api_tokens</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="list">list</span>[<span title="invokeai.app.services.config.config_default.URLRegexTokenPair">URLRegexTokenPair</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of regular expression and token pairs used when downloading models from URLs. The download URL is tested against the regex, and if it matches, the token is provided in as a Bearer token.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.scan_models_on_startup">scan_models_on_startup</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scan the models directory on startup, registering orphaned models. This is typically only used in conjunction with <code>use_memory_db</code> for testing purposes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.unsafe_disable_picklescan">unsafe_disable_picklescan</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>UNSAFE. Disable the picklescan security check during model installation. Recommended only for development and testing purposes. This will allow arbitrary code execution during model installation, so should never be used in production.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="invokeai.app.services.config.config_default.InvokeAIAppConfig.allow_unknown_models">allow_unknown_models</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Allow installation of models that we are unable to identify. If enabled, models will be marked as <code>unknown</code> in the database, and will not have any metadata associated with them. If disabled, unknown models will be rejected during installation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
















  <div class="doc doc-children">












  </div>

    </div>

</div><!-- prettier-ignore-end -->

<h4 id="model-marketplace-api-keys">Model Marketplace API Keys<a class="headerlink" href="#model-marketplace-api-keys" title="Permanent link">#</a></h4>
<p>Some model marketplaces require an API key to download models. You can provide a URL pattern and appropriate token in your <code>invokeai.yaml</code> file to provide that API key.</p>
<p>The pattern can be any valid regex (you may need to surround the pattern with quotes):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">remote_api_tokens</span><span class="p">:</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="c1"># Any URL containing `models.com` will automatically use `your_models_com_token`</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">url_regex</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">models.com</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">your_models_com_token</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span><span class="c1"># Any URL matching this contrived regex will use `some_other_token`</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">url_regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^[a-z]{3}whatever.*\.com$&#39;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_other_token</span>
</code></pre></div>
<p>The provided token will be added as a <code>Bearer</code> token to the network requests to download the model files. As far as we know, this works for all model marketplaces that require authorization.</p>
<div class="admonition tip">
<p class="admonition-title">HuggingFace Models</p>
<p>If you get an error when installing a HF model using a URL instead of repo id, you may need to <a href="https://huggingface.co/settings/tokens">set up a HF API token</a> and add an entry for it under <code>remote_api_tokens</code>. Use <code>huggingface.co</code> for <code>url_regex</code>.</p>
</div>
<h4 id="model-hashing">Model Hashing<a class="headerlink" href="#model-hashing" title="Permanent link">#</a></h4>
<p>Models are hashed during installation, providing a stable identifier for models across all platforms. Hashing is a one-time operation.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">hashing_algorithm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">blake3_single</span><span class="w"> </span><span class="c1"># default value</span>
</code></pre></div>
<p>You might want to change this setting, depending on your system:</p>
<ul>
<li><code>blake3_single</code> (default): Single-threaded - best for spinning HDDs, still OK for SSDs</li>
<li><code>blake3_multi</code>: Parallelized, memory-mapped implementation - best for SSDs, terrible for spinning disks</li>
<li><code>random</code>: Skip hashing entirely - fastest but of course no hash</li>
</ul>
<p>During the first startup after upgrading to v4, all of your models will be hashed. This can take a few minutes.</p>
<p>Most common algorithms are supported, like <code>md5</code>, <code>sha256</code>, and <code>sha512</code>. These are typically much, much slower than either of the BLAKE3 variants.</p>
<h4 id="path-settings">Path Settings<a class="headerlink" href="#path-settings" title="Permanent link">#</a></h4>
<p>These options set the paths of various directories and files used by InvokeAI. Any user-defined paths should be absolute paths.</p>
<h4 id="logging">Logging<a class="headerlink" href="#logging" title="Permanent link">#</a></h4>
<p>Several different log handler destinations are available, and multiple destinations are supported by providing a list:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">log_handlers</span><span class="p">:</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">console</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">syslog=localhost</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file=/var/log/invokeai.log</span>
</code></pre></div>
<ul>
<li>
<p><code>console</code> is the default. It prints log messages to the command-line window from which InvokeAI was launched.</p>
</li>
<li>
<p><code>syslog</code> is only available on Linux and Macintosh systems. It uses
  the operating system's "syslog" facility to write log file entries
  locally or to a remote logging machine. <code>syslog</code> offers a variety
  of configuration options:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="l l-Scalar l-Scalar-Plain">syslog=/dev/log`      - log to the /dev/log device</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="l l-Scalar l-Scalar-Plain">syslog=localhost`     - log to the network logger running on the local machine</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="l l-Scalar l-Scalar-Plain">syslog=localhost:512` - same as above, but using a non-standard port</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="l l-Scalar l-Scalar-Plain">syslog=fredserver,facility=LOG_USER,socktype=SOCK_DRAM`</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="l l-Scalar l-Scalar-Plain">- Log to LAN-connected server &quot;fredserver&quot; using the facility LOG_USER and datagram packets.</span>
</code></pre></div>
<ul>
<li><code>http</code> can be used to log to a remote web server. The server must be
  properly configured to receive and act on log messages. The option
  accepts the URL to the web server, and a <code>method</code> argument
  indicating whether the message should be submitted using the GET or
  POST method.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="l l-Scalar l-Scalar-Plain">http=http://my.server/path/to/logger,method=POST</span>
</code></pre></div>
<p>The <code>log_format</code> option provides several alternative formats:</p>
<ul>
<li><code>color</code> - default format providing time, date and a message, using text colors to distinguish different log severities</li>
<li><code>plain</code> - same as above, but monochrome text only</li>
<li><code>syslog</code> - the log level and error message only, allowing the syslog system to attach the time and date</li>
<li><code>legacy</code> - a format similar to the one used by the legacy 2.3 InvokeAI releases.</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 27, 2025 18:42:09 UTC">October 27, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 27, 2025 18:42:09 UTC">October 27, 2025</span>
  </span>

    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022-2024 InvokeAI Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.indexes", "navigation.path", "search.highlight", "search.suggest", "toc.integrate"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>