{
  "name": "Inpaint - CogView4",
  "author": "",
  "description": "Sample workflow for inpainting using CogView4.",
  "version": "",
  "contact": "",
  "tags": "CogView4, inpainting",
  "notes": "",
  "exposedFields": [],
  "meta": {
    "category": "default",
    "version": "3.0.0"
  },
  "id": "default_cb02ada6-6969-4a95-8e9e-9737289ed6b1",
  "form": {
    "elements": {
      "container-9Zn4cXENko": {
        "id": "container-9Zn4cXENko",
        "data": {
          "layout": "column",
          "children": []
        },
        "type": "container"
      }
    },
    "rootElementId": "container-9Zn4cXENko"
  },
  "nodes": [
    {
      "id": "alpha_to_mask:rYDvq1UfqS",
      "type": "invocation",
      "data": {
        "id": "alpha_to_mask:rYDvq1UfqS",
        "version": "1.2.2",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "tomask",
        "inputs": {
          "board": {
            "name": "board",
            "label": "",
            "description": ""
          },
          "metadata": {
            "name": "metadata",
            "label": "",
            "description": ""
          },
          "image": {
            "name": "image",
            "label": "",
            "description": "",
            "value": {
              "image_name": "de496382-3651-4720-a4cc-a62d2f81b6eb.png"
            }
          },
          "invert": {
            "name": "invert",
            "label": "",
            "description": "",
            "value": true
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": true
      },
      "position": {
        "x": 209.18824771240952,
        "y": 1212.6294790983438
      }
    },
    {
      "id": "create_gradient_mask:Wftx47QX1r",
      "type": "invocation",
      "data": {
        "id": "create_gradient_mask:Wftx47QX1r",
        "version": "1.2.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "create_gradient_mask",
        "inputs": {
          "mask": {
            "name": "mask",
            "label": "",
            "description": ""
          },
          "edge_radius": {
            "name": "edge_radius",
            "label": "",
            "description": "",
            "value": 16
          },
          "coherence_mode": {
            "name": "coherence_mode",
            "label": "",
            "description": "",
            "value": "Gaussian Blur"
          },
          "minimum_denoise": {
            "name": "minimum_denoise",
            "label": "",
            "description": "",
            "value": 0
          },
          "image": {
            "name": "image",
            "label": "",
            "description": "",
            "value": {
              "image_name": "f1d5ab22-8a0c-4151-82fd-cc25709997f3.png"
            }
          },
          "unet": {
            "name": "unet",
            "label": "",
            "description": ""
          },
          "vae": {
            "name": "vae",
            "label": "",
            "description": ""
          },
          "tiled": {
            "name": "tiled",
            "label": "",
            "description": "",
            "value": false
          },
          "fp32": {
            "name": "fp32",
            "label": "",
            "description": "",
            "value": false
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": true
      },
      "position": {
        "x": 676.7787531740537,
        "y": 1105.5338437507535
      }
    },
    {
      "id": "canvas_output:4x9wwgI6iP",
      "type": "invocation",
      "data": {
        "id": "canvas_output:4x9wwgI6iP",
        "version": "1.0.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "canvas_v2_mask_and_crop",
        "inputs": {
          "board": {
            "name": "board",
            "label": "",
            "description": ""
          },
          "metadata": {
            "name": "metadata",
            "label": "",
            "description": ""
          },
          "source_image": {
            "name": "source_image",
            "label": "",
            "description": "",
            "value": {
              "image_name": "f1d5ab22-8a0c-4151-82fd-cc25709997f3.png"
            }
          },
          "generated_image": {
            "name": "generated_image",
            "label": "",
            "description": ""
          },
          "mask": {
            "name": "mask",
            "label": "",
            "description": ""
          },
          "mask_blur": {
            "name": "mask_blur",
            "label": "",
            "description": "",
            "value": 16
          }
        },
        "isOpen": true,
        "isIntermediate": false,
        "useCache": false
      },
      "position": {
        "x": 2237.553568892046,
        "y": 857.3227272727265
      }
    },
    {
      "id": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
      "type": "invocation",
      "data": {
        "id": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
        "version": "1.0.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "cogview4_denoise",
        "inputs": {
          "board": {
            "name": "board",
            "label": "",
            "description": "",
            "value": "auto"
          },
          "metadata": {
            "name": "metadata",
            "label": "",
            "description": ""
          },
          "latents": {
            "name": "latents",
            "label": "",
            "description": ""
          },
          "denoise_mask": {
            "name": "denoise_mask",
            "label": "",
            "description": ""
          },
          "denoising_start": {
            "name": "denoising_start",
            "label": "",
            "description": "",
            "value": 0.3
          },
          "denoising_end": {
            "name": "denoising_end",
            "label": "",
            "description": "",
            "value": 1
          },
          "transformer": {
            "name": "transformer",
            "label": "",
            "description": ""
          },
          "positive_conditioning": {
            "name": "positive_conditioning",
            "label": "",
            "description": ""
          },
          "negative_conditioning": {
            "name": "negative_conditioning",
            "label": "",
            "description": ""
          },
          "cfg_scale": {
            "name": "cfg_scale",
            "label": "",
            "description": "",
            "value": 4
          },
          "width": {
            "name": "width",
            "label": "",
            "description": "",
            "value": 1024
          },
          "height": {
            "name": "height",
            "label": "",
            "description": "",
            "value": 1024
          },
          "steps": {
            "name": "steps",
            "label": "",
            "description": "",
            "value": 50
          },
          "seed": {
            "name": "seed",
            "label": "",
            "description": "",
            "value": 2
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": true
      },
      "position": {
        "x": 1243.085838058865,
        "y": 654.157914870177
      }
    },
    {
      "id": "e7b77bca-6d44-41e1-a4e4-998ccdec2fe2",
      "type": "invocation",
      "data": {
        "id": "e7b77bca-6d44-41e1-a4e4-998ccdec2fe2",
        "version": "1.0.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "cogview4_model_loader",
        "inputs": {
          "model": {
            "name": "model",
            "label": ""
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": true
      },
      "position": {
        "x": -400,
        "y": 625
      }
    },
    {
      "id": "4a95f2ff-666c-4f63-8e23-e223153d7e44",
      "type": "invocation",
      "data": {
        "id": "4a95f2ff-666c-4f63-8e23-e223153d7e44",
        "version": "1.0.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "cogview4_i2l",
        "inputs": {
          "board": {
            "name": "board",
            "label": "",
            "description": "",
            "value": "auto"
          },
          "metadata": {
            "name": "metadata",
            "label": "",
            "description": ""
          },
          "image": {
            "name": "image",
            "label": "",
            "description": "",
            "value": {
              "image_name": "e991c2ec-9dd8-4f79-ac9b-93ae9c718759.png"
            }
          },
          "vae": {
            "name": "vae",
            "label": "",
            "description": ""
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": true
      },
      "position": {
        "x": 260.30967112662347,
        "y": 740.0833038475909
      }
    },
    {
      "id": "b6afc3c7-33e8-41f0-a693-a42074e22617",
      "type": "invocation",
      "data": {
        "id": "b6afc3c7-33e8-41f0-a693-a42074e22617",
        "version": "1.0.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "cogview4_l2i",
        "inputs": {
          "board": {
            "name": "board",
            "label": "",
            "description": "",
            "value": "auto"
          },
          "metadata": {
            "name": "metadata",
            "label": "",
            "description": ""
          },
          "latents": {
            "name": "latents",
            "label": "",
            "description": ""
          },
          "vae": {
            "name": "vae",
            "label": "",
            "description": ""
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": false
      },
      "position": {
        "x": 1747.6367279032563,
        "y": 775.6628063782706
      }
    },
    {
      "id": "9e0cd39b-5656-4730-8f9f-e1dfd07949d9",
      "type": "invocation",
      "data": {
        "id": "9e0cd39b-5656-4730-8f9f-e1dfd07949d9",
        "version": "1.0.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "cogview4_text_encoder",
        "inputs": {
          "prompt": {
            "name": "prompt",
            "label": "",
            "description": "",
            "value": "A stuffed gnome at the beach holding a banana."
          },
          "glm_encoder": {
            "name": "glm_encoder",
            "label": "",
            "description": ""
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": true
      },
      "position": {
        "x": 426.03223708874475,
        "y": 296.99746578872583
      }
    },
    {
      "id": "9bc948b9-ec05-4518-8e27-52d623bda9b1",
      "type": "invocation",
      "data": {
        "id": "9bc948b9-ec05-4518-8e27-52d623bda9b1",
        "version": "1.0.0",
        "nodePack": "invokeai",
        "label": "",
        "notes": "",
        "type": "cogview4_text_encoder",
        "inputs": {
          "prompt": {
            "name": "prompt",
            "label": "",
            "description": "",
            "value": ""
          },
          "glm_encoder": {
            "name": "glm_encoder",
            "label": "",
            "description": ""
          }
        },
        "isOpen": true,
        "isIntermediate": true,
        "useCache": true
      },
      "position": {
        "x": 392.10068949760023,
        "y": 504.5273455806512
      }
    }
  ],
  "edges": [
    {
      "id": "4d31b4ad-0f3c-4931-b26d-56ad931c63cf",
      "type": "default",
      "source": "alpha_to_mask:rYDvq1UfqS",
      "target": "create_gradient_mask:Wftx47QX1r",
      "sourceHandle": "image",
      "targetHandle": "mask"
    },
    {
      "id": "c51673a2-7fc7-4559-a32c-ddd59197a986",
      "type": "default",
      "source": "create_gradient_mask:Wftx47QX1r",
      "target": "canvas_output:4x9wwgI6iP",
      "sourceHandle": "expanded_mask_area",
      "targetHandle": "mask"
    },
    {
      "id": "reactflow__edge-e7b77bca-6d44-41e1-a4e4-998ccdec2fe2transformer-c4b797eb-7975-47fc-a3f5-56f65859ab4atransformer",
      "type": "default",
      "source": "e7b77bca-6d44-41e1-a4e4-998ccdec2fe2",
      "target": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
      "sourceHandle": "transformer",
      "targetHandle": "transformer"
    },
    {
      "id": "reactflow__edge-e7b77bca-6d44-41e1-a4e4-998ccdec2fe2vae-4a95f2ff-666c-4f63-8e23-e223153d7e44vae",
      "type": "default",
      "source": "e7b77bca-6d44-41e1-a4e4-998ccdec2fe2",
      "target": "4a95f2ff-666c-4f63-8e23-e223153d7e44",
      "sourceHandle": "vae",
      "targetHandle": "vae"
    },
    {
      "id": "reactflow__edge-c4b797eb-7975-47fc-a3f5-56f65859ab4alatents-b6afc3c7-33e8-41f0-a693-a42074e22617latents",
      "type": "default",
      "source": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
      "target": "b6afc3c7-33e8-41f0-a693-a42074e22617",
      "sourceHandle": "latents",
      "targetHandle": "latents"
    },
    {
      "id": "reactflow__edge-b6afc3c7-33e8-41f0-a693-a42074e22617image-canvas_output:4x9wwgI6iPgenerated_image",
      "type": "default",
      "source": "b6afc3c7-33e8-41f0-a693-a42074e22617",
      "target": "canvas_output:4x9wwgI6iP",
      "sourceHandle": "image",
      "targetHandle": "generated_image"
    },
    {
      "id": "reactflow__edge-e7b77bca-6d44-41e1-a4e4-998ccdec2fe2vae-b6afc3c7-33e8-41f0-a693-a42074e22617vae",
      "type": "default",
      "source": "e7b77bca-6d44-41e1-a4e4-998ccdec2fe2",
      "target": "b6afc3c7-33e8-41f0-a693-a42074e22617",
      "sourceHandle": "vae",
      "targetHandle": "vae"
    },
    {
      "id": "reactflow__edge-e7b77bca-6d44-41e1-a4e4-998ccdec2fe2glm_encoder-9e0cd39b-5656-4730-8f9f-e1dfd07949d9glm_encoder",
      "type": "default",
      "source": "e7b77bca-6d44-41e1-a4e4-998ccdec2fe2",
      "target": "9e0cd39b-5656-4730-8f9f-e1dfd07949d9",
      "sourceHandle": "glm_encoder",
      "targetHandle": "glm_encoder"
    },
    {
      "id": "reactflow__edge-e7b77bca-6d44-41e1-a4e4-998ccdec2fe2glm_encoder-9bc948b9-ec05-4518-8e27-52d623bda9b1glm_encoder",
      "type": "default",
      "source": "e7b77bca-6d44-41e1-a4e4-998ccdec2fe2",
      "target": "9bc948b9-ec05-4518-8e27-52d623bda9b1",
      "sourceHandle": "glm_encoder",
      "targetHandle": "glm_encoder"
    },
    {
      "id": "reactflow__edge-9bc948b9-ec05-4518-8e27-52d623bda9b1conditioning-c4b797eb-7975-47fc-a3f5-56f65859ab4anegative_conditioning",
      "type": "default",
      "source": "9bc948b9-ec05-4518-8e27-52d623bda9b1",
      "target": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
      "sourceHandle": "conditioning",
      "targetHandle": "negative_conditioning"
    },
    {
      "id": "reactflow__edge-9e0cd39b-5656-4730-8f9f-e1dfd07949d9conditioning-c4b797eb-7975-47fc-a3f5-56f65859ab4apositive_conditioning",
      "type": "default",
      "source": "9e0cd39b-5656-4730-8f9f-e1dfd07949d9",
      "target": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
      "sourceHandle": "conditioning",
      "targetHandle": "positive_conditioning"
    },
    {
      "id": "reactflow__edge-4a95f2ff-666c-4f63-8e23-e223153d7e44latents-c4b797eb-7975-47fc-a3f5-56f65859ab4alatents",
      "type": "default",
      "source": "4a95f2ff-666c-4f63-8e23-e223153d7e44",
      "target": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
      "sourceHandle": "latents",
      "targetHandle": "latents"
    },
    {
      "id": "reactflow__edge-create_gradient_mask:Wftx47QX1rdenoise_mask-c4b797eb-7975-47fc-a3f5-56f65859ab4adenoise_mask",
      "type": "default",
      "source": "create_gradient_mask:Wftx47QX1r",
      "target": "c4b797eb-7975-47fc-a3f5-56f65859ab4a",
      "sourceHandle": "denoise_mask",
      "targetHandle": "denoise_mask"
    }
  ]
}
