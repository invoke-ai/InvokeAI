import{t as fv,b as VI,r as UI,i as GI,a as qI,c as YI,d as t3,e as n3,f as r3,g as KI,h as XI,j as QI,k as ZI,l as JI,m as eO,n as tO,o as nO,s as rO,p as oO,q as p,u as nt,v as i,I as mo,w as lr,x as Un,y as Be,z as It,A as _u,B as bt,C as ju,D as ns,E as To,F as Xr,G as xr,H as sO,J as _0,K as aO,L as Ga,M as Jc,N as Ki,O as on,P as ba,Q as nh,R as j0,S as Tl,T as E0,U as ac,_ as tr,V as iO,W as z,X as o3,Y as s3,Z as hx,$ as a3,a0 as rh,a1 as I0,a2 as ic,a3 as lO,a4 as cO,a5 as uO,a6 as dO,a7 as i3,a8 as l3,a9 as oh,aa as Mf,ab as fO,ac as pO,ad as og,ae as mx,af as c3,ag as u3,ah as Xi,ai as gx,aj as vx,ak as hO,al as mO,am as gO,an as vO,ao as yO,ap as sg,aq as pl,ar as ag,as as bO,at as xO,au as SO,av as O0,aw as sh,ax as Tf,ay as wO,az as d3,aA as f3,aB as CO,aC as Eu,aD as R0,aE as PO,aF as kO,aG as _O,aH as jO,aI as EO,aJ as IO,aK as OO,aL as yx,aM as Ue,aN as q,aO as sa,aP as Pe,aQ as ao,aR as Dr,aS as se,aT as B,aU as Iu,aV as ye,aW as p3,aX as Gn,aY as h3,aZ as bo,a_ as at,a$ as Ou,b0 as ah,b1 as Ii,b2 as RO,b3 as Ru,b4 as MO,b5 as Cf,b6 as ih,b7 as Me,b8 as Vl,b9 as Md,ba as Td,bb as eu,bc as tu,bd as bx,be as Df,bf as xx,bg as Af,bh as Sx,bi as pv,bj as wx,bk as hv,bl as Cx,bm as Nf,bn as Px,bo as zf,bp as kx,bq as $f,br as _x,bs as Lf,bt as TO,bu as Ff,bv as wn,bw as Rt,bx as m3,by as M0,bz as DO,bA as g3,bB as AO,bC as NO,bD as v3,bE as y3,bF as lh,bG as _i,bH as zO,bI as $O,bJ as mv,bK as b3,bL as LO,bM as T0,bN as FO,bO as BO,bP as HO,bQ as hl,bR as Ws,bS as x3,bT as S3,bU as WO,bV as VO,bW as UO,bX as GO,bY as D0,bZ as $i,b_ as jx,b$ as w3,c0 as Ex,c1 as Qa,c2 as Ix,c3 as qO,c4 as Ox,c5 as YO,c6 as vt,c7 as Bf,c8 as KO,c9 as C3,ca as lc,cb as Wt,cc as rs,cd as nr,ce as gv,cf as Vs,cg as ar,ch as pr,ci as P3,cj as XO,ck as k3,cl as Rx,cm as QO,cn as ZO,co as JO,cp as e8,cq as t8,cr as n8,cs as A0,ct as r8,cu as o8,cv as Mx,cw as Tx,cx as Dx,cy as Ax,cz as s8,cA as a8,cB as _3,cC as cu,cD as j3,cE as Nx,cF as i8,cG as l8,cH as c8,cI as u8,cJ as d8,cK as f8,cL as p8,cM as Cr,cN as E3,cO as h8,cP as I3,cQ as O3,cR as m8,cS as zx,cT as g8,cU as v8,cV as y8,cW as b8,cX as x8,cY as S8,cZ as w8,c_ as C8,c$ as P8,d0 as k8,d1 as _8,d2 as j8,d3 as E8,d4 as I8,d5 as O8,d6 as R8,d7 as M8,d8 as T8,d9 as D8,da as A8,db as N8,dc as z8,dd as Mu,de as $8,df as L8,dg as Tc,dh as oi,di as F8,dj as B8,dk as H8,dl as W8,dm as V8,dn as U8,dp as R3,dq as G8,dr as q8,ds as os,dt as Y8,du as $x,dv as Lx,dw as qa,dx as K8,dy as X8,dz as Q8,dA as M3,dB as Z8,dC as J8,dD as eR,dE as N0,dF as z0,dG as Fx,dH as tR,dI as Bx,dJ as Do,dK as nR,dL as rR,dM as Hx,dN as Wx,dO as oR,dP as Vx,dQ as sR,dR as aR,dS as iR,dT as lR,dU as cR,dV as uR,dW as T3,dX as D3,dY as A3,dZ as N3,d_ as z3,d$ as Tu,e0 as Ux,e1 as ig,e2 as dR,e3 as fR,e4 as $3,e5 as L3,e6 as pR,e7 as Gx,e8 as hR,e9 as mR,ea as gR,eb as Oo,ec as Hf,ed as vR,ee as qx,ef as F3,eg as yR,eh as Yx,ei as B3,ej as $0,ek as Cs,el as bR,em as H3,en as Kx,eo as xR,ep as SR,eq as wR,er as CR,es as PR,et as kR,eu as _R,ev as jR,ew as ER,ex as IR,ey as OR,ez as RR,eA as Xx,eB as MR,eC as Qx,eD as Pf,eE as TR,eF as en,eG as Wf,eH as W3,eI as Vf,eJ as DR,eK as AR,eL as Hs,eM as V3,eN as L0,eO as Du,eP as NR,eQ as zR,eR as $R,eS as pa,eT as U3,eU as LR,eV as FR,eW as G3,eX as BR,eY as HR,eZ as WR,e_ as VR,e$ as UR,f0 as GR,f1 as qR,f2 as YR,f3 as KR,f4 as XR,f5 as QR,f6 as Zx,f7 as ZR,f8 as JR,f9 as e7,fa as t7,fb as n7,fc as r7,fd as lg,fe as uu,ff as Dd,fg as Jx,fh as cg,fi as ug,fj as Ad,fk as e2,fl as vv,fm as o7,fn as s7,fo as a7,fp as i7,fq as l7,fr as Uf,fs as q3,ft as Y3,fu as c7,fv as u7,fw as K3,fx as X3,fy as Q3,fz as Z3,fA as J3,fB as e5,fC as t5,fD as n5,fE as Dl,fF as Al,fG as r5,fH as o5,fI as d7,fJ as s5,fK as a5,fL as i5,fM as l5,fN as c5,fO as u5,fP as d5,fQ as F0,fR as f7,fS as t2,fT as p7,fU as h7,fV as Gf,fW as n2,fX as r2,fY as o2,fZ as s2,f_ as m7,f$ as g7,g0 as a2,g1 as v7,g2 as y7,g3 as b7,g4 as x7,g5 as S7,g6 as w7}from"./index-43f18910.js";import{u as f5,a as xa,b as C7,r as Le,f as P7,g as i2,c as At,d as _r}from"./MantineProvider-5ddc8363.js";function k7(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var l2=1/0,_7=17976931348623157e292;function dg(e){if(!e)return e===0?e:0;if(e=fv(e),e===l2||e===-l2){var t=e<0?-1:1;return t*_7}return e===e?e:0}var j7=4;function c2(e){return VI(e,j7)}var E7=function(){return UI.Date.now()};const fg=E7;var I7="Expected a function",O7=Math.max,R7=Math.min;function M7(e,t,n){var r,o,s,a,u,d,f=0,h=!1,m=!1,v=!0;if(typeof e!="function")throw new TypeError(I7);t=fv(t)||0,GI(n)&&(h=!!n.leading,m="maxWait"in n,s=m?O7(fv(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v);function b(O){var R=r,M=o;return r=o=void 0,f=O,a=e.apply(M,R),a}function w(O){return f=O,u=setTimeout(P,t),h?b(O):a}function S(O){var R=O-d,M=O-f,D=t-R;return m?R7(D,s-M):D}function C(O){var R=O-d,M=O-f;return d===void 0||R>=t||R<0||m&&M>=s}function P(){var O=fg();if(C(O))return k(O);u=setTimeout(P,S(O))}function k(O){return u=void 0,v&&r?b(O):(r=o=void 0,a)}function _(){u!==void 0&&clearTimeout(u),f=0,r=d=o=u=void 0}function E(){return u===void 0?a:k(fg())}function I(){var O=fg(),R=C(O);if(r=arguments,o=this,d=O,R){if(u===void 0)return w(d);if(m)return clearTimeout(u),u=setTimeout(P,t),b(d)}return u===void 0&&(u=setTimeout(P,t)),a}return I.cancel=_,I.flush=E,I}function T7(e,t){var n=-1,r=qI(e)?Array(e.length):[];return YI(e,function(o,s,a){r[++n]=t(o,s,a)}),r}function qs(e,t){var n=t3(e)?n3:T7;return n(e,r3(t))}var D7="[object Number]";function ml(e){return typeof e=="number"||KI(e)&&XI(e)==D7}var A7=Array.prototype,N7=A7.splice;function z7(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==s){var s=o;QI(o)?N7.call(e,o,1):ZI(e,o)}}return e}var $7=Math.ceil,L7=Math.max;function F7(e,t,n,r){for(var o=-1,s=L7($7((t-e)/(n||1)),0),a=Array(s);s--;)a[r?s:++o]=e,e+=n;return a}function B7(e){return function(t,n,r){return r&&typeof r!="number"&&JI(t,n,r)&&(n=r=void 0),t=dg(t),n===void 0?(n=t,t=0):n=dg(n),r=r===void 0?t<n?1:-1:dg(r),F7(t,n,r,e)}}var H7=B7();const u2=H7;function W7(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],s=e.length;for(t=r3(t);++r<s;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return z7(e,o),n}function p5(e){return t3(e)?n3(e,eO):tO(e)?[e]:nO(rO(oO(e)))}function B0(e){const t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function cc(e){const{viewBox:t="0 0 24 24",d:n,displayName:r,defaultProps:o={}}=e,s=p.Children.toArray(e.path),a=nt((u,d)=>i.jsx(mo,{ref:d,viewBox:t,...o,...u,children:s.length?s:i.jsx("path",{fill:"currentColor",d:n})}));return a.displayName=r,a}var V7=Object.defineProperty,U7=(e,t,n)=>t in e?V7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dr=(e,t,n)=>(U7(e,typeof t!="symbol"?t+"":t,n),n);function d2(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var G7=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function f2(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function p2(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var yv=typeof window<"u"?p.useLayoutEffect:p.useEffect,qf=e=>e,q7=class{constructor(){dr(this,"descendants",new Map),dr(this,"register",e=>{if(e!=null)return G7(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),dr(this,"unregister",e=>{this.descendants.delete(e);const t=d2(Array.from(this.descendants.keys()));this.assignIndex(t)}),dr(this,"destroy",()=>{this.descendants.clear()}),dr(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),dr(this,"count",()=>this.descendants.size),dr(this,"enabledCount",()=>this.enabledValues().length),dr(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),dr(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),dr(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),dr(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),dr(this,"first",()=>this.item(0)),dr(this,"firstEnabled",()=>this.enabledItem(0)),dr(this,"last",()=>this.item(this.descendants.size-1)),dr(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),dr(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),dr(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),dr(this,"next",(e,t=!0)=>{const n=f2(e,this.count(),t);return this.item(n)}),dr(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=f2(r,this.enabledCount(),t);return this.enabledItem(o)}),dr(this,"prev",(e,t=!0)=>{const n=p2(e,this.count()-1,t);return this.item(n)}),dr(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=p2(r,this.enabledCount()-1,t);return this.enabledItem(o)}),dr(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=d2(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const o={node:e,index:-1,...t};this.descendants.set(e,o),this.assignIndex(r)})}};function Y7(){const e=p.useRef(new q7);return yv(()=>()=>e.current.destroy()),e.current}var[K7,h5]=lr({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function X7(e){const t=h5(),[n,r]=p.useState(-1),o=p.useRef(null);yv(()=>()=>{o.current&&t.unregister(o.current)},[]),yv(()=>{if(!o.current)return;const a=Number(o.current.dataset.index);n!=a&&!Number.isNaN(a)&&r(a)});const s=qf(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(o.current),register:Un(s,o)}}function H0(){return[qf(K7),()=>qf(h5()),()=>Y7(),o=>X7(o)]}var[Q7,ch]=lr({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[Z7,W0]=lr({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[J7,Sae,eM,tM]=H0(),Gc=nt(function(t,n){const{getButtonProps:r}=W0(),o=r(t,n),a={display:"flex",alignItems:"center",width:"100%",outline:0,...ch().button};return i.jsx(Be.button,{...o,className:It("chakra-accordion__button",t.className),__css:a})});Gc.displayName="AccordionButton";function nM(e){const{onChange:t,defaultIndex:n,index:r,allowMultiple:o,allowToggle:s,...a}=e;sM(e),aM(e);const u=eM(),[d,f]=p.useState(-1);p.useEffect(()=>()=>{f(-1)},[]);const[h,m]=_u({value:r,defaultValue(){return o?n??[]:n??-1},onChange:t});return{index:h,setIndex:m,htmlProps:a,getAccordionItemProps:b=>{let w=!1;return b!==null&&(w=Array.isArray(h)?h.includes(b):h===b),{isOpen:w,onChange:C=>{if(b!==null)if(o&&Array.isArray(h)){const P=C?h.concat(b):h.filter(k=>k!==b);m(P)}else C?m(b):s&&m(-1)}}},focusedIndex:d,setFocusedIndex:f,descendants:u}}var[rM,V0]=lr({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function oM(e){const{isDisabled:t,isFocusable:n,id:r,...o}=e,{getAccordionItemProps:s,setFocusedIndex:a}=V0(),u=p.useRef(null),d=p.useId(),f=r??d,h=`accordion-button-${f}`,m=`accordion-panel-${f}`;iM(e);const{register:v,index:b,descendants:w}=tM({disabled:t&&!n}),{isOpen:S,onChange:C}=s(b===-1?null:b);lM({isOpen:S,isDisabled:t});const P=()=>{C==null||C(!0)},k=()=>{C==null||C(!1)},_=p.useCallback(()=>{C==null||C(!S),a(b)},[b,a,S,C]),E=p.useCallback(M=>{const $={ArrowDown:()=>{const A=w.nextEnabled(b);A==null||A.node.focus()},ArrowUp:()=>{const A=w.prevEnabled(b);A==null||A.node.focus()},Home:()=>{const A=w.firstEnabled();A==null||A.node.focus()},End:()=>{const A=w.lastEnabled();A==null||A.node.focus()}}[M.key];$&&(M.preventDefault(),$(M))},[w,b]),I=p.useCallback(()=>{a(b)},[a,b]),O=p.useCallback(function(D={},$=null){return{...D,type:"button",ref:Un(v,u,$),id:h,disabled:!!t,"aria-expanded":!!S,"aria-controls":m,onClick:bt(D.onClick,_),onFocus:bt(D.onFocus,I),onKeyDown:bt(D.onKeyDown,E)}},[h,t,S,_,I,E,m,v]),R=p.useCallback(function(D={},$=null){return{...D,ref:$,role:"region",id:m,"aria-labelledby":h,hidden:!S}},[h,S,m]);return{isOpen:S,isDisabled:t,isFocusable:n,onOpen:P,onClose:k,getButtonProps:O,getPanelProps:R,htmlProps:o}}function sM(e){const t=e.index||e.defaultIndex,n=t!=null&&!Array.isArray(t)&&e.allowMultiple;ju({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function aM(e){ju({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function iM(e){ju({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function lM(e){ju({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}function qc(e){const{isOpen:t,isDisabled:n}=W0(),{reduceMotion:r}=V0(),o=It("chakra-accordion__icon",e.className),s=ch(),a={opacity:n?.4:1,transform:t?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return i.jsx(mo,{viewBox:"0 0 24 24","aria-hidden":!0,className:o,__css:a,...e,children:i.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}qc.displayName="AccordionIcon";var Yc=nt(function(t,n){const{children:r,className:o}=t,{htmlProps:s,...a}=oM(t),d={...ch().container,overflowAnchor:"none"},f=p.useMemo(()=>a,[a]);return i.jsx(Z7,{value:f,children:i.jsx(Be.div,{ref:n,...s,className:It("chakra-accordion__item",o),__css:d,children:typeof r=="function"?r({isExpanded:!!a.isOpen,isDisabled:!!a.isDisabled}):r})})});Yc.displayName="AccordionItem";var ji={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Dc={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function bv(e){var t;switch((t=e==null?void 0:e.direction)!=null?t:"right"){case"right":return Dc.slideRight;case"left":return Dc.slideLeft;case"bottom":return Dc.slideDown;case"top":return Dc.slideUp;default:return Dc.slideRight}}var Oi={enter:{duration:.2,ease:ji.easeOut},exit:{duration:.1,ease:ji.easeIn}},gs={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},cM=e=>e!=null&&parseInt(e.toString(),10)>0,h2={exit:{height:{duration:.2,ease:ji.ease},opacity:{duration:.3,ease:ji.ease}},enter:{height:{duration:.3,ease:ji.ease},opacity:{duration:.4,ease:ji.ease}}},uM={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{...e&&{opacity:cM(t)?1:0},height:t,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:gs.exit(h2.exit,o)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{...e&&{opacity:1},height:t,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:gs.enter(h2.enter,o)}}},uh=p.forwardRef((e,t)=>{const{in:n,unmountOnExit:r,animateOpacity:o=!0,startingHeight:s=0,endingHeight:a="auto",style:u,className:d,transition:f,transitionEnd:h,...m}=e,[v,b]=p.useState(!1);p.useEffect(()=>{const k=setTimeout(()=>{b(!0)});return()=>clearTimeout(k)},[]),ju({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const w=parseFloat(s.toString())>0,S={startingHeight:s,endingHeight:a,animateOpacity:o,transition:v?f:{enter:{duration:0}},transitionEnd:{enter:h==null?void 0:h.enter,exit:r?h==null?void 0:h.exit:{...h==null?void 0:h.exit,display:w?"block":"none"}}},C=r?n:!0,P=n||r?"enter":"exit";return i.jsx(ns,{initial:!1,custom:S,children:C&&i.jsx(To.div,{ref:t,...m,className:It("chakra-collapse",d),style:{overflow:"hidden",display:"block",...u},custom:S,variants:uM,initial:r?"exit":!1,animate:P,exit:"exit"})})});uh.displayName="Collapse";var dM={enter:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:1,transition:(r=e==null?void 0:e.enter)!=null?r:gs.enter(Oi.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:0,transition:(r=e==null?void 0:e.exit)!=null?r:gs.exit(Oi.exit,n),transitionEnd:t==null?void 0:t.exit}}},m5={initial:"exit",animate:"enter",exit:"exit",variants:dM},fM=p.forwardRef(function(t,n){const{unmountOnExit:r,in:o,className:s,transition:a,transitionEnd:u,delay:d,...f}=t,h=o||r?"enter":"exit",m=r?o&&r:!0,v={transition:a,transitionEnd:u,delay:d};return i.jsx(ns,{custom:v,children:m&&i.jsx(To.div,{ref:n,className:It("chakra-fade",s),custom:v,...m5,animate:h,...f})})});fM.displayName="Fade";var pM={exit:({reverse:e,initialScale:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{opacity:0,...e?{scale:t,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:t,...r==null?void 0:r.exit}},transition:(s=n==null?void 0:n.exit)!=null?s:gs.exit(Oi.exit,o)}},enter:({transitionEnd:e,transition:t,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=t==null?void 0:t.enter)!=null?r:gs.enter(Oi.enter,n),transitionEnd:e==null?void 0:e.enter}}},g5={initial:"exit",animate:"enter",exit:"exit",variants:pM},hM=p.forwardRef(function(t,n){const{unmountOnExit:r,in:o,reverse:s=!0,initialScale:a=.95,className:u,transition:d,transitionEnd:f,delay:h,...m}=t,v=r?o&&r:!0,b=o||r?"enter":"exit",w={initialScale:a,reverse:s,transition:d,transitionEnd:f,delay:h};return i.jsx(ns,{custom:w,children:v&&i.jsx(To.div,{ref:n,className:It("chakra-offset-slide",u),...g5,animate:b,custom:w,...m})})});hM.displayName="ScaleFade";var mM={initial:({offsetX:e,offsetY:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{opacity:0,x:e,y:t,transition:(s=n==null?void 0:n.exit)!=null?s:gs.exit(Oi.exit,o),transitionEnd:r==null?void 0:r.exit}},enter:({transition:e,transitionEnd:t,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=e==null?void 0:e.enter)!=null?r:gs.enter(Oi.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({offsetY:e,offsetX:t,transition:n,transitionEnd:r,reverse:o,delay:s})=>{var a;const u={x:t,y:e};return{opacity:0,transition:(a=n==null?void 0:n.exit)!=null?a:gs.exit(Oi.exit,s),...o?{...u,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...u,...r==null?void 0:r.exit}}}}},xv={initial:"initial",animate:"enter",exit:"exit",variants:mM},gM=p.forwardRef(function(t,n){const{unmountOnExit:r,in:o,reverse:s=!0,className:a,offsetX:u=0,offsetY:d=8,transition:f,transitionEnd:h,delay:m,...v}=t,b=r?o&&r:!0,w=o||r?"enter":"exit",S={offsetX:u,offsetY:d,reverse:s,transition:f,transitionEnd:h,delay:m};return i.jsx(ns,{custom:S,children:b&&i.jsx(To.div,{ref:n,className:It("chakra-offset-slide",a),custom:S,...xv,animate:w,...v})})});gM.displayName="SlideFade";var m2={exit:{duration:.15,ease:ji.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},vM={exit:({direction:e,transition:t,transitionEnd:n,delay:r})=>{var o;const{exit:s}=bv({direction:e});return{...s,transition:(o=t==null?void 0:t.exit)!=null?o:gs.exit(m2.exit,r),transitionEnd:n==null?void 0:n.exit}},enter:({direction:e,transitionEnd:t,transition:n,delay:r})=>{var o;const{enter:s}=bv({direction:e});return{...s,transition:(o=n==null?void 0:n.enter)!=null?o:gs.enter(m2.enter,r),transitionEnd:t==null?void 0:t.enter}}},v5=p.forwardRef(function(t,n){const{direction:r="right",style:o,unmountOnExit:s,in:a,className:u,transition:d,transitionEnd:f,delay:h,motionProps:m,...v}=t,b=bv({direction:r}),w=Object.assign({position:"fixed"},b.position,o),S=s?a&&s:!0,C=a||s?"enter":"exit",P={transitionEnd:f,transition:d,direction:r,delay:h};return i.jsx(ns,{custom:P,children:S&&i.jsx(To.div,{...v,ref:n,initial:"exit",className:It("chakra-slide",u),animate:C,exit:"exit",custom:P,variants:vM,style:w,...m})})});v5.displayName="Slide";var Kc=nt(function(t,n){const{className:r,motionProps:o,...s}=t,{reduceMotion:a}=V0(),{getPanelProps:u,isOpen:d}=W0(),f=u(s,n),h=It("chakra-accordion__panel",r),m=ch();a||delete f.hidden;const v=i.jsx(Be.div,{...f,__css:m.panel,className:h});return a?v:i.jsx(uh,{in:d,...o,children:v})});Kc.displayName="AccordionPanel";var y5=nt(function({children:t,reduceMotion:n,...r},o){const s=Xr("Accordion",r),a=xr(r),{htmlProps:u,descendants:d,...f}=nM(a),h=p.useMemo(()=>({...f,reduceMotion:!!n}),[f,n]);return i.jsx(J7,{value:d,children:i.jsx(rM,{value:h,children:i.jsx(Q7,{value:s,children:i.jsx(Be.div,{ref:o,...u,className:It("chakra-accordion",r.className),__css:s.root,children:t})})})})});y5.displayName="Accordion";var yM={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},bM={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},br=nt(function(t,n){const{size:r,colorScheme:o,variant:s,className:a,spacing:u="0.5rem",isAttached:d,isDisabled:f,orientation:h="horizontal",...m}=t,v=It("chakra-button__group",a),b=p.useMemo(()=>({size:r,colorScheme:o,variant:s,isDisabled:f}),[r,o,s,f]);let w={display:"inline-flex",...d?yM[h]:bM[h](u)};const S=h==="vertical";return i.jsx(sO,{value:b,children:i.jsx(Be.div,{ref:n,role:"group",__css:w,className:v,"data-attached":d?"":void 0,"data-orientation":h,flexDir:S?"column":void 0,...m})})});br.displayName="ButtonGroup";var[wae,xM]=lr({name:"CheckboxGroupContext",strict:!1});function SM(e){const[t,n]=p.useState(e),[r,o]=p.useState(!1);return e!==t&&(o(!0),n(e)),r}function wM(e){return i.jsx(Be.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:i.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function CM(e){return i.jsx(Be.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:i.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function PM(e){const{isIndeterminate:t,isChecked:n,...r}=e,o=t?CM:wM;return n||t?i.jsx(Be.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:i.jsx(o,{...r})}):null}var[kM,_M]=lr({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),po=nt((e,t)=>{const n=Xr("FormError",e),r=xr(e),o=_0();return o!=null&&o.isInvalid?i.jsx(kM,{value:n,children:i.jsx(Be.div,{...o==null?void 0:o.getErrorMessageProps(r,t),className:It("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...n.text}})}):null});po.displayName="FormErrorMessage";var jM=nt((e,t)=>{const n=_M(),r=_0();if(!(r!=null&&r.isInvalid))return null;const o=It("chakra-form__error-icon",e.className);return i.jsx(mo,{ref:t,"aria-hidden":!0,...e,__css:n.icon,className:o,children:i.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});jM.displayName="FormErrorIcon";var U0={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},b5=Be("span",{baseStyle:U0});b5.displayName="VisuallyHidden";var EM=Be("input",{baseStyle:U0});EM.displayName="VisuallyHiddenInput";var g2=!1,Au=null,Li=!1,Sv=!1,wv=new Set;function G0(e,t){wv.forEach(n=>n(e,t))}var IM=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function OM(e){return!(e.metaKey||!IM&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function v2(e){Li=!0,OM(e)&&(Au="keyboard",G0("keyboard",e))}function gl(e){if(Au="pointer",e.type==="mousedown"||e.type==="pointerdown"){Li=!0;const t=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=t.matches(":focus-visible")}catch{}if(n)return;G0("pointer",e)}}function RM(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function MM(e){RM(e)&&(Li=!0,Au="virtual")}function TM(e){e.target===window||e.target===document||(!Li&&!Sv&&(Au="virtual",G0("virtual",e)),Li=!1,Sv=!1)}function DM(){Li=!1,Sv=!0}function y2(){return Au!=="pointer"}function AM(){if(typeof window>"u"||g2)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){Li=!0,e.apply(this,n)},document.addEventListener("keydown",v2,!0),document.addEventListener("keyup",v2,!0),document.addEventListener("click",MM,!0),window.addEventListener("focus",TM,!0),window.addEventListener("blur",DM,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",gl,!0),document.addEventListener("pointermove",gl,!0),document.addEventListener("pointerup",gl,!0)):(document.addEventListener("mousedown",gl,!0),document.addEventListener("mousemove",gl,!0),document.addEventListener("mouseup",gl,!0)),g2=!0}function x5(e){AM(),e(y2());const t=()=>e(y2());return wv.add(t),()=>{wv.delete(t)}}function NM(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function S5(e={}){const t=aO(e),{isDisabled:n,isReadOnly:r,isRequired:o,isInvalid:s,id:a,onBlur:u,onFocus:d,"aria-describedby":f}=t,{defaultChecked:h,isChecked:m,isFocusable:v,onChange:b,isIndeterminate:w,name:S,value:C,tabIndex:P=void 0,"aria-label":k,"aria-labelledby":_,"aria-invalid":E,...I}=e,O=NM(I,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),R=Ga(b),M=Ga(u),D=Ga(d),[$,A]=p.useState(!1),[G,L]=p.useState(!1),[F,W]=p.useState(!1),[X,N]=p.useState(!1);p.useEffect(()=>x5(A),[]);const V=p.useRef(null),[H,U]=p.useState(!0),[ne,ge]=p.useState(!!h),le=m!==void 0,re=le?m:ne,K=p.useCallback(ve=>{if(r||n){ve.preventDefault();return}le||ge(re?ve.target.checked:w?!0:ve.target.checked),R==null||R(ve)},[r,n,re,le,w,R]);Jc(()=>{V.current&&(V.current.indeterminate=!!w)},[w]),Ki(()=>{n&&L(!1)},[n,L]),Jc(()=>{const ve=V.current;ve!=null&&ve.form&&(ve.form.onreset=()=>{ge(!!h)})},[]);const ae=n&&!v,de=p.useCallback(ve=>{ve.key===" "&&N(!0)},[N]),xe=p.useCallback(ve=>{ve.key===" "&&N(!1)},[N]);Jc(()=>{if(!V.current)return;V.current.checked!==re&&ge(V.current.checked)},[V.current]);const oe=p.useCallback((ve={},Ie=null)=>{const st=Fe=>{G&&Fe.preventDefault(),N(!0)};return{...ve,ref:Ie,"data-active":on(X),"data-hover":on(F),"data-checked":on(re),"data-focus":on(G),"data-focus-visible":on(G&&$),"data-indeterminate":on(w),"data-disabled":on(n),"data-invalid":on(s),"data-readonly":on(r),"aria-hidden":!0,onMouseDown:bt(ve.onMouseDown,st),onMouseUp:bt(ve.onMouseUp,()=>N(!1)),onMouseEnter:bt(ve.onMouseEnter,()=>W(!0)),onMouseLeave:bt(ve.onMouseLeave,()=>W(!1))}},[X,re,n,G,$,F,w,s,r]),me=p.useCallback((ve={},Ie=null)=>({...O,...ve,ref:Un(Ie,st=>{st&&U(st.tagName==="LABEL")}),onClick:bt(ve.onClick,()=>{var st;H||((st=V.current)==null||st.click(),requestAnimationFrame(()=>{var Fe;(Fe=V.current)==null||Fe.focus({preventScroll:!0})}))}),"data-disabled":on(n),"data-checked":on(re),"data-invalid":on(s)}),[O,n,re,s,H]),fe=p.useCallback((ve={},Ie=null)=>({...ve,ref:Un(V,Ie),type:"checkbox",name:S,value:C,id:a,tabIndex:P,onChange:bt(ve.onChange,K),onBlur:bt(ve.onBlur,M,()=>L(!1)),onFocus:bt(ve.onFocus,D,()=>L(!0)),onKeyDown:bt(ve.onKeyDown,de),onKeyUp:bt(ve.onKeyUp,xe),required:o,checked:re,disabled:ae,readOnly:r,"aria-label":k,"aria-labelledby":_,"aria-invalid":E?!!E:s,"aria-describedby":f,"aria-disabled":n,style:U0}),[S,C,a,K,M,D,de,xe,o,re,ae,r,k,_,E,s,f,n,P]),ke=p.useCallback((ve={},Ie=null)=>({...ve,ref:Ie,onMouseDown:bt(ve.onMouseDown,zM),"data-disabled":on(n),"data-checked":on(re),"data-invalid":on(s)}),[re,n,s]);return{state:{isInvalid:s,isFocused:G,isChecked:re,isActive:X,isHovered:F,isIndeterminate:w,isDisabled:n,isReadOnly:r,isRequired:o},getRootProps:me,getCheckboxProps:oe,getInputProps:fe,getLabelProps:ke,htmlProps:O}}function zM(e){e.preventDefault(),e.stopPropagation()}var $M={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},LM={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},FM=ba({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),BM=ba({from:{opacity:0},to:{opacity:1}}),HM=ba({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),w5=nt(function(t,n){const r=xM(),o={...r,...t},s=Xr("Checkbox",o),a=xr(t),{spacing:u="0.5rem",className:d,children:f,iconColor:h,iconSize:m,icon:v=i.jsx(PM,{}),isChecked:b,isDisabled:w=r==null?void 0:r.isDisabled,onChange:S,inputProps:C,...P}=a;let k=b;r!=null&&r.value&&a.value&&(k=r.value.includes(a.value));let _=S;r!=null&&r.onChange&&a.value&&(_=nh(r.onChange,S));const{state:E,getInputProps:I,getCheckboxProps:O,getLabelProps:R,getRootProps:M}=S5({...P,isDisabled:w,isChecked:k,onChange:_}),D=SM(E.isChecked),$=p.useMemo(()=>({animation:D?E.isIndeterminate?`${BM} 20ms linear, ${HM} 200ms linear`:`${FM} 200ms linear`:void 0,fontSize:m,color:h,...s.icon}),[h,m,D,E.isIndeterminate,s.icon]),A=p.cloneElement(v,{__css:$,isIndeterminate:E.isIndeterminate,isChecked:E.isChecked});return i.jsxs(Be.label,{__css:{...LM,...s.container},className:It("chakra-checkbox",d),...M(),children:[i.jsx("input",{className:"chakra-checkbox__input",...I(C,n)}),i.jsx(Be.span,{__css:{...$M,...s.control},className:"chakra-checkbox__control",...O(),children:A}),f&&i.jsx(Be.span,{className:"chakra-checkbox__label",...R(),__css:{marginStart:u,...s.label},children:f})]})});w5.displayName="Checkbox";var[WM,C5]=lr({name:"EditableStylesContext",errorMessage:`useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Editable />" `}),[VM,P5]=lr({name:"EditableContext",errorMessage:"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"}),k5={fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent"},_5=nt(function(t,n){const{getInputProps:r}=P5(),o=C5(),s=r(t,n),a=It("chakra-editable__input",t.className);return i.jsx(Be.input,{...s,__css:{outline:0,...k5,...o.input},className:a})});_5.displayName="EditableInput";var j5=nt(function(t,n){const{getPreviewProps:r}=P5(),o=C5(),s=r(t,n),a=It("chakra-editable__preview",t.className);return i.jsx(Be.span,{...s,__css:{cursor:"text",display:"inline-block",...k5,...o.preview},className:a})});j5.displayName="EditablePreview";function UM(e){return"current"in e}var E5=()=>typeof window<"u";function GM(){var e;const t=navigator.userAgentData;return(e=t==null?void 0:t.platform)!=null?e:navigator.platform}var qM=e=>E5()&&e.test(navigator.vendor),YM=e=>E5()&&e.test(GM()),KM=()=>YM(/mac|iphone|ipad|ipod/i),XM=()=>KM()&&qM(/apple/i);function I5(e){const{ref:t,elements:n,enabled:r}=e,o=()=>{var s,a;return(a=(s=t.current)==null?void 0:s.ownerDocument)!=null?a:document};j0(o,"pointerdown",s=>{if(!XM()||!r)return;const a=s.target,d=(n??[t]).some(f=>{const h=UM(f)?f.current:f;return(h==null?void 0:h.contains(a))||h===a});o().activeElement!==a&&d&&(s.preventDefault(),a.focus())})}function b2(e,t){return e?e===t||e.contains(t):!1}function QM(e={}){const{onChange:t,onCancel:n,onSubmit:r,onBlur:o,value:s,isDisabled:a,defaultValue:u,startWithEditView:d,isPreviewFocusable:f=!0,submitOnBlur:h=!0,selectAllOnFocus:m=!0,placeholder:v,onEdit:b,finalFocusRef:w,...S}=e,C=Ga(b),P=!!(d&&!a),[k,_]=p.useState(P),[E,I]=_u({defaultValue:u||"",value:s,onChange:t}),[O,R]=p.useState(E),M=p.useRef(null),D=p.useRef(null),$=p.useRef(null),A=p.useRef(null),G=p.useRef(null);I5({ref:M,enabled:k,elements:[A,G]});const L=!k&&!a;Jc(()=>{var oe,me;k&&((oe=M.current)==null||oe.focus(),m&&((me=M.current)==null||me.select()))},[]),Ki(()=>{var oe,me,fe,ke;if(!k){w?(oe=w.current)==null||oe.focus():(me=$.current)==null||me.focus();return}(fe=M.current)==null||fe.focus(),m&&((ke=M.current)==null||ke.select()),C==null||C()},[k,C,m]);const F=p.useCallback(()=>{L&&_(!0)},[L]),W=p.useCallback(()=>{R(E)},[E]),X=p.useCallback(()=>{_(!1),I(O),n==null||n(O),o==null||o(O)},[n,o,I,O]),N=p.useCallback(()=>{_(!1),R(E),r==null||r(E),o==null||o(O)},[E,r,o,O]);p.useEffect(()=>{if(k)return;const oe=M.current;(oe==null?void 0:oe.ownerDocument.activeElement)===oe&&(oe==null||oe.blur())},[k]);const V=p.useCallback(oe=>{I(oe.currentTarget.value)},[I]),H=p.useCallback(oe=>{const me=oe.key,ke={Escape:X,Enter:Ae=>{!Ae.shiftKey&&!Ae.metaKey&&N()}}[me];ke&&(oe.preventDefault(),ke(oe))},[X,N]),U=p.useCallback(oe=>{const me=oe.key,ke={Escape:X}[me];ke&&(oe.preventDefault(),ke(oe))},[X]),ne=E.length===0,ge=p.useCallback(oe=>{var me;if(!k)return;const fe=oe.currentTarget.ownerDocument,ke=(me=oe.relatedTarget)!=null?me:fe.activeElement,Ae=b2(A.current,ke),ve=b2(G.current,ke);!Ae&&!ve&&(h?N():X())},[h,N,X,k]),le=p.useCallback((oe={},me=null)=>{const fe=L&&f?0:void 0;return{...oe,ref:Un(me,D),children:ne?v:E,hidden:k,"aria-disabled":Tl(a),tabIndex:fe,onFocus:bt(oe.onFocus,F,W)}},[a,k,L,f,ne,F,W,v,E]),re=p.useCallback((oe={},me=null)=>({...oe,hidden:!k,placeholder:v,ref:Un(me,M),disabled:a,"aria-disabled":Tl(a),value:E,onBlur:bt(oe.onBlur,ge),onChange:bt(oe.onChange,V),onKeyDown:bt(oe.onKeyDown,H),onFocus:bt(oe.onFocus,W)}),[a,k,ge,V,H,W,v,E]),K=p.useCallback((oe={},me=null)=>({...oe,hidden:!k,placeholder:v,ref:Un(me,M),disabled:a,"aria-disabled":Tl(a),value:E,onBlur:bt(oe.onBlur,ge),onChange:bt(oe.onChange,V),onKeyDown:bt(oe.onKeyDown,U),onFocus:bt(oe.onFocus,W)}),[a,k,ge,V,U,W,v,E]),ae=p.useCallback((oe={},me=null)=>({"aria-label":"Edit",...oe,type:"button",onClick:bt(oe.onClick,F),ref:Un(me,$),disabled:a}),[F,a]),de=p.useCallback((oe={},me=null)=>({...oe,"aria-label":"Submit",ref:Un(G,me),type:"button",onClick:bt(oe.onClick,N),disabled:a}),[N,a]),xe=p.useCallback((oe={},me=null)=>({"aria-label":"Cancel",id:"cancel",...oe,ref:Un(A,me),type:"button",onClick:bt(oe.onClick,X),disabled:a}),[X,a]);return{isEditing:k,isDisabled:a,isValueEmpty:ne,value:E,onEdit:F,onCancel:X,onSubmit:N,getPreviewProps:le,getInputProps:re,getTextareaProps:K,getEditButtonProps:ae,getSubmitButtonProps:de,getCancelButtonProps:xe,htmlProps:S}}var O5=nt(function(t,n){const r=Xr("Editable",t),o=xr(t),{htmlProps:s,...a}=QM(o),{isEditing:u,onSubmit:d,onCancel:f,onEdit:h}=a,m=It("chakra-editable",t.className),v=E0(t.children,{isEditing:u,onSubmit:d,onCancel:f,onEdit:h});return i.jsx(VM,{value:a,children:i.jsx(WM,{value:r,children:i.jsx(Be.div,{ref:n,...s,className:m,children:v})})})});O5.displayName="Editable";var R5={exports:{}},ZM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JM=ZM,eT=JM;function M5(){}function T5(){}T5.resetWarningCache=M5;var tT=function(){function e(r,o,s,a,u,d){if(d!==eT){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:T5,resetWarningCache:M5};return n.PropTypes=n,n};R5.exports=tT();var nT=R5.exports;const An=ac(nT);var Cv="data-focus-lock",D5="data-focus-lock-disabled",rT="data-no-focus-lock",oT="data-autofocus-inside",sT="data-no-autofocus";function aT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function iT(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function A5(e,t){return iT(t||null,function(n){return e.forEach(function(r){return aT(r,n)})})}var pg={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Fs=function(){return Fs=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fs.apply(this,arguments)};function N5(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function uc(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function d(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?s(h.value):o(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}function dc(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(h){return d([f,h])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(s=f[0]&2?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(h){f=[6,h],o=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function x2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Pv(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function z5(e){return e}function $5(e,t){t===void 0&&(t=z5);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(s),a=n}var d=function(){var h=a;a=[],h.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(h){a.push(h),f()},filter:function(h){return a=a.filter(h),n}}}};return o}function q0(e,t){return t===void 0&&(t=z5),$5(e,t)}function L5(e){e===void 0&&(e={});var t=$5(null);return t.options=Fs({async:!0,ssr:!1},e),t}var F5=function(e){var t=e.sideCar,n=N5(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Fs({},n))};F5.isSideCarExport=!0;function lT(e,t){return e.useMedium(t),F5}var B5=q0({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),H5=q0(),cT=q0(),uT=L5({async:!0}),dT=[],Y0=p.forwardRef(function(t,n){var r,o=p.useState(),s=o[0],a=o[1],u=p.useRef(),d=p.useRef(!1),f=p.useRef(null),h=t.children,m=t.disabled,v=t.noFocusGuards,b=t.persistentFocus,w=t.crossFrame,S=t.autoFocus;t.allowTextSelection;var C=t.group,P=t.className,k=t.whiteList,_=t.hasPositiveIndices,E=t.shards,I=E===void 0?dT:E,O=t.as,R=O===void 0?"div":O,M=t.lockProps,D=M===void 0?{}:M,$=t.sideCar,A=t.returnFocus,G=t.focusOptions,L=t.onActivation,F=t.onDeactivation,W=p.useState({}),X=W[0],N=p.useCallback(function(){f.current=f.current||document&&document.activeElement,u.current&&L&&L(u.current),d.current=!0},[L]),V=p.useCallback(function(){d.current=!1,F&&F(u.current)},[F]);p.useEffect(function(){m||(f.current=null)},[]);var H=p.useCallback(function(de){var xe=f.current;if(xe&&xe.focus){var oe=typeof A=="function"?A(xe):A;if(oe){var me=typeof oe=="object"?oe:void 0;f.current=null,de?Promise.resolve().then(function(){return xe.focus(me)}):xe.focus(me)}}},[A]),U=p.useCallback(function(de){d.current&&B5.useMedium(de)},[]),ne=H5.useMedium,ge=p.useCallback(function(de){u.current!==de&&(u.current=de,a(de))},[]),le=tr((r={},r[D5]=m&&"disabled",r[Cv]=C,r),D),re=v!==!0,K=re&&v!=="tail",ae=A5([n,ge]);return p.createElement(p.Fragment,null,re&&[p.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:pg}),_?p.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:pg}):null],!m&&p.createElement($,{id:X,sideCar:uT,observed:s,disabled:m,persistentFocus:b,crossFrame:w,autoFocus:S,whiteList:k,shards:I,onActivation:N,onDeactivation:V,returnFocus:H,focusOptions:G}),p.createElement(R,tr({ref:ae},le,{className:P,onBlur:ne,onFocus:U}),h),K&&p.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:pg}))});Y0.propTypes={};Y0.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const W5=Y0;function kv(e,t){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},kv(e,t)}function fT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kv(e,t)}function pT(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var s=[],a;function u(){a=e(s.map(function(f){return f.props})),t(a)}var d=function(f){fT(h,f);function h(){return f.apply(this,arguments)||this}h.peek=function(){return a};var m=h.prototype;return m.componentDidMount=function(){s.push(this),u()},m.componentDidUpdate=function(){u()},m.componentWillUnmount=function(){var b=s.indexOf(this);s.splice(b,1),u()},m.render=function(){return z.createElement(o,this.props)},h}(p.PureComponent);return iO(d,"displayName","SideEffect("+n(o)+")"),d}}var Ys=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Yf=function(e){return Array.isArray(e)?e:[e]},V5=function(e){return Array.isArray(e)?e[0]:e},hT=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},U5=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},G5=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},mT=function(e,t){return!e||G5(e)||!hT(e)&&t(U5(e))},q5=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=mT(t,q5.bind(void 0,e));return e.set(t,r),r},gT=function(e,t){return e&&!G5(e)?bT(e)?t(U5(e)):!1:!0},Y5=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=gT(t,Y5.bind(void 0,e));return e.set(t,r),r},K5=function(e){return e.dataset},vT=function(e){return e.tagName==="BUTTON"},X5=function(e){return e.tagName==="INPUT"},Q5=function(e){return X5(e)&&e.type==="radio"},yT=function(e){return!((X5(e)||vT(e))&&(e.type==="hidden"||e.disabled))},bT=function(e){var t=e.getAttribute(sT);return![!0,"true",""].includes(t)},K0=function(e){var t;return!!(e&&(!((t=K5(e))===null||t===void 0)&&t.focusGuard))},Kf=function(e){return!K0(e)},xT=function(e){return!!e},ST=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},Z5=function(e,t,n){return Ys(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(ST)},wT=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],X0=wT.join(","),CT="".concat(X0,", [data-focus-guard]"),J5=function(e,t){return Ys((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?CT:X0)?[r]:[],J5(r))},[])},PT=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?dh([e.contentDocument.body],t):[e]},dh=function(e,t){return e.reduce(function(n,r){var o,s=J5(r,t),a=(o=[]).concat.apply(o,s.map(function(u){return PT(u,t)}));return n.concat(a,r.parentNode?Ys(r.parentNode.querySelectorAll(X0)).filter(function(u){return u===r}):[])},[])},kT=function(e){var t=e.querySelectorAll("[".concat(oT,"]"));return Ys(t).map(function(n){return dh([n])}).reduce(function(n,r){return n.concat(r)},[])},Q0=function(e,t){return Ys(e).filter(function(n){return q5(t,n)}).filter(function(n){return yT(n)})},S2=function(e,t){return t===void 0&&(t=new Map),Ys(e).filter(function(n){return Y5(t,n)})},_v=function(e,t,n){return Z5(Q0(dh(e,n),t),!0,n)},w2=function(e,t){return Z5(Q0(dh(e),t),!1)},_T=function(e,t){return Q0(kT(e),t)},Nl=function(e,t){return e.shadowRoot?Nl(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Ys(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?Nl(o,t):!1}return Nl(n,t)})},jT=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var s=e[r].compareDocumentPosition(e[o]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(a,u){return!t.has(u)})},e6=function(e){return e.parentNode?e6(e.parentNode):e},Z0=function(e){var t=Yf(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(Cv);return n.push.apply(n,o?jT(Ys(e6(r).querySelectorAll("[".concat(Cv,'="').concat(o,'"]:not([').concat(D5,'="disabled"])')))):[r]),n},[])},ET=function(e){try{return e()}catch{return}},du=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?du(t.shadowRoot):t instanceof HTMLIFrameElement&&ET(function(){return t.contentWindow.document})?du(t.contentWindow.document):t}},IT=function(e,t){return e===t},OT=function(e,t){return!!Ys(e.querySelectorAll("iframe")).some(function(n){return IT(n,t)})},t6=function(e,t){return t===void 0&&(t=du(V5(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:Z0(e).some(function(n){return Nl(n,t)||OT(n,t)})},RT=function(e){e===void 0&&(e=document);var t=du(e);return t?Ys(e.querySelectorAll("[".concat(rT,"]"))).some(function(n){return Nl(n,t)}):!1},MT=function(e,t){return t.filter(Q5).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},J0=function(e,t){return Q5(e)&&e.name?MT(e,t):e},TT=function(e){var t=new Set;return e.forEach(function(n){return t.add(J0(n,e))}),e.filter(function(n){return t.has(n)})},C2=function(e){return e[0]&&e.length>1?J0(e[0],e):e[0]},P2=function(e,t){return e.length>1?e.indexOf(J0(e[t],e)):t},n6="NEW_FOCUS",DT=function(e,t,n,r){var o=e.length,s=e[0],a=e[o-1],u=K0(n);if(!(n&&e.indexOf(n)>=0)){var d=n!==void 0?t.indexOf(n):-1,f=r?t.indexOf(r):d,h=r?e.indexOf(r):-1,m=d-f,v=t.indexOf(s),b=t.indexOf(a),w=TT(t),S=n!==void 0?w.indexOf(n):-1,C=S-(r?w.indexOf(r):d),P=P2(e,0),k=P2(e,o-1);if(d===-1||h===-1)return n6;if(!m&&h>=0)return h;if(d<=v&&u&&Math.abs(m)>1)return k;if(d>=b&&u&&Math.abs(m)>1)return P;if(m&&Math.abs(C)>1)return h;if(d<=v)return k;if(d>b)return P;if(m)return Math.abs(m)>1?h:(o+h+m)%o}},AT=function(e){return function(t){var n,r=(n=K5(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},NT=function(e,t,n){var r=e.map(function(s){var a=s.node;return a}),o=S2(r.filter(AT(n)));return o&&o.length?C2(o):C2(S2(t))},jv=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&jv(e.parentNode.host||e.parentNode,t),t},hg=function(e,t){for(var n=jv(e),r=jv(t),o=0;o<n.length;o+=1){var s=n[o];if(r.indexOf(s)>=0)return s}return!1},r6=function(e,t,n){var r=Yf(e),o=Yf(t),s=r[0],a=!1;return o.filter(Boolean).forEach(function(u){a=hg(a||u,u)||a,n.filter(Boolean).forEach(function(d){var f=hg(s,d);f&&(!a||Nl(f,a)?a=f:a=hg(f,a))})}),a},zT=function(e,t){return e.reduce(function(n,r){return n.concat(_T(r,t))},[])},$T=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(xT)},LT=function(e,t){var n=du(Yf(e).length>0?document:V5(e).ownerDocument),r=Z0(e).filter(Kf),o=r6(n||e,e,r),s=new Map,a=w2(r,s),u=_v(r,s).filter(function(b){var w=b.node;return Kf(w)});if(!(!u[0]&&(u=a,!u[0]))){var d=w2([o],s).map(function(b){var w=b.node;return w}),f=$T(d,u),h=f.map(function(b){var w=b.node;return w}),m=DT(h,d,n,t);if(m===n6){var v=NT(a,h,zT(r,s));if(v)return{node:v};console.warn("focus-lock: cannot find any node to move focus into");return}return m===void 0?m:f[m]}},FT=function(e){var t=Z0(e).filter(Kf),n=r6(e,e,t),r=new Map,o=_v([n],r,!0),s=_v(t,r).filter(function(a){var u=a.node;return Kf(u)}).map(function(a){var u=a.node;return u});return o.map(function(a){var u=a.node,d=a.index;return{node:u,index:d,lockItem:s.indexOf(u)>=0,guard:K0(u)}})},BT=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},mg=0,gg=!1,o6=function(e,t,n){n===void 0&&(n={});var r=LT(e,t);if(!gg&&r){if(mg>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),gg=!0,setTimeout(function(){gg=!1},1);return}mg++,BT(r.node,n.focusOptions),mg--}};function s6(e){var t=window,n=t.setImmediate;typeof n<"u"?n(e):setTimeout(e,1)}var HT=function(){return document&&document.activeElement===document.body},WT=function(){return HT()||RT()},zl=null,jl=null,$l=null,fu=!1,VT=function(){return!0},UT=function(t){return(zl.whiteList||VT)(t)},GT=function(t,n){$l={observerNode:t,portaledElement:n}},qT=function(t){return $l&&$l.portaledElement===t};function k2(e,t,n,r){var o=null,s=e;do{var a=r[s];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else if(a.lockItem){if(s!==e)return;o=null}else break}while((s+=n)!==t);o&&(o.node.tabIndex=0)}var YT=function(t){return t&&"current"in t?t.current:t},KT=function(t){return t?!!fu:fu==="meanwhile"},XT=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},QT=function(t,n){return n.some(function(r){return XT(t,r,r)})},Xf=function(){var t=!1;if(zl){var n=zl,r=n.observed,o=n.persistentFocus,s=n.autoFocus,a=n.shards,u=n.crossFrame,d=n.focusOptions,f=r||$l&&$l.portaledElement,h=document&&document.activeElement;if(f){var m=[f].concat(a.map(YT).filter(Boolean));if((!h||UT(h))&&(o||KT(u)||!WT()||!jl&&s)&&(f&&!(t6(m)||h&&QT(h,m)||qT(h))&&(document&&!jl&&h&&!s?(h.blur&&h.blur(),document.body.focus()):(t=o6(m,jl,{focusOptions:d}),$l={})),fu=!1,jl=document&&document.activeElement),document){var v=document&&document.activeElement,b=FT(m),w=b.map(function(S){var C=S.node;return C}).indexOf(v);w>-1&&(b.filter(function(S){var C=S.guard,P=S.node;return C&&P.dataset.focusAutoGuard}).forEach(function(S){var C=S.node;return C.removeAttribute("tabIndex")}),k2(w,b.length,1,b),k2(w,-1,-1,b))}}}return t},a6=function(t){Xf()&&t&&(t.stopPropagation(),t.preventDefault())},e1=function(){return s6(Xf)},ZT=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||GT(r,n)},JT=function(){return null},i6=function(){fu="just",setTimeout(function(){fu="meanwhile"},0)},eD=function(){document.addEventListener("focusin",a6),document.addEventListener("focusout",e1),window.addEventListener("blur",i6)},tD=function(){document.removeEventListener("focusin",a6),document.removeEventListener("focusout",e1),window.removeEventListener("blur",i6)};function nD(e){return e.filter(function(t){var n=t.disabled;return!n})}function rD(e){var t=e.slice(-1)[0];t&&!zl&&eD();var n=zl,r=n&&t&&t.id===n.id;zl=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var s=o.id;return s===n.id}).length||n.returnFocus(!t)),t?(jl=null,(!r||n.observed!==t.observed)&&t.onActivation(),Xf(),s6(Xf)):(tD(),jl=null)}B5.assignSyncMedium(ZT);H5.assignMedium(e1);cT.assignMedium(function(e){return e({moveFocusInside:o6,focusInside:t6})});const oD=pT(nD,rD)(JT);var l6=p.forwardRef(function(t,n){return p.createElement(W5,tr({sideCar:oD,ref:n},t))}),c6=W5.propTypes||{};c6.sideCar;k7(c6,["sideCar"]);l6.propTypes={};const _2=l6;var u6=e=>e.hasAttribute("tabindex"),sD=e=>u6(e)&&e.tabIndex===-1;function aD(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function d6(e){return e.parentElement&&d6(e.parentElement)?!0:e.hidden}function iD(e){const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null}function f6(e){if(!o3(e)||d6(e)||aD(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const r={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in r?r[t]():iD(e)?!0:u6(e)}function lD(e){return e?o3(e)&&f6(e)&&!sD(e):!1}var cD=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],uD=cD.join(),dD=e=>e.offsetWidth>0&&e.offsetHeight>0;function p6(e){const t=Array.from(e.querySelectorAll(uD));return t.unshift(e),t.filter(n=>f6(n)&&dD(n))}var j2,fD=(j2=_2.default)!=null?j2:_2,h6=e=>{const{initialFocusRef:t,finalFocusRef:n,contentRef:r,restoreFocus:o,children:s,isDisabled:a,autoFocus:u,persistentFocus:d,lockFocusAcrossFrames:f}=e,h=p.useCallback(()=>{t!=null&&t.current?t.current.focus():r!=null&&r.current&&p6(r.current).length===0&&requestAnimationFrame(()=>{var w;(w=r.current)==null||w.focus()})},[t,r]),m=p.useCallback(()=>{var b;(b=n==null?void 0:n.current)==null||b.focus()},[n]),v=o&&!n;return i.jsx(fD,{crossFrame:f,persistentFocus:d,autoFocus:u,disabled:a,onActivation:h,onDeactivation:m,returnFocus:v,children:s})};h6.displayName="FocusLock";function pD(e,t,n,r){const o=s3(t);return p.useEffect(()=>{var s;const a=(s=hx(n))!=null?s:document;if(t)return a.addEventListener(e,o,r),()=>{a.removeEventListener(e,o,r)}},[e,n,r,o,t]),()=>{var s;((s=hx(n))!=null?s:document).removeEventListener(e,o,r)}}function hD(e){const{ref:t,handler:n,enabled:r=!0}=e,o=s3(n),a=p.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;p.useEffect(()=>{if(!r)return;const u=m=>{vg(m,t)&&(a.isPointerDown=!0)},d=m=>{if(a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.isPointerDown&&n&&vg(m,t)&&(a.isPointerDown=!1,o(m))},f=m=>{a.ignoreEmulatedMouseEvents=!0,n&&a.isPointerDown&&vg(m,t)&&(a.isPointerDown=!1,o(m))},h=a3(t.current);return h.addEventListener("mousedown",u,!0),h.addEventListener("mouseup",d,!0),h.addEventListener("touchstart",u,!0),h.addEventListener("touchend",f,!0),()=>{h.removeEventListener("mousedown",u,!0),h.removeEventListener("mouseup",d,!0),h.removeEventListener("touchstart",u,!0),h.removeEventListener("touchend",f,!0)}},[n,t,o,a,r])}function vg(e,t){var n;const r=e.target;return r&&!a3(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}var[mD,gD]=lr({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),m6=nt(function(t,n){const r=Xr("Input",t),{children:o,className:s,...a}=xr(t),u=It("chakra-input__group",s),d={},f=rh(o),h=r.field;f.forEach(v=>{var b,w;r&&(h&&v.type.id==="InputLeftElement"&&(d.paddingStart=(b=h.height)!=null?b:h.h),h&&v.type.id==="InputRightElement"&&(d.paddingEnd=(w=h.height)!=null?w:h.h),v.type.id==="InputRightAddon"&&(d.borderEndRadius=0),v.type.id==="InputLeftAddon"&&(d.borderStartRadius=0))});const m=f.map(v=>{var b,w;const S=B0({size:((b=v.props)==null?void 0:b.size)||t.size,variant:((w=v.props)==null?void 0:w.variant)||t.variant});return v.type.id!=="Input"?p.cloneElement(v,S):p.cloneElement(v,Object.assign(S,d,v.props))});return i.jsx(Be.div,{className:u,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate"},"data-group":!0,...a,children:i.jsx(mD,{value:r,children:m})})});m6.displayName="InputGroup";var vD=Be("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),fh=nt(function(t,n){var r,o;const{placement:s="left",...a}=t,u=gD(),d=u.field,h={[s==="left"?"insetStart":"insetEnd"]:"0",width:(r=d==null?void 0:d.height)!=null?r:d==null?void 0:d.h,height:(o=d==null?void 0:d.height)!=null?o:d==null?void 0:d.h,fontSize:d==null?void 0:d.fontSize,...u.element};return i.jsx(vD,{ref:n,__css:h,...a})});fh.id="InputElement";fh.displayName="InputElement";var g6=nt(function(t,n){const{className:r,...o}=t,s=It("chakra-input__left-element",r);return i.jsx(fh,{ref:n,placement:"left",className:s,...o})});g6.id="InputLeftElement";g6.displayName="InputLeftElement";var t1=nt(function(t,n){const{className:r,...o}=t,s=It("chakra-input__right-element",r);return i.jsx(fh,{ref:n,placement:"right",className:s,...o})});t1.id="InputRightElement";t1.displayName="InputRightElement";var Nu=nt(function(t,n){const{htmlSize:r,...o}=t,s=Xr("Input",o),a=xr(o),u=I0(a),d=It("chakra-input",t.className);return i.jsx(Be.input,{size:r,...u,__css:s.field,ref:n,className:d})});Nu.displayName="Input";Nu.id="Input";var Ri=nt(function(t,n){const r=ic("Link",t),{className:o,isExternal:s,...a}=xr(t);return i.jsx(Be.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:It("chakra-link",o),...a,__css:r})});Ri.displayName="Link";var[yD,v6]=lr({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),n1=nt(function(t,n){const r=Xr("List",t),{children:o,styleType:s="none",stylePosition:a,spacing:u,...d}=xr(t),f=rh(o),m=u?{["& > *:not(style) ~ *:not(style)"]:{mt:u}}:{};return i.jsx(yD,{value:r,children:i.jsx(Be.ul,{ref:n,listStyleType:s,listStylePosition:a,role:"list",__css:{...r.container,...m},...d,children:f})})});n1.displayName="List";var bD=nt((e,t)=>{const{as:n,...r}=e;return i.jsx(n1,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...r})});bD.displayName="OrderedList";var ph=nt(function(t,n){const{as:r,...o}=t;return i.jsx(n1,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...o})});ph.displayName="UnorderedList";var Ro=nt(function(t,n){const r=v6();return i.jsx(Be.li,{ref:n,...t,__css:r.item})});Ro.displayName="ListItem";var xD=nt(function(t,n){const r=v6();return i.jsx(mo,{ref:n,role:"presentation",...t,__css:r.icon})});xD.displayName="ListIcon";var ha=nt(function(t,n){const{templateAreas:r,gap:o,rowGap:s,columnGap:a,column:u,row:d,autoFlow:f,autoRows:h,templateRows:m,autoColumns:v,templateColumns:b,...w}=t,S={display:"grid",gridTemplateAreas:r,gridGap:o,gridRowGap:s,gridColumnGap:a,gridAutoColumns:v,gridColumn:u,gridRow:d,gridAutoFlow:f,gridAutoRows:h,gridTemplateRows:m,gridTemplateColumns:b};return i.jsx(Be.div,{ref:n,__css:S,...w})});ha.displayName="Grid";var Qi=Be("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Qi.displayName="Spacer";var Ye=nt(function(t,n){const r=ic("Text",t),{className:o,align:s,decoration:a,casing:u,...d}=xr(t),f=B0({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return i.jsx(Be.p,{ref:n,className:It("chakra-text",t.className),...f,...d,__css:r})});Ye.displayName="Text";var kr=nt((e,t)=>i.jsx(lO,{align:"center",...e,direction:"column",ref:t}));kr.displayName="VStack";function E2(e){return cO(e,t=>t==="auto"?"auto":`span ${t}/span ${t}`)}var Ev=nt(function(t,n){const{area:r,colSpan:o,colStart:s,colEnd:a,rowEnd:u,rowSpan:d,rowStart:f,...h}=t,m=B0({gridArea:r,gridColumn:E2(o),gridRow:E2(d),gridColumnStart:s,gridColumnEnd:a,gridRowStart:f,gridRowEnd:u});return i.jsx(Be.div,{ref:n,__css:m,...h})});Ev.displayName="GridItem";var Ul=nt(function(t,n){const r=ic("Badge",t),{className:o,...s}=xr(t);return i.jsx(Be.span,{ref:n,className:It("chakra-badge",t.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});Ul.displayName="Badge";var y6=Be("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});y6.displayName="Center";var SD={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};nt(function(t,n){const{axis:r="both",...o}=t;return i.jsx(Be.div,{ref:n,__css:SD[r],...o,position:"absolute"})});var Sa=nt(function(t,n){const{borderLeftWidth:r,borderBottomWidth:o,borderTopWidth:s,borderRightWidth:a,borderWidth:u,borderStyle:d,borderColor:f,...h}=ic("Divider",t),{className:m,orientation:v="horizontal",__css:b,...w}=xr(t),S={vertical:{borderLeftWidth:r||a||u||"1px",height:"100%"},horizontal:{borderBottomWidth:o||s||u||"1px",width:"100%"}};return i.jsx(Be.hr,{ref:n,"aria-orientation":v,...w,__css:{...h,border:"0",borderColor:f,borderStyle:d,...S[v],...b},className:It("chakra-divider",m)})});Sa.displayName="Divider";function wD(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function CD(e={}){const{timeout:t=300,preventDefault:n=()=>!0}=e,[r,o]=p.useState([]),s=p.useRef(),a=()=>{s.current&&(clearTimeout(s.current),s.current=null)},u=()=>{a(),s.current=setTimeout(()=>{o([]),s.current=null},t)};p.useEffect(()=>a,[]);function d(f){return h=>{if(h.key==="Backspace"){const m=[...r];m.pop(),o(m);return}if(wD(h)){const m=r.concat(h.key);n(h)&&(h.preventDefault(),h.stopPropagation()),o(m),f(m.join("")),u()}}}return d}function PD(e,t,n,r){if(t==null)return r;if(!r)return e.find(a=>n(a).toLowerCase().startsWith(t.toLowerCase()));const o=e.filter(s=>n(s).toLowerCase().startsWith(t.toLowerCase()));if(o.length>0){let s;return o.includes(r)?(s=o.indexOf(r)+1,s===o.length&&(s=0),o[s]):(s=e.indexOf(o[0]),e[s])}return r}function kD(){const e=p.useRef(new Map),t=e.current,n=p.useCallback((o,s,a,u)=>{e.current.set(a,{type:s,el:o,options:u}),o.addEventListener(s,a,u)},[]),r=p.useCallback((o,s,a,u)=>{o.removeEventListener(s,a,u),e.current.delete(a)},[]);return p.useEffect(()=>()=>{t.forEach((o,s)=>{r(o.el,o.type,s,o.options)})},[r,t]),{add:n,remove:r}}function yg(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function b6(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:o=!0,clickOnSpace:s=!0,onMouseDown:a,onMouseUp:u,onClick:d,onKeyDown:f,onKeyUp:h,tabIndex:m,onMouseOver:v,onMouseLeave:b,...w}=e,[S,C]=p.useState(!0),[P,k]=p.useState(!1),_=kD(),E=N=>{N&&N.tagName!=="BUTTON"&&C(!1)},I=S?m:m||0,O=n&&!r,R=p.useCallback(N=>{if(n){N.stopPropagation(),N.preventDefault();return}N.currentTarget.focus(),d==null||d(N)},[n,d]),M=p.useCallback(N=>{P&&yg(N)&&(N.preventDefault(),N.stopPropagation(),k(!1),_.remove(document,"keyup",M,!1))},[P,_]),D=p.useCallback(N=>{if(f==null||f(N),n||N.defaultPrevented||N.metaKey||!yg(N.nativeEvent)||S)return;const V=o&&N.key==="Enter";s&&N.key===" "&&(N.preventDefault(),k(!0)),V&&(N.preventDefault(),N.currentTarget.click()),_.add(document,"keyup",M,!1)},[n,S,f,o,s,_,M]),$=p.useCallback(N=>{if(h==null||h(N),n||N.defaultPrevented||N.metaKey||!yg(N.nativeEvent)||S)return;s&&N.key===" "&&(N.preventDefault(),k(!1),N.currentTarget.click())},[s,S,n,h]),A=p.useCallback(N=>{N.button===0&&(k(!1),_.remove(document,"mouseup",A,!1))},[_]),G=p.useCallback(N=>{if(N.button!==0)return;if(n){N.stopPropagation(),N.preventDefault();return}S||k(!0),N.currentTarget.focus({preventScroll:!0}),_.add(document,"mouseup",A,!1),a==null||a(N)},[n,S,a,_,A]),L=p.useCallback(N=>{N.button===0&&(S||k(!1),u==null||u(N))},[u,S]),F=p.useCallback(N=>{if(n){N.preventDefault();return}v==null||v(N)},[n,v]),W=p.useCallback(N=>{P&&(N.preventDefault(),k(!1)),b==null||b(N)},[P,b]),X=Un(t,E);return S?{...w,ref:X,type:"button","aria-disabled":O?void 0:n,disabled:O,onClick:R,onMouseDown:a,onMouseUp:u,onKeyUp:h,onKeyDown:f,onMouseOver:v,onMouseLeave:b}:{...w,ref:X,role:"button","data-active":on(P),"aria-disabled":n?"true":void 0,tabIndex:O?void 0:I,onClick:R,onMouseDown:G,onMouseUp:L,onKeyUp:$,onKeyDown:D,onMouseOver:F,onMouseLeave:W}}function _D(e){const t=e.current;if(!t)return!1;const n=uO(t);return!n||t.contains(n)?!1:!!lD(n)}function x6(e,t){const{shouldFocus:n,visible:r,focusRef:o}=t,s=n&&!r;Ki(()=>{if(!s||_D(e))return;const a=(o==null?void 0:o.current)||e.current;let u;if(a)return u=requestAnimationFrame(()=>{a.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(u)}},[s,e,o])}var jD={preventScroll:!0,shouldFocus:!1};function ED(e,t=jD){const{focusRef:n,preventScroll:r,shouldFocus:o,visible:s}=t,a=ID(e)?e.current:e,u=o&&s,d=p.useRef(u),f=p.useRef(s);Jc(()=>{!f.current&&s&&(d.current=u),f.current=s},[s,u]);const h=p.useCallback(()=>{if(!(!s||!a||!d.current)&&(d.current=!1,!a.contains(document.activeElement)))if(n!=null&&n.current)requestAnimationFrame(()=>{var m;(m=n.current)==null||m.focus({preventScroll:r})});else{const m=p6(a);m.length>0&&requestAnimationFrame(()=>{m[0].focus({preventScroll:r})})}},[s,r,a,n]);Ki(()=>{h()},[h]),j0(a,"transitionend",h)}function ID(e){return"current"in e}function OD(e){const{ref:t,handler:n,enabled:r=!0}=e,o=Ga(n),a=p.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;p.useEffect(()=>{if(!r)return;const u=m=>{bg(m,t)&&(a.isPointerDown=!0)},d=m=>{if(a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.isPointerDown&&n&&bg(m,t)&&(a.isPointerDown=!1,o(m))},f=m=>{a.ignoreEmulatedMouseEvents=!0,n&&a.isPointerDown&&bg(m,t)&&(a.isPointerDown=!1,o(m))},h=S6(t.current);return h.addEventListener("mousedown",u,!0),h.addEventListener("mouseup",d,!0),h.addEventListener("touchstart",u,!0),h.addEventListener("touchend",f,!0),()=>{h.removeEventListener("mousedown",u,!0),h.removeEventListener("mouseup",d,!0),h.removeEventListener("touchstart",u,!0),h.removeEventListener("touchend",f,!0)}},[n,t,o,a,r])}function bg(e,t){var n;const r=e.target;return r&&!S6(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}function S6(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function w6(e){const{isOpen:t,ref:n}=e,[r,o]=p.useState(t),[s,a]=p.useState(!1);return p.useEffect(()=>{s||(o(t),a(!0))},[t,s,r]),j0(()=>n.current,"animationend",()=>{o(t)}),{present:!(t?!1:!r),onComplete(){var d;const f=dO(n.current),h=new f.CustomEvent("animationend",{bubbles:!0});(d=n.current)==null||d.dispatchEvent(h)}}}function r1(e){const{wasSelected:t,enabled:n,isSelected:r,mode:o="unmount"}=e;return!!(!n||r||o==="keepMounted"&&t)}var[RD,MD,TD,DD]=H0(),[AD,zu]=lr({strict:!1,name:"MenuContext"});function ND(e,...t){const n=p.useId(),r=e||n;return p.useMemo(()=>t.map(o=>`${o}-${r}`),[r,t])}function C6(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function I2(e){return C6(e).activeElement===e}function zD(e={}){const{id:t,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:o,autoSelect:s=!0,isLazy:a,isOpen:u,defaultIsOpen:d,onClose:f,onOpen:h,placement:m="bottom-start",lazyBehavior:v="unmount",direction:b,computePositionOnMount:w=!1,...S}=e,C=p.useRef(null),P=p.useRef(null),k=TD(),_=p.useCallback(()=>{requestAnimationFrame(()=>{var le;(le=C.current)==null||le.focus({preventScroll:!1})})},[]),E=p.useCallback(()=>{const le=setTimeout(()=>{var re;if(o)(re=o.current)==null||re.focus();else{const K=k.firstEnabled();K&&L(K.index)}});V.current.add(le)},[k,o]),I=p.useCallback(()=>{const le=setTimeout(()=>{const re=k.lastEnabled();re&&L(re.index)});V.current.add(le)},[k]),O=p.useCallback(()=>{h==null||h(),s?E():_()},[s,E,_,h]),{isOpen:R,onOpen:M,onClose:D,onToggle:$}=i3({isOpen:u,defaultIsOpen:d,onClose:f,onOpen:O});OD({enabled:R&&r,ref:C,handler:le=>{var re;(re=P.current)!=null&&re.contains(le.target)||D()}});const A=l3({...S,enabled:R||w,placement:m,direction:b}),[G,L]=p.useState(-1);Ki(()=>{R||L(-1)},[R]),x6(C,{focusRef:P,visible:R,shouldFocus:!0});const F=w6({isOpen:R,ref:C}),[W,X]=ND(t,"menu-button","menu-list"),N=p.useCallback(()=>{M(),_()},[M,_]),V=p.useRef(new Set([]));UD(()=>{V.current.forEach(le=>clearTimeout(le)),V.current.clear()});const H=p.useCallback(()=>{M(),E()},[E,M]),U=p.useCallback(()=>{M(),I()},[M,I]),ne=p.useCallback(()=>{var le,re;const K=C6(C.current),ae=(le=C.current)==null?void 0:le.contains(K.activeElement);if(!(R&&!ae))return;const xe=(re=k.item(G))==null?void 0:re.node;xe==null||xe.focus()},[R,G,k]),ge=p.useRef(null);return{openAndFocusMenu:N,openAndFocusFirstItem:H,openAndFocusLastItem:U,onTransitionEnd:ne,unstable__animationState:F,descendants:k,popper:A,buttonId:W,menuId:X,forceUpdate:A.forceUpdate,orientation:"vertical",isOpen:R,onToggle:$,onOpen:M,onClose:D,menuRef:C,buttonRef:P,focusedIndex:G,closeOnSelect:n,closeOnBlur:r,autoSelect:s,setFocusedIndex:L,isLazy:a,lazyBehavior:v,initialFocusRef:o,rafId:ge}}function $D(e={},t=null){const n=zu(),{onToggle:r,popper:o,openAndFocusFirstItem:s,openAndFocusLastItem:a}=n,u=p.useCallback(d=>{const f=d.key,m={Enter:s,ArrowDown:s,ArrowUp:a}[f];m&&(d.preventDefault(),d.stopPropagation(),m(d))},[s,a]);return{...e,ref:Un(n.buttonRef,t,o.referenceRef),id:n.buttonId,"data-active":on(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:bt(e.onClick,r),onKeyDown:bt(e.onKeyDown,u)}}function Iv(e){var t;return WD(e)&&!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))}function LD(e={},t=null){const n=zu();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:o,menuRef:s,isOpen:a,onClose:u,menuId:d,isLazy:f,lazyBehavior:h,unstable__animationState:m}=n,v=MD(),b=CD({preventDefault:P=>P.key!==" "&&Iv(P.target)}),w=p.useCallback(P=>{if(!P.currentTarget.contains(P.target))return;const k=P.key,E={Tab:O=>O.preventDefault(),Escape:u,ArrowDown:()=>{const O=v.nextEnabled(r);O&&o(O.index)},ArrowUp:()=>{const O=v.prevEnabled(r);O&&o(O.index)}}[k];if(E){P.preventDefault(),E(P);return}const I=b(O=>{const R=PD(v.values(),O,M=>{var D,$;return($=(D=M==null?void 0:M.node)==null?void 0:D.textContent)!=null?$:""},v.item(r));if(R){const M=v.indexOf(R.node);o(M)}});Iv(P.target)&&I(P)},[v,r,b,u,o]),S=p.useRef(!1);a&&(S.current=!0);const C=r1({wasSelected:S.current,enabled:f,mode:h,isSelected:m.present});return{...e,ref:Un(s,t),children:C?e.children:null,tabIndex:-1,role:"menu",id:d,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:bt(e.onKeyDown,w)}}function FD(e={}){const{popper:t,isOpen:n}=zu();return t.getPopperProps({...e,style:{visibility:n?"visible":"hidden",...e.style}})}function P6(e={},t=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onClick:s,onFocus:a,isDisabled:u,isFocusable:d,closeOnSelect:f,type:h,...m}=e,v=zu(),{setFocusedIndex:b,focusedIndex:w,closeOnSelect:S,onClose:C,menuRef:P,isOpen:k,menuId:_,rafId:E}=v,I=p.useRef(null),O=`${_}-menuitem-${p.useId()}`,{index:R,register:M}=DD({disabled:u&&!d}),D=p.useCallback(N=>{n==null||n(N),!u&&b(R)},[b,R,u,n]),$=p.useCallback(N=>{r==null||r(N),I.current&&!I2(I.current)&&D(N)},[D,r]),A=p.useCallback(N=>{o==null||o(N),!u&&b(-1)},[b,u,o]),G=p.useCallback(N=>{s==null||s(N),Iv(N.currentTarget)&&(f??S)&&C()},[C,s,S,f]),L=p.useCallback(N=>{a==null||a(N),b(R)},[b,a,R]),F=R===w,W=u&&!d;Ki(()=>{k&&(F&&!W&&I.current?(E.current&&cancelAnimationFrame(E.current),E.current=requestAnimationFrame(()=>{var N;(N=I.current)==null||N.focus(),E.current=null})):P.current&&!I2(P.current)&&P.current.focus({preventScroll:!0}))},[F,W,P,k]);const X=b6({onClick:G,onFocus:L,onMouseEnter:D,onMouseMove:$,onMouseLeave:A,ref:Un(M,I,t),isDisabled:u,isFocusable:d});return{...m,...X,type:h??X.type,id:O,role:"menuitem",tabIndex:F?0:-1}}function BD(e={},t=null){const{type:n="radio",isChecked:r,...o}=e;return{...P6(o,t),role:`menuitem${n}`,"aria-checked":r}}function HD(e={}){const{children:t,type:n="radio",value:r,defaultValue:o,onChange:s,...a}=e,d=n==="radio"?"":[],[f,h]=_u({defaultValue:o??d,value:r,onChange:s}),m=p.useCallback(w=>{if(n==="radio"&&typeof f=="string"&&h(w),n==="checkbox"&&Array.isArray(f)){const S=f.includes(w)?f.filter(C=>C!==w):f.concat(w);h(S)}},[f,h,n]),b=rh(t).map(w=>{if(w.type.id!=="MenuItemOption")return w;const S=P=>{var k,_;m(w.props.value),(_=(k=w.props).onClick)==null||_.call(k,P)},C=n==="radio"?w.props.value===f:f.includes(w.props.value);return p.cloneElement(w,{type:n,onClick:S,isChecked:C})});return{...a,children:b}}function WD(e){var t;if(!VD(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function VD(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function UD(e,t=[]){return p.useEffect(()=>()=>e(),t)}var[GD,$u]=lr({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),hh=e=>{const{children:t}=e,n=Xr("Menu",e),r=xr(e),{direction:o}=oh(),{descendants:s,...a}=zD({...r,direction:o}),u=p.useMemo(()=>a,[a]),{isOpen:d,onClose:f,forceUpdate:h}=u;return i.jsx(RD,{value:s,children:i.jsx(AD,{value:u,children:i.jsx(GD,{value:n,children:E0(t,{isOpen:d,onClose:f,forceUpdate:h})})})})};hh.displayName="Menu";var k6=nt((e,t)=>{const n=$u();return i.jsx(Be.span,{ref:t,...e,__css:n.command,className:"chakra-menu__command"})});k6.displayName="MenuCommand";var _6=nt((e,t)=>{const{type:n,...r}=e,o=$u(),s=r.as||n?n??void 0:"button",a=p.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...o.item}),[o.item]);return i.jsx(Be.button,{ref:t,type:s,...r,__css:a})}),o1=e=>{const{className:t,children:n,...r}=e,o=p.Children.only(n),s=p.isValidElement(o)?p.cloneElement(o,{focusable:"false","aria-hidden":!0,className:It("chakra-menu__icon",o.props.className)}):null,a=It("chakra-menu__icon-wrapper",t);return i.jsx(Be.span,{className:a,...r,__css:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s})};o1.displayName="MenuIcon";var ro=nt((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",command:o,commandSpacing:s="0.75rem",children:a,...u}=e,d=P6(u,t),h=n||o?i.jsx("span",{style:{pointerEvents:"none",flex:1},children:a}):a;return i.jsxs(_6,{...d,className:It("chakra-menu__menuitem",d.className),children:[n&&i.jsx(o1,{fontSize:"0.8em",marginEnd:r,children:n}),h,o&&i.jsx(k6,{marginStart:s,children:o})]})});ro.displayName="MenuItem";var qD={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},YD=Be(To.div),Lu=nt(function(t,n){var r,o;const{rootProps:s,motionProps:a,...u}=t,{isOpen:d,onTransitionEnd:f,unstable__animationState:h}=zu(),m=LD(u,n),v=FD(s),b=$u();return i.jsx(Be.div,{...v,__css:{zIndex:(o=t.zIndex)!=null?o:(r=b.list)==null?void 0:r.zIndex},children:i.jsx(YD,{variants:qD,initial:!1,animate:d?"enter":"exit",__css:{outline:0,...b.list},...a,className:It("chakra-menu__menu-list",m.className),...m,onUpdate:f,onAnimationComplete:nh(h.onComplete,m.onAnimationComplete)})})});Lu.displayName="MenuList";var j6=nt((e,t)=>{const{title:n,children:r,className:o,...s}=e,a=It("chakra-menu__group__title",o),u=$u();return i.jsxs("div",{ref:t,className:"chakra-menu__group",role:"group",children:[n&&i.jsx(Be.p,{className:a,...s,__css:u.groupTitle,children:n}),r]})});j6.displayName="MenuGroup";var s1=e=>{const{className:t,title:n,...r}=e,o=HD(r);return i.jsx(j6,{title:n,className:It("chakra-menu__option-group",t),...o})};s1.displayName="MenuOptionGroup";var KD=nt((e,t)=>{const n=$u();return i.jsx(Be.button,{ref:t,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),mh=nt((e,t)=>{const{children:n,as:r,...o}=e,s=$D(o,t),a=r||KD;return i.jsx(a,{...s,className:It("chakra-menu__menu-button",e.className),children:i.jsx(Be.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});mh.displayName="MenuButton";var XD=e=>i.jsx("svg",{viewBox:"0 0 14 14",width:"1em",height:"1em",...e,children:i.jsx("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})}),pu=nt((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",...o}=e,s=BD(o,t);return i.jsxs(_6,{...s,className:It("chakra-menu__menuitem-option",o.className),children:[n!==null&&i.jsx(o1,{fontSize:"0.8em",marginEnd:r,opacity:e.isChecked?1:0,children:n||i.jsx(XD,{})}),i.jsx("span",{style:{flex:1},children:s.children})]})});pu.id="MenuItemOption";pu.displayName="MenuItemOption";var QD={slideInBottom:{...xv,custom:{offsetY:16,reverse:!0}},slideInRight:{...xv,custom:{offsetX:16,reverse:!0}},scale:{...g5,custom:{initialScale:.95,reverse:!0}},none:{}},ZD=Be(To.section),JD=e=>QD[e||"none"],E6=p.forwardRef((e,t)=>{const{preset:n,motionProps:r=JD(n),...o}=e;return i.jsx(ZD,{ref:t,...r,...o})});E6.displayName="ModalTransition";var e9=Object.defineProperty,t9=(e,t,n)=>t in e?e9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n9=(e,t,n)=>(t9(e,typeof t!="symbol"?t+"":t,n),n),r9=class{constructor(){n9(this,"modals"),this.modals=new Map}add(e){return this.modals.set(e,this.modals.size+1),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){return e?this.modals.get(e)===this.modals.size:!1}},Ov=new r9;function I6(e,t){const[n,r]=p.useState(0);return p.useEffect(()=>{const o=e.current;if(o){if(t){const s=Ov.add(o);r(s)}return()=>{Ov.remove(o),r(0)}}},[t,e]),n}var o9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vl=new WeakMap,Nd=new WeakMap,zd={},xg=0,O6=function(e){return e&&(e.host||O6(e.parentNode))},s9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=O6(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},a9=function(e,t,n,r){var o=s9(t,Array.isArray(e)?e:[e]);zd[n]||(zd[n]=new WeakMap);var s=zd[n],a=[],u=new Set,d=new Set(o),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};o.forEach(f);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(u.has(v))h(v);else{var b=v.getAttribute(r),w=b!==null&&b!=="false",S=(vl.get(v)||0)+1,C=(s.get(v)||0)+1;vl.set(v,S),s.set(v,C),a.push(v),S===1&&w&&Nd.set(v,!0),C===1&&v.setAttribute(n,"true"),w||v.setAttribute(r,"true")}})};return h(t),u.clear(),xg++,function(){a.forEach(function(m){var v=vl.get(m)-1,b=s.get(m)-1;vl.set(m,v),s.set(m,b),v||(Nd.has(m)||m.removeAttribute(r),Nd.delete(m)),b||m.removeAttribute(n)}),xg--,xg||(vl=new WeakMap,vl=new WeakMap,Nd=new WeakMap,zd={})}},i9=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||o9(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),a9(r,o,n,"aria-hidden")):function(){return null}};function l9(e){const{isOpen:t,onClose:n,id:r,closeOnOverlayClick:o=!0,closeOnEsc:s=!0,useInert:a=!0,onOverlayClick:u,onEsc:d}=e,f=p.useRef(null),h=p.useRef(null),[m,v,b]=u9(r,"chakra-modal","chakra-modal--header","chakra-modal--body");c9(f,t&&a);const w=I6(f,t),S=p.useRef(null),C=p.useCallback(D=>{S.current=D.target},[]),P=p.useCallback(D=>{D.key==="Escape"&&(D.stopPropagation(),s&&(n==null||n()),d==null||d())},[s,n,d]),[k,_]=p.useState(!1),[E,I]=p.useState(!1),O=p.useCallback((D={},$=null)=>({role:"dialog",...D,ref:Un($,f),id:m,tabIndex:-1,"aria-modal":!0,"aria-labelledby":k?v:void 0,"aria-describedby":E?b:void 0,onClick:bt(D.onClick,A=>A.stopPropagation())}),[b,E,m,v,k]),R=p.useCallback(D=>{D.stopPropagation(),S.current===D.target&&Ov.isTopModal(f.current)&&(o&&(n==null||n()),u==null||u())},[n,o,u]),M=p.useCallback((D={},$=null)=>({...D,ref:Un($,h),onClick:bt(D.onClick,R),onKeyDown:bt(D.onKeyDown,P),onMouseDown:bt(D.onMouseDown,C)}),[P,C,R]);return{isOpen:t,onClose:n,headerId:v,bodyId:b,setBodyMounted:I,setHeaderMounted:_,dialogRef:f,overlayRef:h,getDialogProps:O,getDialogContainerProps:M,index:w}}function c9(e,t){const n=e.current;p.useEffect(()=>{if(!(!e.current||!t))return i9(e.current)},[t,e,n])}function u9(e,...t){const n=p.useId(),r=e||n;return p.useMemo(()=>t.map(o=>`${o}-${r}`),[r,t])}var[d9,fc]=lr({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[f9,Fi]=lr({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),hu=e=>{const t={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...e},{portalProps:n,children:r,autoFocus:o,trapFocus:s,initialFocusRef:a,finalFocusRef:u,returnFocusOnClose:d,blockScrollOnMount:f,allowPinchZoom:h,preserveScrollBarGap:m,motionPreset:v,lockFocusAcrossFrames:b,onCloseComplete:w}=t,S=Xr("Modal",t),P={...l9(t),autoFocus:o,trapFocus:s,initialFocusRef:a,finalFocusRef:u,returnFocusOnClose:d,blockScrollOnMount:f,allowPinchZoom:h,preserveScrollBarGap:m,motionPreset:v,lockFocusAcrossFrames:b};return i.jsx(f9,{value:P,children:i.jsx(d9,{value:S,children:i.jsx(ns,{onExitComplete:w,children:P.isOpen&&i.jsx(Mf,{...n,children:r})})})})};hu.displayName="Modal";var kf="right-scroll-bar-position",_f="width-before-scroll-bar",p9="with-scroll-bars-hidden",h9="--removed-body-scroll-bar-size",R6=L5(),Sg=function(){},gh=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Sg,onWheelCapture:Sg,onTouchMoveCapture:Sg}),o=r[0],s=r[1],a=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,h=e.enabled,m=e.shards,v=e.sideCar,b=e.noIsolation,w=e.inert,S=e.allowPinchZoom,C=e.as,P=C===void 0?"div":C,k=e.gapMode,_=N5(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,I=A5([n,t]),O=Fs(Fs({},_),o);return p.createElement(p.Fragment,null,h&&p.createElement(E,{sideCar:R6,removeScrollBar:f,shards:m,noIsolation:b,inert:w,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:k}),a?p.cloneElement(p.Children.only(u),Fs(Fs({},O),{ref:I})):p.createElement(P,Fs({},O,{className:d,ref:I}),u))});gh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gh.classNames={fullWidth:_f,zeroRight:kf};var O2,m9=function(){if(O2)return O2;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m9();return t&&e.setAttribute("nonce",t),e}function v9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function y9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var b9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=g9())&&(v9(t,n),y9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},x9=function(){var e=b9();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},M6=function(){var e=x9(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},S9={left:0,top:0,right:0,gap:0},wg=function(e){return parseInt(e||"",10)||0},w9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[wg(n),wg(r),wg(o)]},C9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return S9;var t=w9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},P9=M6(),k9=function(e,t,n,r){var o=e.left,s=e.top,a=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(p9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(_f,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(kf," .").concat(kf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_f," .").concat(_f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(h9,": ").concat(u,`px;
  }
`)},_9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,s=p.useMemo(function(){return C9(o)},[o]);return p.createElement(P9,{styles:k9(s,!t,o,n?"":"!important")})},Rv=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return Rv=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{Rv=!1}var yl=Rv?{passive:!1}:!1,j9=function(e){return e.tagName==="TEXTAREA"},T6=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!j9(e)&&n[t]==="visible")},E9=function(e){return T6(e,"overflowY")},I9=function(e){return T6(e,"overflowX")},R2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=D6(e,r);if(o){var s=A6(e,r),a=s[1],u=s[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},O9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},R9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},D6=function(e,t){return e==="v"?E9(t):I9(t)},A6=function(e,t){return e==="v"?O9(t):R9(t)},M9=function(e,t){return e==="h"&&t==="rtl"?-1:1},T9=function(e,t,n,r,o){var s=M9(e,window.getComputedStyle(t).direction),a=s*r,u=n.target,d=t.contains(u),f=!1,h=a>0,m=0,v=0;do{var b=A6(e,u),w=b[0],S=b[1],C=b[2],P=S-C-s*w;(w||P)&&D6(e,u)&&(m+=P,v+=w),u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(h&&(o&&m===0||!o&&a>m)||!h&&(o&&v===0||!o&&-a>v))&&(f=!0),f},Ld=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},M2=function(e){return[e.deltaX,e.deltaY]},T2=function(e){return e&&"current"in e?e.current:e},D9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},A9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},N9=0,bl=[];function z9(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),o=p.useState(N9++)[0],s=p.useState(M6)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=Pv([e.lockRef.current],(e.shards||[]).map(T2),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=p.useCallback(function(S,C){if("touches"in S&&S.touches.length===2)return!a.current.allowPinchZoom;var P=Ld(S),k=n.current,_="deltaX"in S?S.deltaX:k[0]-P[0],E="deltaY"in S?S.deltaY:k[1]-P[1],I,O=S.target,R=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in S&&R==="h"&&O.type==="range")return!1;var M=R2(R,O);if(!M)return!0;if(M?I=R:(I=R==="v"?"h":"v",M=R2(R,O)),!M)return!1;if(!r.current&&"changedTouches"in S&&(_||E)&&(r.current=I),!I)return!0;var D=r.current||I;return T9(D,C,S,D==="h"?_:E,!0)},[]),d=p.useCallback(function(S){var C=S;if(!(!bl.length||bl[bl.length-1]!==s)){var P="deltaY"in C?M2(C):Ld(C),k=t.current.filter(function(I){return I.name===C.type&&I.target===C.target&&D9(I.delta,P)})[0];if(k&&k.should){C.cancelable&&C.preventDefault();return}if(!k){var _=(a.current.shards||[]).map(T2).filter(Boolean).filter(function(I){return I.contains(C.target)}),E=_.length>0?u(C,_[0]):!a.current.noIsolation;E&&C.cancelable&&C.preventDefault()}}},[]),f=p.useCallback(function(S,C,P,k){var _={name:S,delta:C,target:P,should:k};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(E){return E!==_})},1)},[]),h=p.useCallback(function(S){n.current=Ld(S),r.current=void 0},[]),m=p.useCallback(function(S){f(S.type,M2(S),S.target,u(S,e.lockRef.current))},[]),v=p.useCallback(function(S){f(S.type,Ld(S),S.target,u(S,e.lockRef.current))},[]);p.useEffect(function(){return bl.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,yl),document.addEventListener("touchmove",d,yl),document.addEventListener("touchstart",h,yl),function(){bl=bl.filter(function(S){return S!==s}),document.removeEventListener("wheel",d,yl),document.removeEventListener("touchmove",d,yl),document.removeEventListener("touchstart",h,yl)}},[]);var b=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(s,{styles:A9(o)}):null,b?p.createElement(_9,{gapMode:e.gapMode}):null)}const $9=lT(R6,z9);var N6=p.forwardRef(function(e,t){return p.createElement(gh,Fs({},e,{ref:t,sideCar:$9}))});N6.classNames=gh.classNames;const L9=N6;function F9(e){const{autoFocus:t,trapFocus:n,dialogRef:r,initialFocusRef:o,blockScrollOnMount:s,allowPinchZoom:a,finalFocusRef:u,returnFocusOnClose:d,preserveScrollBarGap:f,lockFocusAcrossFrames:h,isOpen:m}=Fi(),[v,b]=fO();p.useEffect(()=>{!v&&b&&setTimeout(b)},[v,b]);const w=I6(r,m);return i.jsx(h6,{autoFocus:t,isDisabled:!n,initialFocusRef:o,finalFocusRef:u,restoreFocus:d,contentRef:r,lockFocusAcrossFrames:h,children:i.jsx(L9,{removeScrollBar:!f,allowPinchZoom:a,enabled:w===1&&s,forwardProps:!0,children:e.children})})}var mu=nt((e,t)=>{const{className:n,children:r,containerProps:o,motionProps:s,...a}=e,{getDialogProps:u,getDialogContainerProps:d}=Fi(),f=u(a,t),h=d(o),m=It("chakra-modal__content",n),v=fc(),b={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...v.dialog},w={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...v.dialogContainer},{motionPreset:S}=Fi();return i.jsx(F9,{children:i.jsx(Be.div,{...h,className:"chakra-modal__content-container",tabIndex:-1,__css:w,children:i.jsx(E6,{preset:S,motionProps:s,className:m,...f,__css:b,children:r})})})});mu.displayName="ModalContent";function vh(e){const{leastDestructiveRef:t,...n}=e;return i.jsx(hu,{...n,initialFocusRef:t})}var yh=nt((e,t)=>i.jsx(mu,{ref:t,role:"alertdialog",...e})),Za=nt((e,t)=>{const{className:n,...r}=e,o=It("chakra-modal__footer",n),a={display:"flex",alignItems:"center",justifyContent:"flex-end",...fc().footer};return i.jsx(Be.footer,{ref:t,...r,__css:a,className:o})});Za.displayName="ModalFooter";var Ja=nt((e,t)=>{const{className:n,...r}=e,{headerId:o,setHeaderMounted:s}=Fi();p.useEffect(()=>(s(!0),()=>s(!1)),[s]);const a=It("chakra-modal__header",n),d={flex:0,...fc().header};return i.jsx(Be.header,{ref:t,className:a,id:o,...r,__css:d})});Ja.displayName="ModalHeader";var B9=Be(To.div),ei=nt((e,t)=>{const{className:n,transition:r,motionProps:o,...s}=e,a=It("chakra-modal__overlay",n),d={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...fc().overlay},{motionPreset:f}=Fi(),m=o||(f==="none"?{}:m5);return i.jsx(B9,{...m,__css:d,ref:t,className:a,...s})});ei.displayName="ModalOverlay";var ti=nt((e,t)=>{const{className:n,...r}=e,{bodyId:o,setBodyMounted:s}=Fi();p.useEffect(()=>(s(!0),()=>s(!1)),[s]);const a=It("chakra-modal__body",n),u=fc();return i.jsx(Be.div,{ref:t,className:a,id:o,...r,__css:u.body})});ti.displayName="ModalBody";var a1=nt((e,t)=>{const{onClick:n,className:r,...o}=e,{onClose:s}=Fi(),a=It("chakra-modal__close-btn",r),u=fc();return i.jsx(pO,{ref:t,__css:u.closeButton,className:a,onClick:bt(n,d=>{d.stopPropagation(),s()}),...o})});a1.displayName="ModalCloseButton";var[H9,Fu]=lr({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[W9,i1]=lr({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function l1(e){const t=p.Children.only(e.children),{getTriggerProps:n}=Fu();return p.cloneElement(t,n(t.props,t.ref))}l1.displayName="PopoverTrigger";var xl={click:"click",hover:"hover"};function V9(e={}){const{closeOnBlur:t=!0,closeOnEsc:n=!0,initialFocusRef:r,id:o,returnFocusOnClose:s=!0,autoFocus:a=!0,arrowSize:u,arrowShadowColor:d,trigger:f=xl.click,openDelay:h=200,closeDelay:m=200,isLazy:v,lazyBehavior:b="unmount",computePositionOnMount:w,...S}=e,{isOpen:C,onClose:P,onOpen:k,onToggle:_}=i3(e),E=p.useRef(null),I=p.useRef(null),O=p.useRef(null),R=p.useRef(!1),M=p.useRef(!1);C&&(M.current=!0);const[D,$]=p.useState(!1),[A,G]=p.useState(!1),L=p.useId(),F=o??L,[W,X,N,V]=["popover-trigger","popover-content","popover-header","popover-body"].map(Ie=>`${Ie}-${F}`),{referenceRef:H,getArrowProps:U,getPopperProps:ne,getArrowInnerProps:ge,forceUpdate:le}=l3({...S,enabled:C||!!w}),re=w6({isOpen:C,ref:O});I5({enabled:C,ref:I}),x6(O,{focusRef:I,visible:C,shouldFocus:s&&f===xl.click}),ED(O,{focusRef:r,visible:C,shouldFocus:a&&f===xl.click});const K=r1({wasSelected:M.current,enabled:v,mode:b,isSelected:re.present}),ae=p.useCallback((Ie={},st=null)=>{const Fe={...Ie,style:{...Ie.style,transformOrigin:og.transformOrigin.varRef,[og.arrowSize.var]:u?`${u}px`:void 0,[og.arrowShadowColor.var]:d},ref:Un(O,st),children:K?Ie.children:null,id:X,tabIndex:-1,role:"dialog",onKeyDown:bt(Ie.onKeyDown,Ke=>{n&&Ke.key==="Escape"&&P()}),onBlur:bt(Ie.onBlur,Ke=>{const _t=D2(Ke),xt=Cg(O.current,_t),Fn=Cg(I.current,_t);C&&t&&(!xt&&!Fn)&&P()}),"aria-labelledby":D?N:void 0,"aria-describedby":A?V:void 0};return f===xl.hover&&(Fe.role="tooltip",Fe.onMouseEnter=bt(Ie.onMouseEnter,()=>{R.current=!0}),Fe.onMouseLeave=bt(Ie.onMouseLeave,Ke=>{Ke.nativeEvent.relatedTarget!==null&&(R.current=!1,setTimeout(()=>P(),m))})),Fe},[K,X,D,N,A,V,f,n,P,C,t,m,d,u]),de=p.useCallback((Ie={},st=null)=>ne({...Ie,style:{visibility:C?"visible":"hidden",...Ie.style}},st),[C,ne]),xe=p.useCallback((Ie,st=null)=>({...Ie,ref:Un(st,E,H)}),[E,H]),oe=p.useRef(),me=p.useRef(),fe=p.useCallback(Ie=>{E.current==null&&H(Ie)},[H]),ke=p.useCallback((Ie={},st=null)=>{const Fe={...Ie,ref:Un(I,st,fe),id:W,"aria-haspopup":"dialog","aria-expanded":C,"aria-controls":X};return f===xl.click&&(Fe.onClick=bt(Ie.onClick,_)),f===xl.hover&&(Fe.onFocus=bt(Ie.onFocus,()=>{oe.current===void 0&&k()}),Fe.onBlur=bt(Ie.onBlur,Ke=>{const _t=D2(Ke),xt=!Cg(O.current,_t);C&&t&&xt&&P()}),Fe.onKeyDown=bt(Ie.onKeyDown,Ke=>{Ke.key==="Escape"&&P()}),Fe.onMouseEnter=bt(Ie.onMouseEnter,()=>{R.current=!0,oe.current=window.setTimeout(()=>k(),h)}),Fe.onMouseLeave=bt(Ie.onMouseLeave,()=>{R.current=!1,oe.current&&(clearTimeout(oe.current),oe.current=void 0),me.current=window.setTimeout(()=>{R.current===!1&&P()},m)})),Fe},[W,C,X,f,fe,_,k,t,P,h,m]);p.useEffect(()=>()=>{oe.current&&clearTimeout(oe.current),me.current&&clearTimeout(me.current)},[]);const Ae=p.useCallback((Ie={},st=null)=>({...Ie,id:N,ref:Un(st,Fe=>{$(!!Fe)})}),[N]),ve=p.useCallback((Ie={},st=null)=>({...Ie,id:V,ref:Un(st,Fe=>{G(!!Fe)})}),[V]);return{forceUpdate:le,isOpen:C,onAnimationComplete:re.onComplete,onClose:P,getAnchorProps:xe,getArrowProps:U,getArrowInnerProps:ge,getPopoverPositionerProps:de,getPopoverProps:ae,getTriggerProps:ke,getHeaderProps:Ae,getBodyProps:ve}}function Cg(e,t){return e===t||(e==null?void 0:e.contains(t))}function D2(e){var t;const n=e.currentTarget.ownerDocument.activeElement;return(t=e.relatedTarget)!=null?t:n}function c1(e){const t=Xr("Popover",e),{children:n,...r}=xr(e),o=oh(),s=V9({...r,direction:o.direction});return i.jsx(H9,{value:s,children:i.jsx(W9,{value:t,children:E0(n,{isOpen:s.isOpen,onClose:s.onClose,forceUpdate:s.forceUpdate})})})}c1.displayName="Popover";var Pg=(e,t)=>t?`${e}.${t}, ${t}`:void 0;function z6(e){var t;const{bg:n,bgColor:r,backgroundColor:o,shadow:s,boxShadow:a,shadowColor:u}=e,{getArrowProps:d,getArrowInnerProps:f}=Fu(),h=i1(),m=(t=n??r)!=null?t:o,v=s??a;return i.jsx(Be.div,{...d(),className:"chakra-popover__arrow-positioner",children:i.jsx(Be.div,{className:It("chakra-popover__arrow",e.className),...f(e),__css:{"--popper-arrow-shadow-color":Pg("colors",u),"--popper-arrow-bg":Pg("colors",m),"--popper-arrow-shadow":Pg("shadows",v),...h.arrow}})})}z6.displayName="PopoverArrow";var $6=nt(function(t,n){const{getBodyProps:r}=Fu(),o=i1();return i.jsx(Be.div,{...r(t,n),className:It("chakra-popover__body",t.className),__css:o.body})});$6.displayName="PopoverBody";function U9(e){if(e)return{enter:{...e.enter,visibility:"visible"},exit:{...e.exit,transitionEnd:{visibility:"hidden"}}}}var G9={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},q9=Be(To.section),L6=nt(function(t,n){const{variants:r=G9,...o}=t,{isOpen:s}=Fu();return i.jsx(q9,{ref:n,variants:U9(r),initial:!1,animate:s?"enter":"exit",...o})});L6.displayName="PopoverTransition";var u1=nt(function(t,n){const{rootProps:r,motionProps:o,...s}=t,{getPopoverProps:a,getPopoverPositionerProps:u,onAnimationComplete:d}=Fu(),f=i1(),h={position:"relative",display:"flex",flexDirection:"column",...f.content};return i.jsx(Be.div,{...u(r),__css:f.popper,className:"chakra-popover__popper",children:i.jsx(L6,{...o,...a(s,n),onAnimationComplete:nh(d,s.onAnimationComplete),className:It("chakra-popover__content",t.className),__css:h})})});u1.displayName="PopoverContent";function Y9(e,t,n){return(e-t)*100/(n-t)}ba({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});ba({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});var K9=ba({"0%":{left:"-40%"},"100%":{left:"100%"}}),X9=ba({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function Q9(e){const{value:t=0,min:n,max:r,valueText:o,getValueText:s,isIndeterminate:a,role:u="progressbar"}=e,d=Y9(t,n,r);return{bind:{"data-indeterminate":a?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":a?void 0:t,"aria-valuetext":(()=>{if(t!=null)return typeof s=="function"?s(t,d):o})(),role:u},percent:d,value:t}}var[Z9,J9]=lr({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),eA=nt((e,t)=>{const{min:n,max:r,value:o,isIndeterminate:s,role:a,...u}=e,d=Q9({value:o,min:n,max:r,isIndeterminate:s,role:a}),h={height:"100%",...J9().filledTrack};return i.jsx(Be.div,{ref:t,style:{width:`${d.percent}%`,...u.style},...d.bind,...u,__css:h})}),F6=nt((e,t)=>{var n;const{value:r,min:o=0,max:s=100,hasStripe:a,isAnimated:u,children:d,borderRadius:f,isIndeterminate:h,"aria-label":m,"aria-labelledby":v,"aria-valuetext":b,title:w,role:S,...C}=xr(e),P=Xr("Progress",e),k=f??((n=P.track)==null?void 0:n.borderRadius),_={animation:`${X9} 1s linear infinite`},O={...!h&&a&&u&&_,...h&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${K9} 1s ease infinite normal none running`}},R={overflow:"hidden",position:"relative",...P.track};return i.jsx(Be.div,{ref:t,borderRadius:k,__css:R,...C,children:i.jsxs(Z9,{value:P,children:[i.jsx(eA,{"aria-label":m,"aria-labelledby":v,"aria-valuetext":b,min:o,max:s,value:r,isIndeterminate:h,css:O,borderRadius:k,title:w,role:S}),d]})})});F6.displayName="Progress";function tA(e){return e&&mx(e)&&mx(e.target)}function nA(e={}){const{onChange:t,value:n,defaultValue:r,name:o,isDisabled:s,isFocusable:a,isNative:u,...d}=e,[f,h]=p.useState(r||""),m=typeof n<"u",v=m?n:f,b=p.useRef(null),w=p.useCallback(()=>{const I=b.current;if(!I)return;let O="input:not(:disabled):checked";const R=I.querySelector(O);if(R){R.focus();return}O="input:not(:disabled)";const M=I.querySelector(O);M==null||M.focus()},[]),C=`radio-${p.useId()}`,P=o||C,k=p.useCallback(I=>{const O=tA(I)?I.target.value:I;m||h(O),t==null||t(String(O))},[t,m]),_=p.useCallback((I={},O=null)=>({...I,ref:Un(O,b),role:"radiogroup"}),[]),E=p.useCallback((I={},O=null)=>({...I,ref:O,name:P,[u?"checked":"isChecked"]:v!=null?I.value===v:void 0,onChange(M){k(M)},"data-radiogroup":!0}),[u,P,k,v]);return{getRootProps:_,getRadioProps:E,name:P,ref:b,focus:w,setValue:h,value:v,onChange:k,isDisabled:s,isFocusable:a,htmlProps:d}}var[rA,B6]=lr({name:"RadioGroupContext",strict:!1}),gu=nt((e,t)=>{const{colorScheme:n,size:r,variant:o,children:s,className:a,isDisabled:u,isFocusable:d,...f}=e,{value:h,onChange:m,getRootProps:v,name:b,htmlProps:w}=nA(f),S=p.useMemo(()=>({name:b,size:r,onChange:m,colorScheme:n,value:h,variant:o,isDisabled:u,isFocusable:d}),[b,r,m,n,h,o,u,d]);return i.jsx(rA,{value:S,children:i.jsx(Be.div,{...v(w,t),className:It("chakra-radio-group",a),children:s})})});gu.displayName="RadioGroup";var oA={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function sA(e={}){const{defaultChecked:t,isChecked:n,isFocusable:r,isDisabled:o,isReadOnly:s,isRequired:a,onChange:u,isInvalid:d,name:f,value:h,id:m,"data-radiogroup":v,"aria-describedby":b,...w}=e,S=`radio-${p.useId()}`,C=_0(),k=!!B6()||!!v;let E=!!C&&!k?C.id:S;E=m??E;const I=o??(C==null?void 0:C.isDisabled),O=s??(C==null?void 0:C.isReadOnly),R=a??(C==null?void 0:C.isRequired),M=d??(C==null?void 0:C.isInvalid),[D,$]=p.useState(!1),[A,G]=p.useState(!1),[L,F]=p.useState(!1),[W,X]=p.useState(!1),[N,V]=p.useState(!!t),H=typeof n<"u",U=H?n:N;p.useEffect(()=>x5($),[]);const ne=p.useCallback(fe=>{if(O||I){fe.preventDefault();return}H||V(fe.target.checked),u==null||u(fe)},[H,I,O,u]),ge=p.useCallback(fe=>{fe.key===" "&&X(!0)},[X]),le=p.useCallback(fe=>{fe.key===" "&&X(!1)},[X]),re=p.useCallback((fe={},ke=null)=>({...fe,ref:ke,"data-active":on(W),"data-hover":on(L),"data-disabled":on(I),"data-invalid":on(M),"data-checked":on(U),"data-focus":on(A),"data-focus-visible":on(A&&D),"data-readonly":on(O),"aria-hidden":!0,onMouseDown:bt(fe.onMouseDown,()=>X(!0)),onMouseUp:bt(fe.onMouseUp,()=>X(!1)),onMouseEnter:bt(fe.onMouseEnter,()=>F(!0)),onMouseLeave:bt(fe.onMouseLeave,()=>F(!1))}),[W,L,I,M,U,A,O,D]),{onFocus:K,onBlur:ae}=C??{},de=p.useCallback((fe={},ke=null)=>{const Ae=I&&!r;return{...fe,id:E,ref:ke,type:"radio",name:f,value:h,onChange:bt(fe.onChange,ne),onBlur:bt(ae,fe.onBlur,()=>G(!1)),onFocus:bt(K,fe.onFocus,()=>G(!0)),onKeyDown:bt(fe.onKeyDown,ge),onKeyUp:bt(fe.onKeyUp,le),checked:U,disabled:Ae,readOnly:O,required:R,"aria-invalid":Tl(M),"aria-disabled":Tl(Ae),"aria-required":Tl(R),"data-readonly":on(O),"aria-describedby":b,style:oA}},[I,r,E,f,h,ne,ae,K,ge,le,U,O,R,M,b]);return{state:{isInvalid:M,isFocused:A,isChecked:U,isActive:W,isHovered:L,isDisabled:I,isReadOnly:O,isRequired:R},getCheckboxProps:re,getRadioProps:re,getInputProps:de,getLabelProps:(fe={},ke=null)=>({...fe,ref:ke,onMouseDown:bt(fe.onMouseDown,aA),"data-disabled":on(I),"data-checked":on(U),"data-invalid":on(M)}),getRootProps:(fe,ke=null)=>({...fe,ref:ke,"data-disabled":on(I),"data-checked":on(U),"data-invalid":on(M)}),htmlProps:w}}function aA(e){e.preventDefault(),e.stopPropagation()}function iA(e,t){const n={},r={};for(const[o,s]of Object.entries(e))t.includes(o)?n[o]=s:r[o]=s;return[n,r]}var oo=nt((e,t)=>{var n;const r=B6(),{onChange:o,value:s}=e,a=Xr("Radio",{...r,...e}),u=xr(e),{spacing:d="0.5rem",children:f,isDisabled:h=r==null?void 0:r.isDisabled,isFocusable:m=r==null?void 0:r.isFocusable,inputProps:v,...b}=u;let w=e.isChecked;(r==null?void 0:r.value)!=null&&s!=null&&(w=r.value===s);let S=o;r!=null&&r.onChange&&s!=null&&(S=nh(r.onChange,o));const C=(n=e==null?void 0:e.name)!=null?n:r==null?void 0:r.name,{getInputProps:P,getCheckboxProps:k,getLabelProps:_,getRootProps:E,htmlProps:I}=sA({...b,isChecked:w,isFocusable:m,isDisabled:h,onChange:S,name:C}),[O,R]=iA(I,c3),M=k(R),D=P(v,t),$=_(),A=Object.assign({},O,E()),G={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...a.container},L={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...a.control},F={userSelect:"none",marginStart:d,...a.label};return i.jsxs(Be.label,{className:"chakra-radio",...A,__css:G,children:[i.jsx("input",{className:"chakra-radio__input",...D}),i.jsx(Be.span,{className:"chakra-radio__control",...M,__css:L}),f&&i.jsx(Be.span,{className:"chakra-radio__label",...$,__css:F,children:f})]})});oo.displayName="Radio";var H6=nt(function(t,n){const{children:r,placeholder:o,className:s,...a}=t;return i.jsxs(Be.select,{...a,ref:n,className:It("chakra-select",s),children:[o&&i.jsx("option",{value:"",children:o}),r]})});H6.displayName="SelectField";function lA(e,t){const n={},r={};for(const[o,s]of Object.entries(e))t.includes(o)?n[o]=s:r[o]=s;return[n,r]}var d1=nt((e,t)=>{var n;const r=Xr("Select",e),{rootProps:o,placeholder:s,icon:a,color:u,height:d,h:f,minH:h,minHeight:m,iconColor:v,iconSize:b,...w}=xr(e),[S,C]=lA(w,c3),P=I0(C),k={width:"100%",height:"fit-content",position:"relative",color:u},_={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return i.jsxs(Be.div,{className:"chakra-select__wrapper",__css:k,...S,...o,children:[i.jsx(H6,{ref:t,height:f??d,minH:h??m,placeholder:s,...P,__css:_,children:e.children}),i.jsx(W6,{"data-disabled":on(P.disabled),...(v||u)&&{color:v||u},__css:r.icon,...b&&{fontSize:b},children:a})]})});d1.displayName="Select";var cA=e=>i.jsx("svg",{viewBox:"0 0 24 24",...e,children:i.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),uA=Be("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),W6=e=>{const{children:t=i.jsx(cA,{}),...n}=e,r=p.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return i.jsx(uA,{...n,className:"chakra-select__icon-wrapper",children:p.isValidElement(t)?r:null})};W6.displayName="SelectIcon";function dA(){const e=p.useRef(!0);return p.useEffect(()=>{e.current=!1},[]),e.current}function fA(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}var pA=Be("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),Mv=u3("skeleton-start-color"),Tv=u3("skeleton-end-color"),hA=ba({from:{opacity:0},to:{opacity:1}}),mA=ba({from:{borderColor:Mv.reference,background:Mv.reference},to:{borderColor:Tv.reference,background:Tv.reference}}),f1=nt((e,t)=>{const n={...e,fadeDuration:typeof e.fadeDuration=="number"?e.fadeDuration:.4,speed:typeof e.speed=="number"?e.speed:.8},r=ic("Skeleton",n),o=dA(),{startColor:s="",endColor:a="",isLoaded:u,fadeDuration:d,speed:f,className:h,fitContent:m,...v}=xr(n),[b,w]=Xi("colors",[s,a]),S=fA(u),C=It("chakra-skeleton",h),P={...b&&{[Mv.variable]:b},...w&&{[Tv.variable]:w}};if(u){const k=o||S?"none":`${hA} ${d}s`;return i.jsx(Be.div,{ref:t,className:C,__css:{animation:k},...v})}return i.jsx(pA,{ref:t,className:C,...v,__css:{width:m?"fit-content":void 0,...r,...P,_dark:{...r._dark,...P},animation:`${f}s linear infinite alternate ${mA}`}})});f1.displayName="Skeleton";function gA(e){const{min:t=0,max:n=100,onChange:r,value:o,defaultValue:s,isReversed:a,direction:u="ltr",orientation:d="horizontal",id:f,isDisabled:h,isReadOnly:m,onChangeStart:v,onChangeEnd:b,step:w=1,getAriaValueText:S,"aria-valuetext":C,"aria-label":P,"aria-labelledby":k,name:_,focusThumbOnChange:E=!0,minStepsBetweenThumbs:I=0,...O}=e,R=Ga(v),M=Ga(b),D=Ga(S),$=xO({isReversed:a,direction:u,orientation:d}),[A,G]=_u({value:o,defaultValue:s??[25,75],onChange:r});if(!Array.isArray(A))throw new TypeError(`[range-slider] You passed an invalid value for \`value\` or \`defaultValue\`, expected \`Array\` but got \`${typeof A}\``);const[L,F]=p.useState(!1),[W,X]=p.useState(!1),[N,V]=p.useState(-1),H=!(h||m),U=p.useRef(A),ne=A.map(Oe=>gx(Oe,t,n)),ge=I*w,le=vA(ne,t,n,ge),re=p.useRef({eventSource:null,value:[],valueBounds:[]});re.current.value=ne,re.current.valueBounds=le;const K=ne.map(Oe=>n-Oe+t),de=($?K:ne).map(Oe=>vx(Oe,t,n)),xe=d==="vertical",oe=p.useRef(null),me=p.useRef(null),fe=hO({getNodes(){const Oe=me.current,et=Oe==null?void 0:Oe.querySelectorAll("[role=slider]");return et?Array.from(et):[]}}),ke=p.useId(),ve=SO(f??ke),Ie=p.useCallback(Oe=>{var et,it;if(!oe.current)return;re.current.eventSource="pointer";const ut=oe.current.getBoundingClientRect(),{clientX:Nt,clientY:vr}=(it=(et=Oe.touches)==null?void 0:et[0])!=null?it:Oe,cn=xe?ut.bottom-vr:Nt-ut.left,bn=xe?ut.height:ut.width;let Sr=cn/bn;return $&&(Sr=1-Sr),mO(Sr,t,n)},[xe,$,n,t]),st=(n-t)/10,Fe=w||(n-t)/100,Ke=p.useMemo(()=>({setValueAtIndex(Oe,et){if(!H)return;const it=re.current.valueBounds[Oe];et=parseFloat(gO(et,it.min,Fe)),et=gx(et,it.min,it.max);const ut=[...re.current.value];ut[Oe]=et,G(ut)},setActiveIndex:V,stepUp(Oe,et=Fe){const it=re.current.value[Oe],ut=$?it-et:it+et;Ke.setValueAtIndex(Oe,ut)},stepDown(Oe,et=Fe){const it=re.current.value[Oe],ut=$?it+et:it-et;Ke.setValueAtIndex(Oe,ut)},reset(){G(U.current)}}),[Fe,$,G,H]),_t=p.useCallback(Oe=>{const et=Oe.key,ut={ArrowRight:()=>Ke.stepUp(N),ArrowUp:()=>Ke.stepUp(N),ArrowLeft:()=>Ke.stepDown(N),ArrowDown:()=>Ke.stepDown(N),PageUp:()=>Ke.stepUp(N,st),PageDown:()=>Ke.stepDown(N,st),Home:()=>{const{min:Nt}=le[N];Ke.setValueAtIndex(N,Nt)},End:()=>{const{max:Nt}=le[N];Ke.setValueAtIndex(N,Nt)}}[et];ut&&(Oe.preventDefault(),Oe.stopPropagation(),ut(Oe),re.current.eventSource="keyboard")},[Ke,N,st,le]),{getThumbStyle:xt,rootStyle:Fn,trackStyle:Q,innerTrackStyle:we}=p.useMemo(()=>vO({isReversed:$,orientation:d,thumbRects:fe,thumbPercents:de}),[$,d,de,fe]),te=p.useCallback(Oe=>{var et;const it=Oe??N;if(it!==-1&&E){const ut=ve.getThumb(it),Nt=(et=me.current)==null?void 0:et.ownerDocument.getElementById(ut);Nt&&setTimeout(()=>Nt.focus())}},[E,N,ve]);Ki(()=>{re.current.eventSource==="keyboard"&&(M==null||M(re.current.value))},[ne,M]);const pe=Oe=>{const et=Ie(Oe)||0,it=re.current.value.map(bn=>Math.abs(bn-et)),ut=Math.min(...it);let Nt=it.indexOf(ut);const vr=it.filter(bn=>bn===ut);vr.length>1&&et>re.current.value[Nt]&&(Nt=Nt+vr.length-1),V(Nt),Ke.setValueAtIndex(Nt,et),te(Nt)},Ne=Oe=>{if(N==-1)return;const et=Ie(Oe)||0;V(N),Ke.setValueAtIndex(N,et),te(N)};yO(me,{onPanSessionStart(Oe){H&&(F(!0),pe(Oe),R==null||R(re.current.value))},onPanSessionEnd(){H&&(F(!1),M==null||M(re.current.value))},onPan(Oe){H&&Ne(Oe)}});const Xe=p.useCallback((Oe={},et=null)=>({...Oe,...O,id:ve.root,ref:Un(et,me),tabIndex:-1,"aria-disabled":sg(h),"data-focused":pl(W),style:{...Oe.style,...Fn}}),[O,h,W,Fn,ve]),yt=p.useCallback((Oe={},et=null)=>({...Oe,ref:Un(et,oe),id:ve.track,"data-disabled":pl(h),style:{...Oe.style,...Q}}),[h,Q,ve]),Xt=p.useCallback((Oe={},et=null)=>({...Oe,ref:et,id:ve.innerTrack,style:{...Oe.style,...we}}),[we,ve]),an=p.useCallback((Oe,et=null)=>{var it;const{index:ut,...Nt}=Oe,vr=ne[ut];if(vr==null)throw new TypeError(`[range-slider > thumb] Cannot find value at index \`${ut}\`. The \`value\` or \`defaultValue\` length is : ${ne.length}`);const cn=le[ut];return{...Nt,ref:et,role:"slider",tabIndex:H?0:void 0,id:ve.getThumb(ut),"data-active":pl(L&&N===ut),"aria-valuetext":(it=D==null?void 0:D(vr))!=null?it:C==null?void 0:C[ut],"aria-valuemin":cn.min,"aria-valuemax":cn.max,"aria-valuenow":vr,"aria-orientation":d,"aria-disabled":sg(h),"aria-readonly":sg(m),"aria-label":P==null?void 0:P[ut],"aria-labelledby":P!=null&&P[ut]||k==null?void 0:k[ut],style:{...Oe.style,...xt(ut)},onKeyDown:ag(Oe.onKeyDown,_t),onFocus:ag(Oe.onFocus,()=>{X(!0),V(ut)}),onBlur:ag(Oe.onBlur,()=>{X(!1),V(-1)})}},[ve,ne,le,H,L,N,D,C,d,h,m,P,k,xt,_t,X]),Pn=p.useCallback((Oe={},et=null)=>({...Oe,ref:et,id:ve.output,htmlFor:ne.map((it,ut)=>ve.getThumb(ut)).join(" "),"aria-live":"off"}),[ve,ne]),gr=p.useCallback((Oe,et=null)=>{const{value:it,...ut}=Oe,Nt=!(it<t||it>n),vr=it>=ne[0]&&it<=ne[ne.length-1];let cn=vx(it,t,n);cn=$?100-cn:cn;const bn={position:"absolute",pointerEvents:"none",...bO({orientation:d,vertical:{bottom:`${cn}%`},horizontal:{left:`${cn}%`}})};return{...ut,ref:et,id:ve.getMarker(Oe.value),role:"presentation","aria-hidden":!0,"data-disabled":pl(h),"data-invalid":pl(!Nt),"data-highlighted":pl(vr),style:{...Oe.style,...bn}}},[h,$,n,t,d,ne,ve]),ln=p.useCallback((Oe,et=null)=>{const{index:it,...ut}=Oe;return{...ut,ref:et,id:ve.getInput(it),type:"hidden",value:ne[it],name:Array.isArray(_)?_[it]:`${_}-${it}`}},[_,ne,ve]);return{state:{value:ne,isFocused:W,isDragging:L,getThumbPercent:Oe=>de[Oe],getThumbMinValue:Oe=>le[Oe].min,getThumbMaxValue:Oe=>le[Oe].max},actions:Ke,getRootProps:Xe,getTrackProps:yt,getInnerTrackProps:Xt,getThumbProps:an,getMarkerProps:gr,getInputProps:ln,getOutputProps:Pn}}function vA(e,t,n,r){return e.map((o,s)=>{const a=s===0?t:e[s-1]+r,u=s===e.length-1?n:e[s+1]-r;return{min:a,max:u}})}var[yA,bh]=lr({name:"SliderContext",errorMessage:"useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />"}),[bA,xh]=lr({name:"RangeSliderStylesContext",errorMessage:`useRangeSliderStyles returned is 'undefined'. Seems you forgot to wrap the components in "<RangeSlider />" `}),V6=nt(function(t,n){const r={orientation:"horizontal",...t},o=Xr("Slider",r),s=xr(r),{direction:a}=oh();s.direction=a;const{getRootProps:u,...d}=gA(s),f=p.useMemo(()=>({...d,name:r.name}),[d,r.name]);return i.jsx(yA,{value:f,children:i.jsx(bA,{value:o,children:i.jsx(Be.div,{...u({},n),className:"chakra-slider",__css:o.container,children:r.children})})})});V6.displayName="RangeSlider";var Dv=nt(function(t,n){const{getThumbProps:r,getInputProps:o,name:s}=bh(),a=xh(),u=r(t,n);return i.jsxs(Be.div,{...u,className:O0("chakra-slider__thumb",t.className),__css:a.thumb,children:[u.children,s&&i.jsx("input",{...o({index:t.index})})]})});Dv.displayName="RangeSliderThumb";var U6=nt(function(t,n){const{getTrackProps:r}=bh(),o=xh(),s=r(t,n);return i.jsx(Be.div,{...s,className:O0("chakra-slider__track",t.className),__css:o.track,"data-testid":"chakra-range-slider-track"})});U6.displayName="RangeSliderTrack";var G6=nt(function(t,n){const{getInnerTrackProps:r}=bh(),o=xh(),s=r(t,n);return i.jsx(Be.div,{...s,className:"chakra-slider__filled-track",__css:o.filledTrack})});G6.displayName="RangeSliderFilledTrack";var jf=nt(function(t,n){const{getMarkerProps:r}=bh(),o=xh(),s=r(t,n);return i.jsx(Be.div,{...s,className:O0("chakra-slider__marker",t.className),__css:o.mark})});jf.displayName="RangeSliderMark";var p1=nt(function(t,n){const r=Xr("Switch",t),{spacing:o="0.5rem",children:s,...a}=xr(t),{state:u,getInputProps:d,getCheckboxProps:f,getRootProps:h,getLabelProps:m}=S5(a),v=p.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container}),[r.container]),b=p.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track}),[r.track]),w=p.useMemo(()=>({userSelect:"none",marginStart:o,...r.label}),[o,r.label]);return i.jsxs(Be.label,{...h(),className:It("chakra-switch",t.className),__css:v,children:[i.jsx("input",{className:"chakra-switch__input",...d({},n)}),i.jsx(Be.span,{...f(),className:"chakra-switch__track",__css:b,children:i.jsx(Be.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":on(u.isChecked),"data-hover":on(u.isHovered)})}),s&&i.jsx(Be.span,{className:"chakra-switch__label",...m(),__css:w,children:s})]})});p1.displayName="Switch";var[xA,SA,wA,CA]=H0();function PA(e){var t;const{defaultIndex:n,onChange:r,index:o,isManual:s,isLazy:a,lazyBehavior:u="unmount",orientation:d="horizontal",direction:f="ltr",...h}=e,[m,v]=p.useState(n??0),[b,w]=_u({defaultValue:n??0,value:o,onChange:r});p.useEffect(()=>{o!=null&&v(o)},[o]);const S=wA(),C=p.useId();return{id:`tabs-${(t=e.id)!=null?t:C}`,selectedIndex:b,focusedIndex:m,setSelectedIndex:w,setFocusedIndex:v,isManual:s,isLazy:a,lazyBehavior:u,orientation:d,descendants:S,direction:f,htmlProps:h}}var[kA,Sh]=lr({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function _A(e){const{focusedIndex:t,orientation:n,direction:r}=Sh(),o=SA(),s=p.useCallback(a=>{const u=()=>{var k;const _=o.nextEnabled(t);_&&((k=_.node)==null||k.focus())},d=()=>{var k;const _=o.prevEnabled(t);_&&((k=_.node)==null||k.focus())},f=()=>{var k;const _=o.firstEnabled();_&&((k=_.node)==null||k.focus())},h=()=>{var k;const _=o.lastEnabled();_&&((k=_.node)==null||k.focus())},m=n==="horizontal",v=n==="vertical",b=a.key,w=r==="ltr"?"ArrowLeft":"ArrowRight",S=r==="ltr"?"ArrowRight":"ArrowLeft",P={[w]:()=>m&&d(),[S]:()=>m&&u(),ArrowDown:()=>v&&u(),ArrowUp:()=>v&&d(),Home:f,End:h}[b];P&&(a.preventDefault(),P(a))},[o,t,n,r]);return{...e,role:"tablist","aria-orientation":n,onKeyDown:bt(e.onKeyDown,s)}}function jA(e){const{isDisabled:t,isFocusable:n,...r}=e,{setSelectedIndex:o,isManual:s,id:a,setFocusedIndex:u,selectedIndex:d}=Sh(),{index:f,register:h}=CA({disabled:t&&!n}),m=f===d,v=()=>{o(f)},b=()=>{u(f),!s&&!(t&&n)&&o(f)},w=b6({...r,ref:Un(h,e.ref),isDisabled:t,isFocusable:n,onClick:bt(e.onClick,v)}),S="button";return{...w,id:q6(a,f),role:"tab",tabIndex:m?0:-1,type:S,"aria-selected":m,"aria-controls":Y6(a,f),onFocus:t?void 0:bt(e.onFocus,b)}}var[EA,IA]=lr({});function OA(e){const t=Sh(),{id:n,selectedIndex:r}=t,s=rh(e.children).map((a,u)=>p.createElement(EA,{key:u,value:{isSelected:u===r,id:Y6(n,u),tabId:q6(n,u),selectedIndex:r}},a));return{...e,children:s}}function RA(e){const{children:t,...n}=e,{isLazy:r,lazyBehavior:o}=Sh(),{isSelected:s,id:a,tabId:u}=IA(),d=p.useRef(!1);s&&(d.current=!0);const f=r1({wasSelected:d.current,isSelected:s,enabled:r,mode:o});return{tabIndex:0,...n,children:f?t:null,role:"tabpanel","aria-labelledby":u,hidden:!s,id:a}}function q6(e,t){return`${e}--tab-${t}`}function Y6(e,t){return`${e}--tabpanel-${t}`}var[MA,wh]=lr({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),h1=nt(function(t,n){const r=Xr("Tabs",t),{children:o,className:s,...a}=xr(t),{htmlProps:u,descendants:d,...f}=PA(a),h=p.useMemo(()=>f,[f]),{isFitted:m,...v}=u;return i.jsx(xA,{value:d,children:i.jsx(kA,{value:h,children:i.jsx(MA,{value:r,children:i.jsx(Be.div,{className:It("chakra-tabs",s),ref:n,...v,__css:r.root,children:o})})})})});h1.displayName="Tabs";var m1=nt(function(t,n){const r=_A({...t,ref:n}),s={display:"flex",...wh().tablist};return i.jsx(Be.div,{...r,className:It("chakra-tabs__tablist",t.className),__css:s})});m1.displayName="TabList";var g1=nt(function(t,n){const r=RA({...t,ref:n}),o=wh();return i.jsx(Be.div,{outline:"0",...r,className:It("chakra-tabs__tab-panel",t.className),__css:o.tabpanel})});g1.displayName="TabPanel";var v1=nt(function(t,n){const r=OA(t),o=wh();return i.jsx(Be.div,{...r,width:"100%",ref:n,className:It("chakra-tabs__tab-panels",t.className),__css:o.tabpanels})});v1.displayName="TabPanels";var y1=nt(function(t,n){const r=wh(),o=jA({...t,ref:n}),s={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return i.jsx(Be.button,{...o,className:It("chakra-tabs__tab",t.className),__css:s})});y1.displayName="Tab";function TA(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var DA=["h","minH","height","minHeight"],K6=nt((e,t)=>{const n=ic("Textarea",e),{className:r,rows:o,...s}=xr(e),a=I0(s),u=o?TA(n,DA):n;return i.jsx(Be.textarea,{ref:t,rows:o,...a,className:It("chakra-textarea",r),__css:u})});K6.displayName="Textarea";const X6=({id:e,x:t,y:n,width:r,height:o,style:s,color:a,strokeColor:u,strokeWidth:d,className:f,borderRadius:h,shapeRendering:m,onClick:v})=>{const{background:b,backgroundColor:w}=s||{},S=a||b||w;return i.jsx("rect",{className:sh(["react-flow__minimap-node",f]),x:t,y:n,rx:h,ry:h,width:r,height:o,fill:S,stroke:u,strokeWidth:d,shapeRendering:m,onClick:v?C=>v(C,e):void 0})};X6.displayName="MiniMapNode";var AA=p.memo(X6);const NA=e=>e.nodeOrigin,zA=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),kg=e=>e instanceof Function?e:()=>e;function $A({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=AA,onClick:a}){const u=Tf(zA,R0),d=Tf(NA),f=kg(t),h=kg(e),m=kg(n),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return i.jsx(i.Fragment,{children:u.map(b=>{const{x:w,y:S}=wO(b,d).positionAbsolute;return i.jsx(s,{x:w,y:S,width:b.width,height:b.height,style:b.style,className:m(b),color:f(b),borderRadius:r,strokeColor:h(b),strokeWidth:o,shapeRendering:v,onClick:a,id:b.id},b.id)})})}var LA=p.memo($A);const FA=200,BA=150,HA=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?_O(jO(t,e.nodeOrigin),n):n,rfId:e.rfId}},WA="react-flow__minimap-desc";function Q6({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:a=2,nodeComponent:u,maskColor:d="rgb(240, 240, 240, 0.6)",maskStrokeColor:f="none",maskStrokeWidth:h=1,position:m="bottom-right",onClick:v,onNodeClick:b,pannable:w=!1,zoomable:S=!1,ariaLabel:C="React Flow mini map",inversePan:P=!1,zoomStep:k=10}){const _=d3(),E=p.useRef(null),{boundingRect:I,viewBB:O,rfId:R}=Tf(HA,R0),M=(e==null?void 0:e.width)??FA,D=(e==null?void 0:e.height)??BA,$=I.width/M,A=I.height/D,G=Math.max($,A),L=G*M,F=G*D,W=5*G,X=I.x-(L-I.width)/2-W,N=I.y-(F-I.height)/2-W,V=L+W*2,H=F+W*2,U=`${WA}-${R}`,ne=p.useRef(0);ne.current=G,p.useEffect(()=>{if(E.current){const re=f3(E.current),K=xe=>{const{transform:oe,d3Selection:me,d3Zoom:fe}=_.getState();if(xe.sourceEvent.type!=="wheel"||!me||!fe)return;const ke=-xe.sourceEvent.deltaY*(xe.sourceEvent.deltaMode===1?.05:xe.sourceEvent.deltaMode?1:.002)*k,Ae=oe[2]*Math.pow(2,ke);fe.scaleTo(me,Ae)},ae=xe=>{const{transform:oe,d3Selection:me,d3Zoom:fe,translateExtent:ke,width:Ae,height:ve}=_.getState();if(xe.sourceEvent.type!=="mousemove"||!me||!fe)return;const Ie=ne.current*Math.max(1,oe[2])*(P?-1:1),st={x:oe[0]-xe.sourceEvent.movementX*Ie,y:oe[1]-xe.sourceEvent.movementY*Ie},Fe=[[0,0],[Ae,ve]],Ke=PO.translate(st.x,st.y).scale(oe[2]),_t=fe.constrain()(Ke,Fe,ke);fe.transform(me,_t)},de=CO().on("zoom",w?ae:null).on("zoom.wheel",S?K:null);return re.call(de),()=>{re.on("zoom",null)}}},[w,S,P,k]);const ge=v?re=>{const K=kO(re);v(re,{x:K[0],y:K[1]})}:void 0,le=b?(re,K)=>{const ae=_.getState().nodeInternals.get(K);b(re,ae)}:void 0;return i.jsx(Eu,{position:m,style:e,className:sh(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:i.jsxs("svg",{width:M,height:D,viewBox:`${X} ${N} ${V} ${H}`,role:"img","aria-labelledby":U,ref:E,onClick:ge,children:[C&&i.jsx("title",{id:U,children:C}),i.jsx(LA,{onClick:le,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:a,nodeComponent:u}),i.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-W},${N-W}h${V+W*2}v${H+W*2}h${-V-W*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fill:d,fillRule:"evenodd",stroke:f,strokeWidth:h,pointerEvents:"none"})]})})}Q6.displayName="MiniMap";var VA=p.memo(Q6),vs;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(vs||(vs={}));function UA({color:e,dimensions:t,lineWidth:n}){return i.jsx("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function GA({color:e,radius:t}){return i.jsx("circle",{cx:t,cy:t,r:t,fill:e})}const qA={[vs.Dots]:"#91919a",[vs.Lines]:"#eee",[vs.Cross]:"#e2e2e2"},YA={[vs.Dots]:1,[vs.Lines]:1,[vs.Cross]:6},KA=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Z6({id:e,variant:t=vs.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:a,style:u,className:d}){const f=p.useRef(null),{transform:h,patternId:m}=Tf(KA,R0),v=a||qA[t],b=r||YA[t],w=t===vs.Dots,S=t===vs.Cross,C=Array.isArray(n)?n:[n,n],P=[C[0]*h[2]||1,C[1]*h[2]||1],k=b*h[2],_=S?[k,k]:P,E=w?[k/s,k/s]:[_[0]/s,_[1]/s];return i.jsxs("svg",{className:sh(["react-flow__background",d]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background",children:[i.jsx("pattern",{id:m+e,x:h[0]%P[0],y:h[1]%P[1],width:P[0],height:P[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:w?i.jsx(GA,{color:v,radius:k/s}):i.jsx(UA,{dimensions:_,color:v,lineWidth:o})}),i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${m+e})`})]})}Z6.displayName="Background";var XA=p.memo(Z6),nu;(function(e){e.Line="line",e.Handle="handle"})(nu||(nu={}));function QA({width:e,prevWidth:t,height:n,prevHeight:r,invertX:o,invertY:s}){const a=e-t,u=n-r,d=[a>0?1:a<0?-1:0,u>0?1:u<0?-1:0];return a&&o&&(d[0]=d[0]*-1),u&&s&&(d[1]=d[1]*-1),d}const J6={width:0,height:0,x:0,y:0},ZA={...J6,pointerX:0,pointerY:0,aspectRatio:1};function JA({nodeId:e,position:t,variant:n=nu.Handle,className:r,style:o={},children:s,color:a,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:m=!1,shouldResize:v,onResizeStart:b,onResize:w,onResizeEnd:S}){const C=EO(),P=typeof e=="string"?e:C,k=d3(),_=p.useRef(null),E=p.useRef(ZA),I=p.useRef(J6),O=IO(),R=n===nu.Line?"right":"bottom-right",M=t??R;p.useEffect(()=>{if(!_.current||!P)return;const G=f3(_.current),L=M.includes("right")||M.includes("left"),F=M.includes("bottom")||M.includes("top"),W=M.includes("left"),X=M.includes("top"),N=OO().on("start",V=>{const H=k.getState().nodeInternals.get(P),{xSnapped:U,ySnapped:ne}=O(V);I.current={width:(H==null?void 0:H.width)??0,height:(H==null?void 0:H.height)??0,x:(H==null?void 0:H.position.x)??0,y:(H==null?void 0:H.position.y)??0},E.current={...I.current,pointerX:U,pointerY:ne,aspectRatio:I.current.width/I.current.height},b==null||b(V,{...I.current})}).on("drag",V=>{const{nodeInternals:H,triggerNodeChanges:U}=k.getState(),{xSnapped:ne,ySnapped:ge}=O(V),le=H.get(P);if(le){const re=[],{pointerX:K,pointerY:ae,width:de,height:xe,x:oe,y:me,aspectRatio:fe}=E.current,{x:ke,y:Ae,width:ve,height:Ie}=I.current,st=Math.floor(L?ne-K:0),Fe=Math.floor(F?ge-ae:0);let Ke=yx(de+(W?-st:st),u,f),_t=yx(xe+(X?-Fe:Fe),d,h);if(m){const pe=Ke/_t,Ne=L&&F,Xe=L&&!F,yt=F&&!L;Ke=pe<=fe&&Ne||yt?_t*fe:Ke,_t=pe>fe&&Ne||Xe?Ke/fe:_t,Ke>=f?(Ke=f,_t=f/fe):Ke<=u&&(Ke=u,_t=u/fe),_t>=h?(_t=h,Ke=h*fe):_t<=d&&(_t=d,Ke=d*fe)}const xt=Ke!==ve,Fn=_t!==Ie;if(W||X){const pe=W?oe-(Ke-de):oe,Ne=X?me-(_t-xe):me,Xe=pe!==ke&&xt,yt=Ne!==Ae&&Fn;if(Xe||yt){const Xt={id:le.id,type:"position",position:{x:Xe?pe:ke,y:yt?Ne:Ae}};re.push(Xt),I.current.x=Xt.position.x,I.current.y=Xt.position.y}}if(xt||Fn){const pe={id:P,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:Ke,height:_t}};re.push(pe),I.current.width=Ke,I.current.height=_t}if(re.length===0)return;const Q=QA({width:I.current.width,prevWidth:ve,height:I.current.height,prevHeight:Ie,invertX:W,invertY:X}),we={...I.current,direction:Q};if((v==null?void 0:v(V,we))===!1)return;w==null||w(V,we),U(re)}}).on("end",V=>{const H={id:P,type:"dimensions",resizing:!1};S==null||S(V,{...I.current}),k.getState().triggerNodeChanges([H])});return G.call(N),()=>{G.on(".drag",null)}},[P,M,u,d,f,h,m,O,b,w,S]);const D=M.split("-"),$=n===nu.Line?"borderColor":"backgroundColor",A=a?{...o,[$]:a}:o;return i.jsx("div",{className:sh(["react-flow__resize-control","nodrag",...D,n,r]),ref:_,style:A,children:s})}var eN=p.memo(JA);let A2=()=>{};const Ch=()=>({setOpenUploaderFunction:p.useCallback(t=>{t&&(A2=t)},[]),openUploader:A2});var tN=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Bu(e,t){var n=nN(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function nN(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=tN.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var rN=[".DS_Store","Thumbs.db"];function oN(e){return uc(this,void 0,void 0,function(){return dc(this,function(t){return Qf(e)&&sN(e.dataTransfer)?[2,cN(e.dataTransfer,e.type)]:aN(e)?[2,iN(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,lN(e)]:[2,[]]})})}function sN(e){return Qf(e)}function aN(e){return Qf(e)&&Qf(e.target)}function Qf(e){return typeof e=="object"&&e!==null}function iN(e){return Av(e.target.files).map(function(t){return Bu(t)})}function lN(e){return uc(this,void 0,void 0,function(){var t;return dc(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return Bu(r)})]}})})}function cN(e,t){return uc(this,void 0,void 0,function(){var n,r;return dc(this,function(o){switch(o.label){case 0:return e.items?(n=Av(e.items).filter(function(s){return s.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(uN))]):[3,2];case 1:return r=o.sent(),[2,N2(eP(r))];case 2:return[2,N2(Av(e.files).map(function(s){return Bu(s)}))]}})})}function N2(e){return e.filter(function(t){return rN.indexOf(t.name)===-1})}function Av(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function uN(e){if(typeof e.webkitGetAsEntry!="function")return z2(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?tP(t):z2(e)}function eP(e){return e.reduce(function(t,n){return Pv(Pv([],x2(t),!1),x2(Array.isArray(n)?eP(n):[n]),!1)},[])}function z2(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Bu(t);return Promise.resolve(n)}function dN(e){return uc(this,void 0,void 0,function(){return dc(this,function(t){return[2,e.isDirectory?tP(e):fN(e)]})})}function tP(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function s(){var a=this;t.readEntries(function(u){return uc(a,void 0,void 0,function(){var d,f,h;return dc(this,function(m){switch(m.label){case 0:if(u.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return d=m.sent(),n(d),[3,4];case 3:return f=m.sent(),r(f),[3,4];case 4:return[3,6];case 5:h=Promise.all(u.map(dN)),o.push(h),s(),m.label=6;case 6:return[2]}})})},function(u){r(u)})}s()})}function fN(e){return uc(this,void 0,void 0,function(){return dc(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var s=Bu(o,e.fullPath);n(s)},function(o){r(o)})})]})})}var pN=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return n.some(function(a){var u=a.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?s===u.replace(/\/.*$/,""):o===u})}return!0};function $2(e){return gN(e)||mN(e)||rP(e)||hN()}function hN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gN(e){if(Array.isArray(e))return Nv(e)}function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function F2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){nP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vu(e,t){return bN(e)||yN(e,t)||rP(e,t)||vN()}function vN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rP(e,t){if(e){if(typeof e=="string")return Nv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nv(e,t)}}function Nv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yN(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,s=!1,a,u;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));o=!0);}catch(d){s=!0,u=d}finally{try{!o&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function bN(e){if(Array.isArray(e))return e}var xN="file-invalid-type",SN="file-too-large",wN="file-too-small",CN="too-many-files",PN=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:xN,message:"File type must be ".concat(n)}},B2=function(t){return{code:SN,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},H2=function(t){return{code:wN,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},kN={code:CN,message:"Too many files"};function oP(e,t){var n=e.type==="application/x-moz-file"||pN(e,t);return[n,n?null:PN(t)]}function sP(e,t,n){if(Pi(e.size))if(Pi(t)&&Pi(n)){if(e.size>n)return[!1,B2(n)];if(e.size<t)return[!1,H2(t)]}else{if(Pi(t)&&e.size<t)return[!1,H2(t)];if(Pi(n)&&e.size>n)return[!1,B2(n)]}return[!0,null]}function Pi(e){return e!=null}function _N(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,s=e.multiple,a=e.maxFiles,u=e.validator;return!s&&t.length>1||s&&a>=1&&t.length>a?!1:t.every(function(d){var f=oP(d,n),h=vu(f,1),m=h[0],v=sP(d,r,o),b=vu(v,1),w=b[0],S=u?u(d):null;return m&&w&&!S})}function Zf(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Fd(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function W2(e){e.preventDefault()}function jN(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function EN(e){return e.indexOf("Edge/")!==-1}function IN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return jN(e)||EN(e)}function zs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return t.some(function(u){return!Zf(r)&&u&&u.apply(void 0,[r].concat(s)),Zf(r)})}}function ON(){return"showOpenFilePicker"in window}function RN(e){if(Pi(e)){var t=Object.entries(e).filter(function(n){var r=vu(n,2),o=r[0],s=r[1],a=!0;return aP(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(s)||!s.every(iP))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var o=vu(r,2),s=o[0],a=o[1];return F2(F2({},n),{},nP({},s,a))},{});return[{description:"Files",accept:t}]}return e}function MN(e){if(Pi(e))return Object.entries(e).reduce(function(t,n){var r=vu(n,2),o=r[0],s=r[1];return[].concat($2(t),[o],$2(s))},[]).filter(function(t){return aP(t)||iP(t)}).join(",")}function TN(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function DN(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function aP(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function iP(e){return/^.*\.[\w]+$/.test(e)}var AN=["children"],NN=["open"],zN=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],$N=["refKey","onChange","onClick"];function LN(e){return HN(e)||BN(e)||lP(e)||FN()}function FN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HN(e){if(Array.isArray(e))return zv(e)}function _g(e,t){return UN(e)||VN(e,t)||lP(e,t)||WN()}function WN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lP(e,t){if(e){if(typeof e=="string")return zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(e,t)}}function zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VN(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,s=!1,a,u;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));o=!0);}catch(d){s=!0,u=d}finally{try{!o&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function UN(e){if(Array.isArray(e))return e}function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(r){$v(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e,t){if(e==null)return{};var n=GN(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GN(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var b1=p.forwardRef(function(e,t){var n=e.children,r=Jf(e,AN),o=x1(r),s=o.open,a=Jf(o,NN);return p.useImperativeHandle(t,function(){return{open:s}},[s]),z.createElement(p.Fragment,null,n(sr(sr({},a),{},{open:s})))});b1.displayName="Dropzone";var cP={disabled:!1,getFilesFromEvent:oN,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};b1.defaultProps=cP;b1.propTypes={children:An.func,accept:An.objectOf(An.arrayOf(An.string)),multiple:An.bool,preventDropOnDocument:An.bool,noClick:An.bool,noKeyboard:An.bool,noDrag:An.bool,noDragEventsBubbling:An.bool,minSize:An.number,maxSize:An.number,maxFiles:An.number,disabled:An.bool,getFilesFromEvent:An.func,onFileDialogCancel:An.func,onFileDialogOpen:An.func,useFsAccessApi:An.bool,autoFocus:An.bool,onDragEnter:An.func,onDragLeave:An.func,onDragOver:An.func,onDrop:An.func,onDropAccepted:An.func,onDropRejected:An.func,onError:An.func,validator:An.func};var Lv={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function x1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=sr(sr({},cP),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,s=t.maxSize,a=t.minSize,u=t.multiple,d=t.maxFiles,f=t.onDragEnter,h=t.onDragLeave,m=t.onDragOver,v=t.onDrop,b=t.onDropAccepted,w=t.onDropRejected,S=t.onFileDialogCancel,C=t.onFileDialogOpen,P=t.useFsAccessApi,k=t.autoFocus,_=t.preventDropOnDocument,E=t.noClick,I=t.noKeyboard,O=t.noDrag,R=t.noDragEventsBubbling,M=t.onError,D=t.validator,$=p.useMemo(function(){return MN(n)},[n]),A=p.useMemo(function(){return RN(n)},[n]),G=p.useMemo(function(){return typeof C=="function"?C:U2},[C]),L=p.useMemo(function(){return typeof S=="function"?S:U2},[S]),F=p.useRef(null),W=p.useRef(null),X=p.useReducer(qN,Lv),N=_g(X,2),V=N[0],H=N[1],U=V.isFocused,ne=V.isFileDialogActive,ge=p.useRef(typeof window<"u"&&window.isSecureContext&&P&&ON()),le=function(){!ge.current&&ne&&setTimeout(function(){if(W.current){var pe=W.current.files;pe.length||(H({type:"closeDialog"}),L())}},300)};p.useEffect(function(){return window.addEventListener("focus",le,!1),function(){window.removeEventListener("focus",le,!1)}},[W,ne,L,ge]);var re=p.useRef([]),K=function(pe){F.current&&F.current.contains(pe.target)||(pe.preventDefault(),re.current=[])};p.useEffect(function(){return _&&(document.addEventListener("dragover",W2,!1),document.addEventListener("drop",K,!1)),function(){_&&(document.removeEventListener("dragover",W2),document.removeEventListener("drop",K))}},[F,_]),p.useEffect(function(){return!r&&k&&F.current&&F.current.focus(),function(){}},[F,k,r]);var ae=p.useCallback(function(te){M?M(te):console.error(te)},[M]),de=p.useCallback(function(te){te.preventDefault(),te.persist(),xt(te),re.current=[].concat(LN(re.current),[te.target]),Fd(te)&&Promise.resolve(o(te)).then(function(pe){if(!(Zf(te)&&!R)){var Ne=pe.length,Xe=Ne>0&&_N({files:pe,accept:$,minSize:a,maxSize:s,multiple:u,maxFiles:d,validator:D}),yt=Ne>0&&!Xe;H({isDragAccept:Xe,isDragReject:yt,isDragActive:!0,type:"setDraggedFiles"}),f&&f(te)}}).catch(function(pe){return ae(pe)})},[o,f,ae,R,$,a,s,u,d,D]),xe=p.useCallback(function(te){te.preventDefault(),te.persist(),xt(te);var pe=Fd(te);if(pe&&te.dataTransfer)try{te.dataTransfer.dropEffect="copy"}catch{}return pe&&m&&m(te),!1},[m,R]),oe=p.useCallback(function(te){te.preventDefault(),te.persist(),xt(te);var pe=re.current.filter(function(Xe){return F.current&&F.current.contains(Xe)}),Ne=pe.indexOf(te.target);Ne!==-1&&pe.splice(Ne,1),re.current=pe,!(pe.length>0)&&(H({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Fd(te)&&h&&h(te))},[F,h,R]),me=p.useCallback(function(te,pe){var Ne=[],Xe=[];te.forEach(function(yt){var Xt=oP(yt,$),an=_g(Xt,2),Pn=an[0],gr=an[1],ln=sP(yt,a,s),qn=_g(ln,2),Oe=qn[0],et=qn[1],it=D?D(yt):null;if(Pn&&Oe&&!it)Ne.push(yt);else{var ut=[gr,et];it&&(ut=ut.concat(it)),Xe.push({file:yt,errors:ut.filter(function(Nt){return Nt})})}}),(!u&&Ne.length>1||u&&d>=1&&Ne.length>d)&&(Ne.forEach(function(yt){Xe.push({file:yt,errors:[kN]})}),Ne.splice(0)),H({acceptedFiles:Ne,fileRejections:Xe,type:"setFiles"}),v&&v(Ne,Xe,pe),Xe.length>0&&w&&w(Xe,pe),Ne.length>0&&b&&b(Ne,pe)},[H,u,$,a,s,d,v,b,w,D]),fe=p.useCallback(function(te){te.preventDefault(),te.persist(),xt(te),re.current=[],Fd(te)&&Promise.resolve(o(te)).then(function(pe){Zf(te)&&!R||me(pe,te)}).catch(function(pe){return ae(pe)}),H({type:"reset"})},[o,me,ae,R]),ke=p.useCallback(function(){if(ge.current){H({type:"openDialog"}),G();var te={multiple:u,types:A};window.showOpenFilePicker(te).then(function(pe){return o(pe)}).then(function(pe){me(pe,null),H({type:"closeDialog"})}).catch(function(pe){TN(pe)?(L(pe),H({type:"closeDialog"})):DN(pe)?(ge.current=!1,W.current?(W.current.value=null,W.current.click()):ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ae(pe)});return}W.current&&(H({type:"openDialog"}),G(),W.current.value=null,W.current.click())},[H,G,L,P,me,ae,A,u]),Ae=p.useCallback(function(te){!F.current||!F.current.isEqualNode(te.target)||(te.key===" "||te.key==="Enter"||te.keyCode===32||te.keyCode===13)&&(te.preventDefault(),ke())},[F,ke]),ve=p.useCallback(function(){H({type:"focus"})},[]),Ie=p.useCallback(function(){H({type:"blur"})},[]),st=p.useCallback(function(){E||(IN()?setTimeout(ke,0):ke())},[E,ke]),Fe=function(pe){return r?null:pe},Ke=function(pe){return I?null:Fe(pe)},_t=function(pe){return O?null:Fe(pe)},xt=function(pe){R&&pe.stopPropagation()},Fn=p.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=te.refKey,Ne=pe===void 0?"ref":pe,Xe=te.role,yt=te.onKeyDown,Xt=te.onFocus,an=te.onBlur,Pn=te.onClick,gr=te.onDragEnter,ln=te.onDragOver,qn=te.onDragLeave,Oe=te.onDrop,et=Jf(te,zN);return sr(sr($v({onKeyDown:Ke(zs(yt,Ae)),onFocus:Ke(zs(Xt,ve)),onBlur:Ke(zs(an,Ie)),onClick:Fe(zs(Pn,st)),onDragEnter:_t(zs(gr,de)),onDragOver:_t(zs(ln,xe)),onDragLeave:_t(zs(qn,oe)),onDrop:_t(zs(Oe,fe)),role:typeof Xe=="string"&&Xe!==""?Xe:"presentation"},Ne,F),!r&&!I?{tabIndex:0}:{}),et)}},[F,Ae,ve,Ie,st,de,xe,oe,fe,I,O,r]),Q=p.useCallback(function(te){te.stopPropagation()},[]),we=p.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=te.refKey,Ne=pe===void 0?"ref":pe,Xe=te.onChange,yt=te.onClick,Xt=Jf(te,$N),an=$v({accept:$,multiple:u,type:"file",style:{display:"none"},onChange:Fe(zs(Xe,fe)),onClick:Fe(zs(yt,Q)),tabIndex:-1},Ne,W);return sr(sr({},an),Xt)}},[W,n,u,fe,r]);return sr(sr({},V),{},{isFocused:U&&!r,getRootProps:Fn,getInputProps:we,rootRef:F,inputRef:W,open:Fe(ke)})}function qN(e,t){switch(t.type){case"focus":return sr(sr({},e),{},{isFocused:!0});case"blur":return sr(sr({},e),{},{isFocused:!1});case"openDialog":return sr(sr({},Lv),{},{isFileDialogActive:!0});case"closeDialog":return sr(sr({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return sr(sr({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return sr(sr({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return sr({},Lv);default:return e}}function U2(){}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(this,arguments)}var uP=["shift","alt","meta","mod","ctrl"],YN={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Ba(e){return(YN[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function KN(e){return uP.includes(e)}function jg(e,t){return t===void 0&&(t=","),e.split(t)}function Eg(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(a){return Ba(a)}),o={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},s=r.filter(function(a){return!uP.includes(a)});return Fv({},o,{keys:s,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&fP([Ba(e.key),Ba(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&pP([Ba(e.key),Ba(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Ha.clear()})})();var Ha=new Set;function dP(e,t){t===void 0&&(t=",");var n=Array.isArray(e)?e:e.split(t);return n.every(function(r){return Ha.has(r.trim().toLowerCase())})}function fP(e){var t=Array.isArray(e)?e:[e];Ha.has("meta")&&Ha.forEach(function(n){return!KN(n)&&Ha.delete(n.toLowerCase())}),t.forEach(function(n){return Ha.add(n.toLowerCase())})}function pP(e){var t=Array.isArray(e)?e:[e];e==="meta"?Ha.clear():t.forEach(function(n){return Ha.delete(n.toLowerCase())})}function XN(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function QN(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function ZN(e){return hP(e,["input","textarea","select"])}function hP(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return t instanceof Array?!!(r&&t&&t.some(function(o){return o.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}function JN(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var ez=function(t,n,r){r===void 0&&(r=!1);var o=n.alt,s=n.meta,a=n.mod,u=n.shift,d=n.ctrl,f=n.keys,h=t.key,m=t.code,v=t.ctrlKey,b=t.metaKey,w=t.shiftKey,S=t.altKey,C=Ba(m),P=h.toLowerCase();if(!r){if(o===!S&&P!=="alt"||u===!w&&P!=="shift")return!1;if(a){if(!b&&!v)return!1}else if(s===!b&&P!=="meta"&&P!=="os"||d===!v&&P!=="ctrl"&&P!=="control")return!1}return f&&f.length===1&&(f.includes(P)||f.includes(C))?!0:f?dP(f):!f},tz=p.createContext(void 0),nz=function(){return p.useContext(tz)};function mP(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&mP(e[r],t[r])},!0):e===t}var rz=p.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),oz=function(){return p.useContext(rz)};function sz(e){var t=p.useRef(void 0);return mP(t.current,e)||(t.current=e),t.current}var G2=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},az=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Ge(e,t,n,r){var o=p.useRef(null),s=p.useRef(!1),a=n instanceof Array?r instanceof Array?void 0:r:n,u=e instanceof Array?e.join(a==null?void 0:a.splitKey):e,d=n instanceof Array?n:r instanceof Array?r:void 0,f=p.useCallback(t,d??[]),h=p.useRef(f);d?h.current=f:h.current=t;var m=sz(a),v=oz(),b=v.enabledScopes,w=nz();return az(function(){if(!((m==null?void 0:m.enabled)===!1||!JN(b,m==null?void 0:m.scopes))){var S=function(E,I){var O;if(I===void 0&&(I=!1),!(ZN(E)&&!hP(E,m==null?void 0:m.enableOnFormTags))&&!(m!=null&&m.ignoreEventWhen!=null&&m.ignoreEventWhen(E))){if(o.current!==null&&document.activeElement!==o.current&&!o.current.contains(document.activeElement)){G2(E);return}(O=E.target)!=null&&O.isContentEditable&&!(m!=null&&m.enableOnContentEditable)||jg(u,m==null?void 0:m.splitKey).forEach(function(R){var M,D=Eg(R,m==null?void 0:m.combinationKey);if(ez(E,D,m==null?void 0:m.ignoreModifiers)||(M=D.keys)!=null&&M.includes("*")){if(I&&s.current)return;if(XN(E,D,m==null?void 0:m.preventDefault),!QN(E,D,m==null?void 0:m.enabled)){G2(E);return}h.current(E,D),I||(s.current=!0)}})}},C=function(E){E.key!==void 0&&(fP(Ba(E.code)),((m==null?void 0:m.keydown)===void 0&&(m==null?void 0:m.keyup)!==!0||m!=null&&m.keydown)&&S(E))},P=function(E){E.key!==void 0&&(pP(Ba(E.code)),s.current=!1,m!=null&&m.keyup&&S(E,!0))},k=o.current||(a==null?void 0:a.document)||document;return k.addEventListener("keyup",P),k.addEventListener("keydown",C),w&&jg(u,m==null?void 0:m.splitKey).forEach(function(_){return w.addHotkey(Eg(_,m==null?void 0:m.combinationKey,m==null?void 0:m.description))}),function(){k.removeEventListener("keyup",P),k.removeEventListener("keydown",C),w&&jg(u,m==null?void 0:m.splitKey).forEach(function(_){return w.removeHotkey(Eg(_,m==null?void 0:m.combinationKey,m==null?void 0:m.description))})}}},[u,m,b]),o}const iz=e=>{const{isDragAccept:t,isDragReject:n,setIsHandlingUpload:r}=e;return Ge("esc",()=>{r(!1)}),i.jsx(Ue,{sx:{position:"absolute",top:0,insetInlineStart:0,width:"100vw",height:"100vh",zIndex:999,backdropFilter:"blur(20px)"},children:i.jsx(q,{sx:{opacity:.4,width:"100%",height:"100%",flexDirection:"column",rowGap:4,alignItems:"center",justifyContent:"center",bg:"base.900",boxShadow:`inset 0 0 20rem 1rem var(--invokeai-colors-${t?"accent":"error"}-500)`},children:t?i.jsx(sa,{size:"lg",children:"Drop to Upload"}):i.jsxs(i.Fragment,{children:[i.jsx(sa,{size:"lg",children:"Invalid Upload"}),i.jsx(sa,{size:"md",children:"Must be single JPEG or PNG image"})]})})})},lz=Pe([ao,Dr],(e,t)=>{const{isConnected:n,isUploading:r}=e;return{isUploaderDisabled:!n||r,activeTabName:t}}),cz=e=>{const{children:t}=e,n=se(),{isUploaderDisabled:r,activeTabName:o}=B(lz),s=Iu(),{t:a}=ye(),[u,d]=p.useState(!1),{setOpenUploaderFunction:f}=Ch(),h=p.useCallback(E=>{d(!0),s({title:a("toast.uploadFailed"),description:E.errors.map(I=>I.message).join(`
`),status:"error"})},[a,s]),m=p.useCallback(async E=>{n(p3({file:E,image_category:"user",is_intermediate:!1,postUploadAction:{type:"TOAST_UPLOADED"}}))},[n]),v=p.useCallback((E,I)=>{if(I.length>1){s({title:a("toast.uploadFailed"),description:a("toast.uploadFailedInvalidUploadDesc"),status:"error"});return}I.forEach(O=>{h(O)}),E.forEach(O=>{m(O)})},[a,s,m,h]),{getRootProps:b,getInputProps:w,isDragAccept:S,isDragReject:C,isDragActive:P,inputRef:k,open:_}=x1({accept:{"image/png":[".png"],"image/jpeg":[".jpg",".jpeg",".png"]},noClick:!0,onDrop:v,onDragOver:()=>d(!0),disabled:r,multiple:!1});return p.useEffect(()=>{const E=async I=>{var O,R;k.current&&(O=I.clipboardData)!=null&&O.files&&(k.current.files=I.clipboardData.files,(R=k.current)==null||R.dispatchEvent(new Event("change",{bubbles:!0})))};return f(_),document.addEventListener("paste",E),()=>{document.removeEventListener("paste",E),f(()=>{})}},[k,_,f]),i.jsxs(Ue,{...b({style:{}}),onKeyDown:E=>{E.key},children:[i.jsx("input",{...w()}),t,P&&u&&i.jsx(iz,{isDragAccept:S,isDragReject:C,setIsHandlingUpload:d})]})},uz=p.memo(cz),gP=e=>e.gallery;const dz=nt((e,t)=>{const{children:n,tooltip:r="",tooltipProps:{placement:o="top",hasArrow:s=!0,...a}={},isChecked:u,...d}=e;return i.jsx(Gn,{label:r,placement:o,hasArrow:s,...a,children:i.jsx(h3,{ref:t,colorScheme:u?"accent":"base",...d,children:n})})}),Kt=p.memo(dz),Re=(e,t)=>n=>n==="light"?e:t,fz=e=>{const{label:t,...n}=e,{colorMode:r}=bo();return i.jsx(w5,{colorScheme:"accent",...n,children:i.jsx(Ye,{sx:{fontSize:"sm",color:Re("base.800","base.200")(r)},children:t})})},En=p.memo(fz),pz=e=>{const{triggerComponent:t,children:n,hasArrow:r=!0,isLazy:o=!0,...s}=e;return i.jsxs(c1,{isLazy:o,...s,children:[i.jsx(l1,{children:t}),i.jsxs(u1,{shadow:"dark-lg",children:[r&&i.jsx(z6,{}),n]})]})},ia=p.memo(pz);/*!
 * OverlayScrollbars
 * Version: 2.2.0
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */function yn(e,t){if(kh(e))for(let n=0;n<e.length&&t(e[n],n,e)!==!1;n++);else e&&yn(Object.keys(e),n=>t(e[n],n,e));return e}function Yr(e,t){const n=si(t);if(ks(t)||n){let o=n?"":{};if(e){const s=window.getComputedStyle(e,null);o=n?X2(e,s,t):t.reduce((a,u)=>(a[u]=X2(e,s,u),a),o)}return o}e&&yn(Mo(t),o=>Iz(e,o,t[o]))}const hs=(e,t)=>{const{o:n,u:r,_:o}=e;let s=n,a;const u=(h,m)=>{const v=s,b=h,w=m||(r?!r(v,b):v!==b);return(w||o)&&(s=b,a=v),[s,w,a]};return[t?h=>u(t(s,a),h):u,h=>[s,!!h,a]]},Hu=()=>typeof window<"u",vP=Hu()&&Node.ELEMENT_NODE,{toString:hz,hasOwnProperty:Ig}=Object.prototype,wa=e=>e===void 0,Ph=e=>e===null,mz=e=>wa(e)||Ph(e)?`${e}`:hz.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase(),Ya=e=>typeof e=="number",si=e=>typeof e=="string",S1=e=>typeof e=="boolean",Ps=e=>typeof e=="function",ks=e=>Array.isArray(e),yu=e=>typeof e=="object"&&!ks(e)&&!Ph(e),kh=e=>{const t=!!e&&e.length,n=Ya(t)&&t>-1&&t%1==0;return ks(e)||!Ps(e)&&n?t>0&&yu(e)?t-1 in e:!0:!1},Bv=e=>{if(!e||!yu(e)||mz(e)!=="object")return!1;let t;const n="constructor",r=e[n],o=r&&r.prototype,s=Ig.call(e,n),a=o&&Ig.call(o,"isPrototypeOf");if(r&&!s&&!a)return!1;for(t in e);return wa(t)||Ig.call(e,t)},ep=e=>{const t=HTMLElement;return e?t?e instanceof t:e.nodeType===vP:!1},_h=e=>{const t=Element;return e?t?e instanceof t:e.nodeType===vP:!1},w1=(e,t,n)=>e.indexOf(t,n),On=(e,t,n)=>(!n&&!si(t)&&kh(t)?Array.prototype.push.apply(e,t):e.push(t),e),Bi=e=>{const t=Array.from,n=[];return t&&e?t(e):(e instanceof Set?e.forEach(r=>{On(n,r)}):yn(e,r=>{On(n,r)}),n)},C1=e=>!!e&&e.length===0,Ks=(e,t,n)=>{yn(e,o=>o&&o.apply(void 0,t||[])),!n&&(e.length=0)},jh=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Mo=e=>e?Object.keys(e):[],ir=(e,t,n,r,o,s,a)=>{const u=[t,n,r,o,s,a];return(typeof e!="object"||Ph(e))&&!Ps(e)&&(e={}),yn(u,d=>{yn(Mo(d),f=>{const h=d[f];if(e===h)return!0;const m=ks(h);if(h&&(Bv(h)||m)){const v=e[f];let b=v;m&&!ks(v)?b=[]:!m&&!Bv(v)&&(b={}),e[f]=ir(b,h)}else e[f]=h})}),e},P1=e=>{for(const t in e)return!1;return!0},yP=(e,t,n,r)=>{if(wa(r))return n?n[e]:t;n&&(si(r)||Ya(r))&&(n[e]=r)},qr=(e,t,n)=>{if(wa(n))return e?e.getAttribute(t):null;e&&e.setAttribute(t,n)},fo=(e,t)=>{e&&e.removeAttribute(t)},Mi=(e,t,n,r)=>{if(n){const o=qr(e,t)||"",s=new Set(o.split(" "));s[r?"add":"delete"](n);const a=Bi(s).join(" ").trim();qr(e,t,a)}},gz=(e,t,n)=>{const r=qr(e,t)||"";return new Set(r.split(" ")).has(n)},ys=(e,t)=>yP("scrollLeft",0,e,t),la=(e,t)=>yP("scrollTop",0,e,t),Hv=Hu()&&Element.prototype,bP=(e,t)=>{const n=[],r=t?_h(t)?t:null:document;return r?On(n,r.querySelectorAll(e)):n},vz=(e,t)=>{const n=t?_h(t)?t:null:document;return n?n.querySelector(e):null},tp=(e,t)=>_h(e)?(Hv.matches||Hv.msMatchesSelector).call(e,t):!1,k1=e=>e?Bi(e.childNodes):[],ma=e=>e?e.parentElement:null,El=(e,t)=>{if(_h(e)){const n=Hv.closest;if(n)return n.call(e,t);do{if(tp(e,t))return e;e=ma(e)}while(e)}return null},yz=(e,t,n)=>{const r=e&&El(e,t),o=e&&vz(n,r),s=El(o,t)===r;return r&&o?r===e||o===e||s&&El(El(e,n),t)!==r:!1},_1=(e,t,n)=>{if(n&&e){let r=t,o;kh(n)?(o=document.createDocumentFragment(),yn(n,s=>{s===r&&(r=s.previousSibling),o.appendChild(s)})):o=n,t&&(r?r!==t&&(r=r.nextSibling):r=e.firstChild),e.insertBefore(o,r||null)}},Zo=(e,t)=>{_1(e,null,t)},bz=(e,t)=>{_1(ma(e),e,t)},q2=(e,t)=>{_1(ma(e),e&&e.nextSibling,t)},Us=e=>{if(kh(e))yn(Bi(e),t=>Us(t));else if(e){const t=ma(e);t&&t.removeChild(e)}},Ti=e=>{const t=document.createElement("div");return e&&qr(t,"class",e),t},xP=e=>{const t=Ti();return t.innerHTML=e.trim(),yn(k1(t),n=>Us(n))},Wv=e=>e.charAt(0).toUpperCase()+e.slice(1),xz=()=>Ti().style,Sz=["-webkit-","-moz-","-o-","-ms-"],wz=["WebKit","Moz","O","MS","webkit","moz","o","ms"],Og={},Rg={},Cz=e=>{let t=Rg[e];if(jh(Rg,e))return t;const n=Wv(e),r=xz();return yn(Sz,o=>{const s=o.replace(/-/g,"");return!(t=[e,o+e,s+n,Wv(s)+n].find(u=>r[u]!==void 0))}),Rg[e]=t||""},Wu=e=>{if(Hu()){let t=Og[e]||window[e];return jh(Og,e)||(yn(wz,n=>(t=t||window[n+Wv(e)],!t)),Og[e]=t),t}},Pz=Wu("MutationObserver"),Y2=Wu("IntersectionObserver"),Il=Wu("ResizeObserver"),SP=Wu("cancelAnimationFrame"),wP=Wu("requestAnimationFrame"),np=Hu()&&window.setTimeout,Vv=Hu()&&window.clearTimeout,kz=/[^\x20\t\r\n\f]+/g,CP=(e,t,n)=>{const r=e&&e.classList;let o,s=0,a=!1;if(r&&t&&si(t)){const u=t.match(kz)||[];for(a=u.length>0;o=u[s++];)a=!!n(r,o)&&a}return a},j1=(e,t)=>{CP(e,t,(n,r)=>n.remove(r))},ca=(e,t)=>(CP(e,t,(n,r)=>n.add(r)),j1.bind(0,e,t)),Eh=(e,t,n,r)=>{if(e&&t){let o=!0;return yn(n,s=>{const a=r?r(e[s]):e[s],u=r?r(t[s]):t[s];a!==u&&(o=!1)}),o}return!1},PP=(e,t)=>Eh(e,t,["w","h"]),kP=(e,t)=>Eh(e,t,["x","y"]),_z=(e,t)=>Eh(e,t,["t","r","b","l"]),K2=(e,t,n)=>Eh(e,t,["width","height"],n&&(r=>Math.round(r))),Qo=()=>{},_l=e=>{let t;const n=e?np:wP,r=e?Vv:SP;return[o=>{r(t),t=n(o,Ps(e)?e():e)},()=>r(t)]},E1=(e,t)=>{let n,r,o,s=Qo;const{v:a,g:u,p:d}=t||{},f=function(w){s(),Vv(n),n=r=void 0,s=Qo,e.apply(this,w)},h=b=>d&&r?d(r,b):b,m=()=>{s!==Qo&&f(h(o)||o)},v=function(){const w=Bi(arguments),S=Ps(a)?a():a;if(Ya(S)&&S>=0){const P=Ps(u)?u():u,k=Ya(P)&&P>=0,_=S>0?np:wP,E=S>0?Vv:SP,O=h(w)||w,R=f.bind(0,O);s();const M=_(R,S);s=()=>E(M),k&&!n&&(n=np(m,P)),r=o=O}else f(w)};return v.m=m,v},jz={opacity:1,zindex:1},Bd=(e,t)=>{const n=t?parseFloat(e):parseInt(e,10);return n===n?n:0},Ez=(e,t)=>!jz[e.toLowerCase()]&&Ya(t)?`${t}px`:t,X2=(e,t,n)=>t!=null?t[n]||t.getPropertyValue(n):e.style[n],Iz=(e,t,n)=>{try{const{style:r}=e;wa(r[t])?r.setProperty(t,n):r[t]=Ez(t,n)}catch{}},bu=e=>Yr(e,"direction")==="rtl",Q2=(e,t,n)=>{const r=t?`${t}-`:"",o=n?`-${n}`:"",s=`${r}top${o}`,a=`${r}right${o}`,u=`${r}bottom${o}`,d=`${r}left${o}`,f=Yr(e,[s,a,u,d]);return{t:Bd(f[s],!0),r:Bd(f[a],!0),b:Bd(f[u],!0),l:Bd(f[d],!0)}},{round:Z2}=Math,I1={w:0,h:0},Hi=e=>e?{w:e.offsetWidth,h:e.offsetHeight}:I1,Ef=e=>e?{w:e.clientWidth,h:e.clientHeight}:I1,rp=e=>e?{w:e.scrollWidth,h:e.scrollHeight}:I1,op=e=>{const t=parseFloat(Yr(e,"height"))||0,n=parseFloat(Yr(e,"width"))||0;return{w:n-Z2(n),h:t-Z2(t)}},Wa=e=>e.getBoundingClientRect();let Hd;const Oz=()=>{if(wa(Hd)){Hd=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){Hd=!0}}))}catch{}}return Hd},_P=e=>e.split(" "),Rz=(e,t,n,r)=>{yn(_P(t),o=>{e.removeEventListener(o,n,r)})},Tr=(e,t,n,r)=>{var o;const s=Oz(),a=(o=s&&r&&r.S)!=null?o:s,u=r&&r.$||!1,d=r&&r.C||!1,f=[],h=s?{passive:a,capture:u}:u;return yn(_P(t),m=>{const v=d?b=>{e.removeEventListener(m,v,u),n&&n(b)}:n;On(f,Rz.bind(null,e,m,v,u)),e.addEventListener(m,v,h)}),Ks.bind(0,f)},jP=e=>e.stopPropagation(),EP=e=>e.preventDefault(),Mz={x:0,y:0},Mg=e=>{const t=e?Wa(e):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:Mz},J2=(e,t)=>{yn(ks(t)?t:[t],e)},O1=e=>{const t=new Map,n=(s,a)=>{if(s){const u=t.get(s);J2(d=>{u&&u[d?"delete":"clear"](d)},a)}else t.forEach(u=>{u.clear()}),t.clear()},r=(s,a)=>{if(si(s)){const f=t.get(s)||new Set;return t.set(s,f),J2(h=>{Ps(h)&&f.add(h)},a),n.bind(0,s,a)}S1(a)&&a&&n();const u=Mo(s),d=[];return yn(u,f=>{const h=s[f];h&&On(d,r(f,h))}),Ks.bind(0,d)},o=(s,a)=>{const u=t.get(s);yn(Bi(u),d=>{a&&!C1(a)?d.apply(0,a):d()})};return r(e||{}),[r,n,o]},eS=e=>JSON.stringify(e,(t,n)=>{if(Ps(n))throw new Error;return n}),Tz={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},IP=(e,t)=>{const n={},r=Mo(t).concat(Mo(e));return yn(r,o=>{const s=e[o],a=t[o];if(yu(s)&&yu(a))ir(n[o]={},IP(s,a)),P1(n[o])&&delete n[o];else if(jh(t,o)&&a!==s){let u=!0;if(ks(s)||ks(a))try{eS(s)===eS(a)&&(u=!1)}catch{}u&&(n[o]=a)}}),n},OP="os-environment",RP=`${OP}-flexbox-glue`,Dz=`${RP}-max`,MP="os-scrollbar-hidden",Tg="data-overlayscrollbars-initialize",ms="data-overlayscrollbars",TP=`${ms}-overflow-x`,DP=`${ms}-overflow-y`,Ll="overflowVisible",Az="scrollbarHidden",tS="scrollbarPressed",sp="updating",La="data-overlayscrollbars-viewport",Dg="arrange",AP="scrollbarHidden",Fl=Ll,Uv="data-overlayscrollbars-padding",Nz=Fl,nS="data-overlayscrollbars-content",R1="os-size-observer",zz=`${R1}-appear`,$z=`${R1}-listener`,Lz="os-trinsic-observer",Fz="os-no-css-vars",Bz="os-theme-none",xo="os-scrollbar",Hz=`${xo}-rtl`,Wz=`${xo}-horizontal`,Vz=`${xo}-vertical`,NP=`${xo}-track`,M1=`${xo}-handle`,Uz=`${xo}-visible`,Gz=`${xo}-cornerless`,rS=`${xo}-transitionless`,oS=`${xo}-interaction`,sS=`${xo}-unusable`,aS=`${xo}-auto-hidden`,iS=`${xo}-wheel`,qz=`${NP}-interactive`,Yz=`${M1}-interactive`,zP={},Wi=()=>zP,Kz=e=>{const t=[];return yn(ks(e)?e:[e],n=>{const r=Mo(n);yn(r,o=>{On(t,zP[o]=n[o])})}),t},Xz="__osOptionsValidationPlugin",Qz="__osSizeObserverPlugin",T1="__osScrollbarsHidingPlugin",Zz="__osClickScrollPlugin";let Ag;const lS=(e,t,n,r)=>{Zo(e,t);const o=Ef(t),s=Hi(t),a=op(n);return r&&Us(t),{x:s.h-o.h+a.h,y:s.w-o.w+a.w}},Jz=e=>{let t=!1;const n=ca(e,MP);try{t=Yr(e,Cz("scrollbar-width"))==="none"||window.getComputedStyle(e,"::-webkit-scrollbar").getPropertyValue("display")==="none"}catch{}return n(),t},e$=(e,t)=>{const n="hidden";Yr(e,{overflowX:n,overflowY:n,direction:"rtl"}),ys(e,0);const r=Mg(e),o=Mg(t);ys(e,-999);const s=Mg(t);return{i:r.x===o.x,n:o.x!==s.x}},t$=(e,t)=>{const n=ca(e,RP),r=Wa(e),o=Wa(t),s=K2(o,r,!0),a=ca(e,Dz),u=Wa(e),d=Wa(t),f=K2(d,u,!0);return n(),a(),s&&f},n$=()=>{const{body:e}=document,n=xP(`<div class="${OP}"><div></div></div>`)[0],r=n.firstChild,[o,,s]=O1(),[a,u]=hs({o:lS(e,n,r),u:kP},lS.bind(0,e,n,r,!0)),[d]=u(),f=Jz(n),h={x:d.x===0,y:d.y===0},m={elements:{host:null,padding:!f,viewport:k=>f&&k===k.ownerDocument.body&&k,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},v=ir({},Tz),b=ir.bind(0,{},v),w=ir.bind(0,{},m),S={k:d,A:h,I:f,L:Yr(n,"zIndex")==="-1",B:e$(n,r),V:t$(n,r),Y:o.bind(0,"z"),j:o.bind(0,"r"),N:w,q:k=>ir(m,k)&&w(),F:b,G:k=>ir(v,k)&&b(),X:ir({},m),U:ir({},v)},C=window.addEventListener,P=E1(k=>s(k?"z":"r"),{v:33,g:99});if(fo(n,"style"),Us(n),C("resize",P.bind(0,!1)),!f&&(!h.x||!h.y)){let k;C("resize",()=>{const _=Wi()[T1];k=k||_&&_.R(),k&&k(S,a,P.bind(0,!0))})}return S},So=()=>(Ag||(Ag=n$()),Ag),D1=(e,t)=>Ps(t)?t.apply(0,e):t,r$=(e,t,n,r)=>{const o=wa(r)?n:r;return D1(e,o)||t.apply(0,e)},$P=(e,t,n,r)=>{const o=wa(r)?n:r,s=D1(e,o);return!!s&&(ep(s)?s:t.apply(0,e))},o$=(e,t,n)=>{const{nativeScrollbarsOverlaid:r,body:o}=n||{},{A:s,I:a}=So(),{nativeScrollbarsOverlaid:u,body:d}=t,f=r??u,h=wa(o)?d:o,m=(s.x||s.y)&&f,v=e&&(Ph(h)?!a:h);return!!m||!!v},A1=new WeakMap,s$=(e,t)=>{A1.set(e,t)},a$=e=>{A1.delete(e)},LP=e=>A1.get(e),cS=(e,t)=>e?t.split(".").reduce((n,r)=>n&&jh(n,r)?n[r]:void 0,e):void 0,Gv=(e,t,n)=>r=>[cS(e,r),n||cS(t,r)!==void 0],FP=e=>{let t=e;return[()=>t,n=>{t=ir({},t,n)}]},Wd="tabindex",Vd=Ti.bind(0,""),Ng=e=>{Zo(ma(e),k1(e)),Us(e)},i$=e=>{const t=So(),{N:n,I:r}=t,o=Wi()[T1],s=o&&o.T,{elements:a}=n(),{host:u,padding:d,viewport:f,content:h}=a,m=ep(e),v=m?{}:e,{elements:b}=v,{host:w,padding:S,viewport:C,content:P}=b||{},k=m?e:v.target,_=tp(k,"textarea"),E=k.ownerDocument,I=E.documentElement,O=k===E.body,R=E.defaultView,M=r$.bind(0,[k]),D=$P.bind(0,[k]),$=D1.bind(0,[k]),A=M.bind(0,Vd,f),G=D.bind(0,Vd,h),L=A(C),F=L===k,W=F&&O,X=!F&&G(P),N=!F&&ep(L)&&L===X,V=N&&!!$(h),H=V?A():L,U=V?X:G(),ge=W?I:N?H:L,le=_?M(Vd,u,w):k,re=W?ge:le,K=N?U:X,ae=E.activeElement,de=!F&&R.top===R&&ae===k,xe={W:k,Z:re,J:ge,K:!F&&D(Vd,d,S),tt:K,nt:!F&&!r&&s&&s(t),ot:W?I:ge,st:W?E:ge,et:R,ct:E,rt:_,it:O,lt:m,ut:F,dt:N,ft:(Q,we)=>gz(ge,F?ms:La,F?we:Q),_t:(Q,we,te)=>Mi(ge,F?ms:La,F?we:Q,te)},oe=Mo(xe).reduce((Q,we)=>{const te=xe[we];return On(Q,te&&!ma(te)?te:!1)},[]),me=Q=>Q?w1(oe,Q)>-1:null,{W:fe,Z:ke,K:Ae,J:ve,tt:Ie,nt:st}=xe,Fe=[()=>{fo(ke,ms),fo(ke,Tg),fo(fe,Tg),O&&(fo(I,ms),fo(I,Tg))}],Ke=_&&me(ke);let _t=_?fe:k1([Ie,ve,Ae,ke,fe].find(Q=>me(Q)===!1));const xt=W?fe:Ie||ve;return[xe,()=>{qr(ke,ms,F?"viewport":"host"),qr(Ae,Uv,""),qr(Ie,nS,""),F||qr(ve,La,"");const Q=O&&!F?ca(ma(k),MP):Qo;if(Ke&&(q2(fe,ke),On(Fe,()=>{q2(ke,fe),Us(ke)})),Zo(xt,_t),Zo(ke,Ae),Zo(Ae||ke,!F&&ve),Zo(ve,Ie),On(Fe,()=>{Q(),fo(Ae,Uv),fo(Ie,nS),fo(ve,TP),fo(ve,DP),fo(ve,La),me(Ie)&&Ng(Ie),me(ve)&&Ng(ve),me(Ae)&&Ng(Ae)}),r&&!F&&(Mi(ve,La,AP,!0),On(Fe,fo.bind(0,ve,La))),st&&(bz(ve,st),On(Fe,Us.bind(0,st))),de){const we=qr(ve,Wd);qr(ve,Wd,"-1"),ve.focus();const te=()=>we?qr(ve,Wd,we):fo(ve,Wd),pe=Tr(E,"pointerdown keydown",()=>{te(),pe()});On(Fe,[te,pe])}else ae&&ae.focus&&ae.focus();_t=0},Ks.bind(0,Fe)]},l$=(e,t)=>{const{tt:n}=e,[r]=t;return o=>{const{V:s}=So(),{ht:a}=r(),{vt:u}=o,d=(n||!s)&&u;return d&&Yr(n,{height:a?"":"100%"}),{gt:d,wt:d}}},c$=(e,t)=>{const[n,r]=t,{Z:o,K:s,J:a,ut:u}=e,[d,f]=hs({u:_z,o:Q2()},Q2.bind(0,o,"padding",""));return(h,m,v)=>{let[b,w]=f(v);const{I:S,V:C}=So(),{bt:P}=n(),{gt:k,wt:_,yt:E}=h,[I,O]=m("paddingAbsolute");(k||w||!C&&_)&&([b,w]=d(v));const M=!u&&(O||E||w);if(M){const D=!I||!s&&!S,$=b.r+b.l,A=b.t+b.b,G={marginRight:D&&!P?-$:0,marginBottom:D?-A:0,marginLeft:D&&P?-$:0,top:D?-b.t:0,right:D?P?-b.r:"auto":0,left:D?P?"auto":-b.l:0,width:D?`calc(100% + ${$}px)`:""},L={paddingTop:D?b.t:0,paddingRight:D?b.r:0,paddingBottom:D?b.b:0,paddingLeft:D?b.l:0};Yr(s||a,G),Yr(a,L),r({K:b,St:!D,P:s?L:ir({},G,L)})}return{xt:M}}},{max:qv}=Math,Fa=qv.bind(0,0),BP="visible",uS="hidden",u$=42,Ud={u:PP,o:{w:0,h:0}},d$={u:kP,o:{x:uS,y:uS}},f$=(e,t)=>{const n=window.devicePixelRatio%1!==0?1:0,r={w:Fa(e.w-t.w),h:Fa(e.h-t.h)};return{w:r.w>n?r.w:0,h:r.h>n?r.h:0}},Gd=e=>e.indexOf(BP)===0,p$=(e,t)=>{const[n,r]=t,{Z:o,K:s,J:a,nt:u,ut:d,_t:f,it:h,et:m}=e,{k:v,V:b,I:w,A:S}=So(),C=Wi()[T1],P=!d&&!w&&(S.x||S.y),k=h&&d,[_,E]=hs(Ud,op.bind(0,a)),[I,O]=hs(Ud,rp.bind(0,a)),[R,M]=hs(Ud),[D,$]=hs(Ud),[A]=hs(d$),G=(V,H)=>{if(Yr(a,{height:""}),H){const{St:U,K:ne}=n(),{$t:ge,D:le}=V,re=op(o),K=Ef(o),ae=Yr(a,"boxSizing")==="content-box",de=U||ae?ne.b+ne.t:0,xe=!(S.x&&ae);Yr(a,{height:K.h+re.h+(ge.x&&xe?le.x:0)-de})}},L=(V,H)=>{const U=!w&&!V?u$:0,ne=(me,fe,ke)=>{const Ae=Yr(a,me),Ie=(H?H[me]:Ae)==="scroll";return[Ae,Ie,Ie&&!w?fe?U:ke:0,fe&&!!U]},[ge,le,re,K]=ne("overflowX",S.x,v.x),[ae,de,xe,oe]=ne("overflowY",S.y,v.y);return{Ct:{x:ge,y:ae},$t:{x:le,y:de},D:{x:re,y:xe},M:{x:K,y:oe}}},F=(V,H,U,ne)=>{const ge=(de,xe)=>{const oe=Gd(de),me=xe&&oe&&de.replace(`${BP}-`,"")||"";return[xe&&!oe?de:"",Gd(me)?"hidden":me]},[le,re]=ge(U.x,H.x),[K,ae]=ge(U.y,H.y);return ne.overflowX=re&&K?re:le,ne.overflowY=ae&&le?ae:K,L(V,ne)},W=(V,H,U,ne)=>{const{D:ge,M:le}=V,{x:re,y:K}=le,{x:ae,y:de}=ge,{P:xe}=n(),oe=H?"marginLeft":"marginRight",me=H?"paddingLeft":"paddingRight",fe=xe[oe],ke=xe.marginBottom,Ae=xe[me],ve=xe.paddingBottom;ne.width=`calc(100% + ${de+-1*fe}px)`,ne[oe]=-de+fe,ne.marginBottom=-ae+ke,U&&(ne[me]=Ae+(K?de:0),ne.paddingBottom=ve+(re?ae:0))},[X,N]=C?C.H(P,b,a,u,n,L,W):[()=>P,()=>[Qo]];return(V,H,U)=>{const{gt:ne,Ot:ge,wt:le,xt:re,vt:K,yt:ae}=V,{ht:de,bt:xe}=n(),[oe,me]=H("showNativeOverlaidScrollbars"),[fe,ke]=H("overflow"),Ae=oe&&S.x&&S.y,ve=!d&&!b&&(ne||le||ge||me||K),Ie=Gd(fe.x),st=Gd(fe.y),Fe=Ie||st;let Ke=E(U),_t=O(U),xt=M(U),Fn=$(U),Q;if(me&&w&&f(AP,Az,!Ae),ve&&(Q=L(Ae),G(Q,de)),ne||re||le||ae||me){Fe&&f(Fl,Ll,!1);const[Oe,et]=N(Ae,xe,Q),[it,ut]=Ke=_(U),[Nt,vr]=_t=I(U),cn=Ef(a);let bn=Nt,Sr=cn;Oe(),(vr||ut||me)&&et&&!Ae&&X(et,Nt,it,xe)&&(Sr=Ef(a),bn=rp(a));const kn={w:Fa(qv(Nt.w,bn.w)+it.w),h:Fa(qv(Nt.h,bn.h)+it.h)},jn={w:Fa((k?m.innerWidth:Sr.w+Fa(cn.w-Nt.w))+it.w),h:Fa((k?m.innerHeight+it.h:Sr.h+Fa(cn.h-Nt.h))+it.h)};Fn=D(jn),xt=R(f$(kn,jn),U)}const[we,te]=Fn,[pe,Ne]=xt,[Xe,yt]=_t,[Xt,an]=Ke,Pn={x:pe.w>0,y:pe.h>0},gr=Ie&&st&&(Pn.x||Pn.y)||Ie&&Pn.x&&!Pn.y||st&&Pn.y&&!Pn.x;if(re||ae||an||yt||te||Ne||ke||me||ve){const Oe={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},et=F(Ae,Pn,fe,Oe),it=X(et,Xe,Xt,xe);d||W(et,xe,it,Oe),ve&&G(et,de),d?(qr(o,TP,Oe.overflowX),qr(o,DP,Oe.overflowY)):Yr(a,Oe)}Mi(o,ms,Ll,gr),Mi(s,Uv,Nz,gr),d||Mi(a,La,Fl,Fe);const[ln,qn]=A(L(Ae).Ct);return r({Ct:ln,zt:{x:we.w,y:we.h},Tt:{x:pe.w,y:pe.h},Et:Pn}),{It:qn,At:te,Lt:Ne}}},dS=(e,t,n)=>{const r={},o=t||{},s=Mo(e).concat(Mo(o));return yn(s,a=>{const u=e[a],d=o[a];r[a]=!!(n||u||d)}),r},h$=(e,t)=>{const{W:n,J:r,_t:o,ut:s}=e,{I:a,A:u,V:d}=So(),f=!a&&(u.x||u.y),h=[l$(e,t),c$(e,t),p$(e,t)];return(m,v,b)=>{const w=dS(ir({gt:!1,xt:!1,yt:!1,vt:!1,At:!1,Lt:!1,It:!1,Ot:!1,wt:!1},v),{},b),S=f||!d,C=S&&ys(r),P=S&&la(r);o("",sp,!0);let k=w;return yn(h,_=>{k=dS(k,_(k,m,!!b)||{},b)}),ys(r,C),la(r,P),o("",sp),s||(ys(n,0),la(n,0)),k}},m$=(e,t,n)=>{let r,o=!1;const s=()=>{o=!0},a=u=>{if(n){const d=n.reduce((f,h)=>{if(h){const[m,v]=h,b=v&&m&&(u?u(m):bP(m,e));b&&b.length&&v&&si(v)&&On(f,[b,v.trim()],!0)}return f},[]);yn(d,f=>yn(f[0],h=>{const m=f[1],v=r.get(h)||[];if(e.contains(h)){const w=Tr(h,m,S=>{o?(w(),r.delete(h)):t(S)});r.set(h,On(v,w))}else Ks(v),r.delete(h)}))}};return n&&(r=new WeakMap,a()),[s,a]},fS=(e,t,n,r)=>{let o=!1;const{Ht:s,Pt:a,Dt:u,Mt:d,Rt:f,kt:h}=r||{},m=E1(()=>{o&&n(!0)},{v:33,g:99}),[v,b]=m$(e,m,u),w=s||[],S=a||[],C=w.concat(S),P=(_,E)=>{const I=f||Qo,O=h||Qo,R=new Set,M=new Set;let D=!1,$=!1;if(yn(_,A=>{const{attributeName:G,target:L,type:F,oldValue:W,addedNodes:X,removedNodes:N}=A,V=F==="attributes",H=F==="childList",U=e===L,ne=V&&si(G)?qr(L,G):0,ge=ne!==0&&W!==ne,le=w1(S,G)>-1&&ge;if(t&&(H||!U)){const re=!V,K=V&&ge,ae=K&&d&&tp(L,d),xe=(ae?!I(L,G,W,ne):re||K)&&!O(A,!!ae,e,r);yn(X,oe=>R.add(oe)),yn(N,oe=>R.add(oe)),$=$||xe}!t&&U&&ge&&!I(L,G,W,ne)&&(M.add(G),D=D||le)}),R.size>0&&b(A=>Bi(R).reduce((G,L)=>(On(G,bP(A,L)),tp(L,A)?On(G,L):G),[])),t)return!E&&$&&n(!1),[!1];if(M.size>0||D){const A=[Bi(M),D];return!E&&n.apply(0,A),A}},k=new Pz(_=>P(_));return k.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:C,subtree:t,childList:t,characterData:t}),o=!0,[()=>{o&&(v(),k.disconnect(),o=!1)},()=>{if(o){m.m();const _=k.takeRecords();return!C1(_)&&P(_,!0)}}]},qd=3333333,Yd=e=>e&&(e.height||e.width),HP=(e,t,n)=>{const{Bt:r=!1,Vt:o=!1}=n||{},s=Wi()[Qz],{B:a}=So(),d=xP(`<div class="${R1}"><div class="${$z}"></div></div>`)[0],f=d.firstChild,h=bu.bind(0,e),[m]=hs({o:void 0,_:!0,u:(S,C)=>!(!S||!Yd(S)&&Yd(C))}),v=S=>{const C=ks(S)&&S.length>0&&yu(S[0]),P=!C&&S1(S[0]);let k=!1,_=!1,E=!0;if(C){const[I,,O]=m(S.pop().contentRect),R=Yd(I),M=Yd(O);k=!O||!R,_=!M&&R,E=!k}else P?[,E]=S:_=S===!0;if(r&&E){const I=P?S[0]:bu(d);ys(d,I?a.n?-qd:a.i?0:qd:qd),la(d,qd)}k||t({gt:!P,Yt:P?S:void 0,Vt:!!_})},b=[];let w=o?v:!1;return[()=>{Ks(b),Us(d)},()=>{if(Il){const S=new Il(v);S.observe(f),On(b,()=>{S.disconnect()})}else if(s){const[S,C]=s.O(f,v,o);w=S,On(b,C)}if(r){const[S]=hs({o:void 0},h);On(b,Tr(d,"scroll",C=>{const P=S(),[k,_,E]=P;_&&(j1(f,"ltr rtl"),k?ca(f,"rtl"):ca(f,"ltr"),v([!!k,_,E])),jP(C)}))}w&&(ca(d,zz),On(b,Tr(d,"animationstart",w,{C:!!Il}))),(Il||s)&&Zo(e,d)}]},g$=e=>e.h===0||e.isIntersecting||e.intersectionRatio>0,v$=(e,t)=>{let n;const r=Ti(Lz),o=[],[s]=hs({o:!1}),a=(d,f)=>{if(d){const h=s(g$(d)),[,m]=h;if(m)return!f&&t(h),[h]}},u=(d,f)=>{if(d&&d.length>0)return a(d.pop(),f)};return[()=>{Ks(o),Us(r)},()=>{if(Y2)n=new Y2(d=>u(d),{root:e}),n.observe(r),On(o,()=>{n.disconnect()});else{const d=()=>{const m=Hi(r);a(m)},[f,h]=HP(r,d);On(o,f),h(),d()}Zo(e,r)},()=>{if(n)return u(n.takeRecords(),!0)}]},pS=`[${ms}]`,y$=`[${La}]`,zg=["tabindex"],hS=["wrap","cols","rows"],$g=["id","class","style","open"],b$=(e,t,n)=>{let r,o,s;const{Z:a,J:u,tt:d,rt:f,ut:h,ft:m,_t:v}=e,{V:b}=So(),[w]=hs({u:PP,o:{w:0,h:0}},()=>{const F=m(Fl,Ll),W=m(Dg,""),X=W&&ys(u),N=W&&la(u);v(Fl,Ll),v(Dg,""),v("",sp,!0);const V=rp(d),H=rp(u),U=op(u);return v(Fl,Ll,F),v(Dg,"",W),v("",sp),ys(u,X),la(u,N),{w:H.w+V.w+U.w,h:H.h+V.h+U.h}}),S=f?hS:$g.concat(hS),C=E1(n,{v:()=>r,g:()=>o,p(F,W){const[X]=F,[N]=W;return[Mo(X).concat(Mo(N)).reduce((V,H)=>(V[H]=X[H]||N[H],V),{})]}}),P=F=>{yn(F||zg,W=>{if(w1(zg,W)>-1){const X=qr(a,W);si(X)?qr(u,W,X):fo(u,W)}})},k=(F,W)=>{const[X,N]=F,V={vt:N};return t({ht:X}),!W&&n(V),V},_=({gt:F,Yt:W,Vt:X})=>{const N=!F||X?n:C;let V=!1;if(W){const[H,U]=W;V=U,t({bt:H})}N({gt:F,yt:V})},E=(F,W)=>{const[,X]=w(),N={wt:X};return X&&!W&&(F?n:C)(N),N},I=(F,W,X)=>{const N={Ot:W};return W?!X&&C(N):h||P(F),N},[O,R,M]=d||!b?v$(a,k):[Qo,Qo,Qo],[D,$]=h?[Qo,Qo]:HP(a,_,{Vt:!0,Bt:!0}),[A,G]=fS(a,!1,I,{Pt:$g,Ht:$g.concat(zg)}),L=h&&Il&&new Il(_.bind(0,{gt:!0}));return L&&L.observe(a),P(),[()=>{O(),D(),s&&s[0](),L&&L.disconnect(),A()},()=>{$(),R()},()=>{const F={},W=G(),X=M(),N=s&&s[1]();return W&&ir(F,I.apply(0,On(W,!0))),X&&ir(F,k.apply(0,On(X,!0))),N&&ir(F,E.apply(0,On(N,!0))),F},F=>{const[W]=F("update.ignoreMutation"),[X,N]=F("update.attributes"),[V,H]=F("update.elementEvents"),[U,ne]=F("update.debounce"),ge=H||N,le=re=>Ps(W)&&W(re);if(ge&&(s&&(s[1](),s[0]()),s=fS(d||u,!0,E,{Ht:S.concat(X||[]),Dt:V,Mt:pS,kt:(re,K)=>{const{target:ae,attributeName:de}=re;return(!K&&de&&!h?yz(ae,pS,y$):!1)||!!El(ae,`.${xo}`)||!!le(re)}})),ne)if(C.m(),ks(U)){const re=U[0],K=U[1];r=Ya(re)&&re,o=Ya(K)&&K}else Ya(U)?(r=U,o=!1):(r=!1,o=!1)}]},mS={x:0,y:0},x$=e=>({K:{t:0,r:0,b:0,l:0},St:!1,P:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},zt:mS,Tt:mS,Ct:{x:"hidden",y:"hidden"},Et:{x:!1,y:!1},ht:!1,bt:bu(e.Z)}),S$=(e,t)=>{const n=Gv(t,{}),[r,o,s]=O1(),[a,u,d]=i$(e),f=FP(x$(a)),[h,m]=f,v=h$(a,f),b=(_,E,I)=>{const R=Mo(_).some(M=>_[M])||!P1(E)||I;return R&&s("u",[_,E,I]),R},[w,S,C,P]=b$(a,m,_=>b(v(n,_),{},!1)),k=h.bind(0);return k.jt=_=>r("u",_),k.Nt=()=>{const{W:_,J:E}=a,I=ys(_),O=la(_);S(),u(),ys(E,I),la(E,O)},k.qt=a,[(_,E)=>{const I=Gv(t,_,E);return P(I),b(v(I,C(),E),_,!!E)},k,()=>{o(),w(),d()}]},{round:gS}=Math,w$=e=>{const{width:t,height:n}=Wa(e),{w:r,h:o}=Hi(e);return{x:gS(t)/r||1,y:gS(n)/o||1}},C$=(e,t,n)=>{const r=t.scrollbars,{button:o,isPrimary:s,pointerType:a}=e,{pointers:u}=r;return o===0&&s&&r[n?"dragScroll":"clickScroll"]&&(u||[]).includes(a)},P$=(e,t)=>Tr(e,"mousedown",Tr.bind(0,t,"click",jP,{C:!0,$:!0}),{$:!0}),vS="pointerup pointerleave pointercancel lostpointercapture",k$=(e,t,n,r,o,s,a)=>{const{B:u}=So(),{Ft:d,Gt:f,Xt:h}=r,m=`scroll${a?"Left":"Top"}`,v=`client${a?"X":"Y"}`,b=a?"width":"height",w=a?"left":"top",S=a?"w":"h",C=a?"x":"y",P=(k,_)=>E=>{const{Tt:I}=s(),O=Hi(f)[S]-Hi(d)[S],M=_*E/O*I[C],$=bu(h)&&a?u.n||u.i?1:-1:1;o[m]=k+M*$};return Tr(f,"pointerdown",k=>{const _=El(k.target,`.${M1}`)===d,E=_?d:f;if(Mi(t,ms,tS,!0),C$(k,e,_)){const I=!_&&k.shiftKey,O=()=>Wa(d),R=()=>Wa(f),M=(H,U)=>(H||O())[w]-(U||R())[w],D=P(o[m]||0,1/w$(o)[C]),$=k[v],A=O(),G=R(),L=A[b],F=M(A,G)+L/2,W=$-G[w],X=_?0:W-F,N=H=>{Ks(V),E.releasePointerCapture(H.pointerId)},V=[Mi.bind(0,t,ms,tS),Tr(n,vS,N),Tr(n,"selectstart",H=>EP(H),{S:!1}),Tr(f,vS,N),Tr(f,"pointermove",H=>{const U=H[v]-$;(_||I)&&D(X+U)})];if(I)D(X);else if(!_){const H=Wi()[Zz];H&&On(V,H.O(D,M,X,L,W))}E.setPointerCapture(k.pointerId)}})},_$=(e,t)=>(n,r,o,s,a,u)=>{const{Xt:d}=n,[f,h]=_l(333),m=!!a.scrollBy;let v=!0;return Ks.bind(0,[Tr(d,"pointerenter",()=>{r(oS,!0)}),Tr(d,"pointerleave pointercancel",()=>{r(oS)}),Tr(d,"wheel",b=>{const{deltaX:w,deltaY:S,deltaMode:C}=b;m&&v&&C===0&&ma(d)===s&&a.scrollBy({left:w,top:S,behavior:"smooth"}),v=!1,r(iS,!0),f(()=>{v=!0,r(iS)}),EP(b)},{S:!1,$:!0}),P$(d,o),k$(e,s,o,n,a,t,u),h])},{min:Yv,max:yS,abs:j$,round:E$}=Math,WP=(e,t,n,r)=>{if(r){const u=n?"x":"y",{Tt:d,zt:f}=r,h=f[u],m=d[u];return yS(0,Yv(1,h/(h+m)))}const o=n?"w":"h",s=Hi(e)[o],a=Hi(t)[o];return yS(0,Yv(1,s/a))},I$=(e,t,n,r,o,s)=>{const{B:a}=So(),u=s?"x":"y",d=s?"Left":"Top",{Tt:f}=r,h=E$(f[u]),m=j$(n[`scroll${d}`]),v=s&&o,b=a.i?m:h-m,S=Yv(1,(v?b:m)/h),C=WP(e,t,s);return 1/C*(1-C)*S},O$=(e,t,n)=>{const{N:r,L:o}=So(),{scrollbars:s}=r(),{slot:a}=s,{ct:u,W:d,Z:f,J:h,lt:m,ot:v,it:b,ut:w}=t,{scrollbars:S}=m?{}:e,{slot:C}=S||{},P=$P([d,f,h],()=>w&&b?d:f,a,C),k=(X,N,V)=>{const H=V?ca:j1;yn(X,U=>{H(U.Xt,N)})},_=(X,N)=>{yn(X,V=>{const[H,U]=N(V);Yr(H,U)})},E=(X,N,V)=>{_(X,H=>{const{Ft:U,Gt:ne}=H;return[U,{[V?"width":"height"]:`${(100*WP(U,ne,V,N)).toFixed(3)}%`}]})},I=(X,N,V)=>{const H=V?"X":"Y";_(X,U=>{const{Ft:ne,Gt:ge,Xt:le}=U,re=I$(ne,ge,v,N,bu(le),V);return[ne,{transform:re===re?`translate${H}(${(100*re).toFixed(3)}%)`:""}]})},O=[],R=[],M=[],D=(X,N,V)=>{const H=S1(V),U=H?V:!0,ne=H?!V:!0;U&&k(R,X,N),ne&&k(M,X,N)},$=X=>{E(R,X,!0),E(M,X)},A=X=>{I(R,X,!0),I(M,X)},G=X=>{const N=X?Wz:Vz,V=X?R:M,H=C1(V)?rS:"",U=Ti(`${xo} ${N} ${H}`),ne=Ti(NP),ge=Ti(M1),le={Xt:U,Gt:ne,Ft:ge};return o||ca(U,Fz),Zo(U,ne),Zo(ne,ge),On(V,le),On(O,[Us.bind(0,U),n(le,D,u,f,v,X)]),le},L=G.bind(0,!0),F=G.bind(0,!1),W=()=>{Zo(P,R[0].Xt),Zo(P,M[0].Xt),np(()=>{D(rS)},300)};return L(),F(),[{Ut:$,Wt:A,Zt:D,Jt:{Kt:R,Qt:L,tn:_.bind(0,R)},nn:{Kt:M,Qt:F,tn:_.bind(0,M)}},W,Ks.bind(0,O)]},R$=(e,t,n,r)=>{let o,s,a,u,d,f=0;const h=FP({}),[m]=h,[v,b]=_l(),[w,S]=_l(),[C,P]=_l(100),[k,_]=_l(100),[E,I]=_l(()=>f),[O,R,M]=O$(e,n.qt,_$(t,n)),{Z:D,J:$,ot:A,st:G,ut:L,it:F}=n.qt,{Jt:W,nn:X,Zt:N,Ut:V,Wt:H}=O,{tn:U}=W,{tn:ne}=X,ge=de=>{const{Xt:xe}=de,oe=L&&!F&&ma(xe)===$&&xe;return[oe,{transform:oe?`translate(${ys(A)}px, ${la(A)}px)`:""}]},le=(de,xe)=>{if(I(),de)N(aS);else{const oe=()=>N(aS,!0);f>0&&!xe?E(oe):oe()}},re=()=>{u=s,u&&le(!0)},K=[P,I,_,S,b,M,Tr(D,"pointerover",re,{C:!0}),Tr(D,"pointerenter",re),Tr(D,"pointerleave",()=>{u=!1,s&&le(!1)}),Tr(D,"pointermove",()=>{o&&v(()=>{P(),le(!0),k(()=>{o&&le(!1)})})}),Tr(G,"scroll",de=>{w(()=>{H(n()),a&&le(!0),C(()=>{a&&!u&&le(!1)})}),r(de),L&&U(ge),L&&ne(ge)})],ae=m.bind(0);return ae.qt=O,ae.Nt=R,[(de,xe,oe)=>{const{At:me,Lt:fe,It:ke,yt:Ae}=oe,{A:ve}=So(),Ie=Gv(t,de,xe),st=n(),{Tt:Fe,Ct:Ke,bt:_t}=st,[xt,Fn]=Ie("showNativeOverlaidScrollbars"),[Q,we]=Ie("scrollbars.theme"),[te,pe]=Ie("scrollbars.visibility"),[Ne,Xe]=Ie("scrollbars.autoHide"),[yt]=Ie("scrollbars.autoHideDelay"),[Xt,an]=Ie("scrollbars.dragScroll"),[Pn,gr]=Ie("scrollbars.clickScroll"),ln=me||fe||Ae,qn=ke||pe,Oe=xt&&ve.x&&ve.y,et=(it,ut)=>{const Nt=te==="visible"||te==="auto"&&it==="scroll";return N(Uz,Nt,ut),Nt};if(f=yt,Fn&&N(Bz,Oe),we&&(N(d),N(Q,!0),d=Q),Xe&&(o=Ne==="move",s=Ne==="leave",a=Ne!=="never",le(!a,!0)),an&&N(Yz,Xt),gr&&N(qz,Pn),qn){const it=et(Ke.x,!0),ut=et(Ke.y,!1);N(Gz,!(it&&ut))}ln&&(V(st),H(st),N(sS,!Fe.x,!0),N(sS,!Fe.y,!1),N(Hz,_t&&!F))},ae,Ks.bind(0,K)]},VP=(e,t,n)=>{Ps(e)&&e(t||void 0,n||void 0)},Va=(e,t,n)=>{const{F:r,N:o,Y:s,j:a}=So(),u=Wi(),d=ep(e),f=d?e:e.target,h=LP(f);if(t&&!h){let m=!1;const v=L=>{const F=Wi()[Xz],W=F&&F.O;return W?W(L,!0):L},b=ir({},r(),v(t)),[w,S,C]=O1(n),[P,k,_]=S$(e,b),[E,I,O]=R$(e,b,k,L=>C("scroll",[G,L])),R=(L,F)=>P(L,!!F),M=R.bind(0,{},!0),D=s(M),$=a(M),A=L=>{a$(f),D(),$(),O(),_(),m=!0,C("destroyed",[G,!!L]),S()},G={options(L,F){if(L){const W=F?r():{},X=IP(b,ir(W,v(L)));P1(X)||(ir(b,X),R(X))}return ir({},b)},on:w,off:(L,F)=>{L&&F&&S(L,F)},state(){const{zt:L,Tt:F,Ct:W,Et:X,K:N,St:V,bt:H}=k();return ir({},{overflowEdge:L,overflowAmount:F,overflowStyle:W,hasOverflow:X,padding:N,paddingAbsolute:V,directionRTL:H,destroyed:m})},elements(){const{W:L,Z:F,K:W,J:X,tt:N,ot:V,st:H}=k.qt,{Jt:U,nn:ne}=I.qt,ge=re=>{const{Ft:K,Gt:ae,Xt:de}=re;return{scrollbar:de,track:ae,handle:K}},le=re=>{const{Kt:K,Qt:ae}=re,de=ge(K[0]);return ir({},de,{clone:()=>{const xe=ge(ae());return E({},!0,{}),xe}})};return ir({},{target:L,host:F,padding:W||X,viewport:X,content:N||X,scrollOffsetElement:V,scrollEventElement:H,scrollbarHorizontal:le(U),scrollbarVertical:le(ne)})},update:L=>R({},L),destroy:A.bind(0)};return k.jt((L,F,W)=>{E(F,W,L)}),s$(f,G),yn(Mo(u),L=>VP(u[L],0,G)),o$(k.qt.it,o().cancel,!d&&e.cancel)?(A(!0),G):(k.Nt(),I.Nt(),C("initialized",[G]),k.jt((L,F,W)=>{const{gt:X,yt:N,vt:V,At:H,Lt:U,It:ne,wt:ge,Ot:le}=L;C("updated",[G,{updateHints:{sizeChanged:X,directionChanged:N,heightIntrinsicChanged:V,overflowEdgeChanged:H,overflowAmountChanged:U,overflowStyleChanged:ne,contentMutation:ge,hostMutation:le},changedOptions:F,force:W}])}),G.update(!0),G)}return h};Va.plugin=e=>{yn(Kz(e),t=>VP(t,Va))};Va.valid=e=>{const t=e&&e.elements,n=Ps(t)&&t();return Bv(n)&&!!LP(n.target)};Va.env=()=>{const{k:e,A:t,I:n,B:r,V:o,L:s,X:a,U:u,N:d,q:f,F:h,G:m}=So();return ir({},{scrollbarsSize:e,scrollbarsOverlaid:t,scrollbarsHiding:n,rtlScrollBehavior:r,flexboxGlue:o,cssCustomProperties:s,staticDefaultInitialization:a,staticDefaultOptions:u,getDefaultInitialization:d,setDefaultInitialization:f,getDefaultOptions:h,setDefaultOptions:m})};const M$=()=>{if(typeof window>"u"){const f=()=>{};return[f,f]}let e,t;const n=window,r=typeof n.requestIdleCallback=="function",o=n.requestAnimationFrame,s=n.cancelAnimationFrame,a=r?n.requestIdleCallback:o,u=r?n.cancelIdleCallback:s,d=()=>{u(e),s(t)};return[(f,h)=>{d(),e=a(r?()=>{d(),t=o(f)}:f,typeof h=="object"?h:{timeout:2233})},d]},UP=e=>{const{options:t,events:n,defer:r}=e||{},[o,s]=p.useMemo(M$,[]),a=p.useRef(null),u=p.useRef(r),d=p.useRef(t),f=p.useRef(n);return p.useEffect(()=>{u.current=r},[r]),p.useEffect(()=>{const{current:h}=a;d.current=t,Va.valid(h)&&h.options(t||{},!0)},[t]),p.useEffect(()=>{const{current:h}=a;f.current=n,Va.valid(h)&&h.on(n||{},!0)},[n]),p.useEffect(()=>()=>{var h;s(),(h=a.current)==null||h.destroy()},[]),p.useMemo(()=>[h=>{const m=a.current;if(Va.valid(m))return;const v=u.current,b=d.current||{},w=f.current||{},S=()=>a.current=Va(h,b,w);v?o(S,v):S()},()=>a.current],[])},T$=(e,t)=>{const{element:n="div",options:r,events:o,defer:s,children:a,...u}=e,d=n,f=p.useRef(null),h=p.useRef(null),[m,v]=UP({options:r,events:o,defer:s});return p.useEffect(()=>{const{current:b}=f,{current:w}=h;return b&&w&&m({target:b,elements:{viewport:w,content:w}}),()=>{var S;return(S=v())==null?void 0:S.destroy()}},[m,n]),p.useImperativeHandle(t,()=>({osInstance:v,getElement:()=>f.current}),[]),z.createElement(d,{"data-overlayscrollbars-initialize":"",ref:f,...u},z.createElement("div",{ref:h},a))},GP=p.forwardRef(T$);function qP(e){return at({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146z"}}]})(e)}function YP(e){return at({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146zm.122 2.112v-.002.002zm0-.002v.002a.5.5 0 0 1-.122.51L6.293 6.878a.5.5 0 0 1-.511.12H5.78l-.014-.004a4.507 4.507 0 0 0-.288-.076 4.922 4.922 0 0 0-.765-.116c-.422-.028-.836.008-1.175.15l5.51 5.509c.141-.34.177-.753.149-1.175a4.924 4.924 0 0 0-.192-1.054l-.004-.013v-.001a.5.5 0 0 1 .12-.512l3.536-3.535a.5.5 0 0 1 .532-.115l.096.022c.087.017.208.034.344.034.114 0 .23-.011.343-.04L9.927 2.028c-.029.113-.04.23-.04.343a1.779 1.779 0 0 0 .062.46z"}}]})(e)}function D$(e){return at({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(e)}function A$(e){return at({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function N$(e){return at({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-352 96c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H86.4C74 384 64 375.4 64 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2zM512 312c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function z$(e){return at({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"}}]})(e)}function $$(e){return at({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"}}]})(e)}function L$(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function F$(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function KP(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"}}]})(e)}function B$(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.21 334.093L336 256l142.21-78.093c11.795-6.477 15.961-21.384 9.232-33.037l-19.48-33.741c-6.728-11.653-21.72-15.499-33.227-8.523L296 186.718l3.475-162.204C299.763 11.061 288.937 0 275.48 0h-38.96c-13.456 0-24.283 11.061-23.994 24.514L216 186.718 77.265 102.607c-11.506-6.976-26.499-3.13-33.227 8.523l-19.48 33.741c-6.728 11.653-2.562 26.56 9.233 33.037L176 256 33.79 334.093c-11.795 6.477-15.961 21.384-9.232 33.037l19.48 33.741c6.728 11.653 21.721 15.499 33.227 8.523L216 325.282l-3.475 162.204C212.237 500.939 223.064 512 236.52 512h38.961c13.456 0 24.283-11.061 23.995-24.514L296 325.282l138.735 84.111c11.506 6.976 26.499 3.13 33.227-8.523l19.48-33.741c6.728-11.653 2.563-26.559-9.232-33.036z"}}]})(e)}function H$(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"}}]})(e)}function W$(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function V$(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"}}]})(e)}function N1(e){return at({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function pc(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(e)}function XP(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500 224h-30.364C455.724 130.325 381.675 56.276 288 42.364V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v30.364C130.325 56.276 56.276 130.325 42.364 224H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h30.364C56.276 381.675 130.325 455.724 224 469.636V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-30.364C381.675 455.724 455.724 381.675 469.636 288H500c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zM288 404.634V364c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40.634C165.826 392.232 119.783 346.243 107.366 288H148c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40.634C119.768 165.826 165.757 119.783 224 107.366V148c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40.634C346.174 119.768 392.217 165.757 404.634 224H364c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40.634C392.232 346.174 346.243 392.217 288 404.634zM288 256c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-17.673 14.327-32 32-32s32 14.327 32 32z"}}]})(e)}function U$(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"}}]})(e)}function z1(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function QP(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"}}]})(e)}function G$(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function q$(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 344v112a23.94 23.94 0 0 1-24 24H312c-21.39 0-32.09-25.9-17-41l36.2-36.2L224 295.6 116.77 402.9 153 439c15.09 15.1 4.39 41-17 41H24a23.94 23.94 0 0 1-24-24V344c0-21.4 25.89-32.1 41-17l36.19 36.2L184.46 256 77.18 148.7 41 185c-15.1 15.1-41 4.4-41-17V56a23.94 23.94 0 0 1 24-24h112c21.39 0 32.09 25.9 17 41l-36.2 36.2L224 216.4l107.23-107.3L295 73c-15.09-15.1-4.39-41 17-41h112a23.94 23.94 0 0 1 24 24v112c0 21.4-25.89 32.1-41 17l-36.19-36.2L263.54 256l107.28 107.3L407 327.1c15.1-15.2 41-4.5 41 16.9z"}}]})(e)}function $1(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"}}]})(e)}function ZP(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M50.75 333.25c-12 12-18.75 28.28-18.75 45.26V424L0 480l32 32 56-32h45.49c16.97 0 33.25-6.74 45.25-18.74l126.64-126.62-128-128L50.75 333.25zM483.88 28.12c-37.47-37.5-98.28-37.5-135.75 0l-77.09 77.09-13.1-13.1c-9.44-9.44-24.65-9.31-33.94 0l-40.97 40.97c-9.37 9.37-9.37 24.57 0 33.94l161.94 161.94c9.44 9.44 24.65 9.31 33.94 0L419.88 288c9.37-9.37 9.37-24.57 0-33.94l-13.1-13.1 77.09-77.09c37.51-37.48 37.51-98.26.01-135.75z"}}]})(e)}function Y$(e){return at({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function K$(e){return at({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function JP(e){return at({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M512 320s-64 92.65-64 128c0 35.35 28.66 64 64 64s64-28.65 64-64-64-128-64-128zm-9.37-102.94L294.94 9.37C288.69 3.12 280.5 0 272.31 0s-16.38 3.12-22.62 9.37l-81.58 81.58L81.93 4.76c-6.25-6.25-16.38-6.25-22.62 0L36.69 27.38c-6.24 6.25-6.24 16.38 0 22.62l86.19 86.18-94.76 94.76c-37.49 37.48-37.49 98.26 0 135.75l117.19 117.19c18.74 18.74 43.31 28.12 67.87 28.12 24.57 0 49.13-9.37 67.87-28.12l221.57-221.57c12.5-12.5 12.5-32.75.01-45.25zm-116.22 70.97H65.93c1.36-3.84 3.57-7.98 7.43-11.83l13.15-13.15 81.61-81.61 58.6 58.6c12.49 12.49 32.75 12.49 45.24 0s12.49-32.75 0-45.24l-58.6-58.6 58.95-58.95 162.44 162.44-48.34 48.34z"}}]})(e)}function If(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}}]})(e)}function X$(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"}}]})(e)}function Q$(e){return at({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zM94.6 168.9l34.9-5 15.5-31.6c2.9-5.8 11-5.8 13.9 0l15.5 31.6 34.9 5c6.2 1 8.9 8.6 4.3 13.2l-25.4 24.6 6 34.9c1 6.2-5.3 11-11 7.9L152 233.3l-31.3 16.3c-5.7 3.1-12-1.7-11-7.9l6-34.9-25.4-24.6c-4.6-4.7-1.9-12.3 4.3-13.3zM248 432c-60.6 0-134.5-38.3-143.8-93.3-2-11.8 9.3-21.5 20.7-17.9C155.1 330.5 200 336 248 336s92.9-5.5 123.1-15.2c11.5-3.7 22.6 6.1 20.7 17.9-9.3 55-83.2 93.3-143.8 93.3zm157.7-249.9l-25.4 24.6 6 34.9c1 6.2-5.3 11-11 7.9L344 233.3l-31.3 16.3c-5.7 3.1-12-1.7-11-7.9l6-34.9-25.4-24.6c-4.5-4.6-1.9-12.2 4.3-13.2l34.9-5 15.5-31.6c2.9-5.8 11-5.8 13.9 0l15.5 31.6 34.9 5c6.3.9 9 8.5 4.4 13.1z"}}]})(e)}function Z$(e){return at({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"}}]})(e)}function xu(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function J$(e){return at({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"}}]})(e)}function eL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function tL(e){return at({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"}}]})(e)}function ek(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"}}]})(e)}function nL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function rL(e){return at({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320.67 64c-442.6 0-357.57 384-158.46 384 39.9 0 77.47-20.69 101.42-55.86l25.73-37.79c15.66-22.99 46.97-22.99 62.63 0l25.73 37.79C401.66 427.31 439.23 448 479.13 448c189.86 0 290.63-384-158.46-384zM184 308.36c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05zm272 0c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05z"}}]})(e)}function oL(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function sL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function tk(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"}}]})(e)}function nk(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function Ih(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function aL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"}}]})(e)}function iL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"}}]})(e)}function lL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function L1(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function bS(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function cL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"}}]})(e)}function uL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(e)}function dL(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"}}]})(e)}function ap(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function F1(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"}}]})(e)}function fL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function vo(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function B1(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"}}]})(e)}function Oh(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function H1(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(e)}const rk=e=>e.image?i.jsx(f1,{sx:{w:`${e.image.width}px`,h:"auto",objectFit:"contain",aspectRatio:`${e.image.width}/${e.image.height}`}}):i.jsx(q,{sx:{opacity:.7,w:"full",h:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",bg:"base.200",_dark:{bg:"base.900"}},children:i.jsx(Ou,{size:"xl"})}),Vu=e=>{const{icon:t=xu,boxSize:n=16}=e;return i.jsxs(q,{sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",flexDir:"column",gap:2,userSelect:"none",color:"base.700",_dark:{color:"base.500"},...e.sx},children:[i.jsx(mo,{as:t,boxSize:n,opacity:.7}),e.label&&i.jsx(Ye,{textAlign:"center",children:e.label})]})},pL=({image:e})=>{const t=p.useMemo(()=>{var n,r;if(ah((n=e.metadata)==null?void 0:n.model))return(r=e.metadata)==null?void 0:r.model},[e.metadata]);return i.jsxs(q,{sx:{pointerEvents:"none",flexDirection:"column",position:"absolute",top:0,insetInlineStart:0,p:2,alignItems:"flex-start",gap:2},children:[i.jsxs(Ul,{variant:"solid",colorScheme:"base",children:[e.width,"  ",e.height]}),t&&i.jsx(Ul,{variant:"solid",colorScheme:"base",children:t})]})},hL=e=>{const{isOver:t,label:n="Drop"}=e,r=p.useRef(Ii()),{colorMode:o}=bo();return i.jsx(To.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},exit:{opacity:0,transition:{duration:.1}},children:i.jsxs(q,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full"},children:[i.jsx(q,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",bg:Re("base.700","base.900")(o),opacity:.7,borderRadius:"base",alignItems:"center",justifyContent:"center",transitionProperty:"common",transitionDuration:"0.1s"}}),i.jsx(q,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",opacity:1,borderWidth:3,borderColor:t?Re("base.50","base.200")(o):Re("base.100","base.500")(o),borderRadius:"base",borderStyle:"dashed",transitionProperty:"common",transitionDuration:"0.1s",alignItems:"center",justifyContent:"center"},children:i.jsx(Ye,{sx:{fontSize:"2xl",fontWeight:600,transform:t?"scale(1.02)":"scale(1)",color:t?Re("base.50","base.50")(o):Re("base.100","base.200")(o),transitionProperty:"common",transitionDuration:"0.1s"},children:n})})]})},r.current)},Gl=p.memo(hL),ok=({postUploadAction:e,isDisabled:t})=>{const n=se(),r=p.useCallback(u=>{const d=u[0];d&&n(p3({file:d,image_category:"user",is_intermediate:!1,postUploadAction:e}))},[n,e]),{getRootProps:o,getInputProps:s,open:a}=x1({accept:{"image/png":[".png"],"image/jpeg":[".jpg",".jpeg",".png"]},onDropAccepted:r,disabled:t,noDrag:!0,multiple:!1});return{getUploadButtonProps:o,getUploadInputProps:s,openUploader:a}},mL=e=>{const{imageDTO:t,onClickReset:n,onError:r,onClick:o,withResetIcon:s=!1,withMetadataOverlay:a=!1,isDropDisabled:u=!1,isDragDisabled:d=!1,isUploadDisabled:f=!1,minSize:h=24,postUploadAction:m,imageSx:v,fitContainer:b=!1,droppableData:w,draggableData:S,dropLabel:C,isSelected:P=!1,thumbnail:k=!1,resetTooltip:_="Reset",resetIcon:E=i.jsx(B1,{}),noContentFallback:I=i.jsx(Vu,{icon:xu})}=e,{colorMode:O}=bo(),R=p.useRef(Ii()),{attributes:M,listeners:D,setNodeRef:$,isDragging:A,active:G}=RO({id:R.current,disabled:d||!t,data:S}),{isOver:L,setNodeRef:F}=Ru({id:R.current,disabled:u,data:w}),W=MO(F,$),{getUploadButtonProps:X,getUploadInputProps:N}=ok({postUploadAction:m,isDisabled:f}),V=Cf("drop-shadow(0px 0px 0.1rem var(--invokeai-colors-base-600))","drop-shadow(0px 0px 0.1rem var(--invokeai-colors-base-800))"),H=f?{}:{cursor:"pointer",bg:Re("base.200","base.800")(O),_hover:{bg:Re("base.300","base.650")(O),color:Re("base.500","base.300")(O)}};return i.jsxs(q,{sx:{width:"full",height:"full",alignItems:"center",justifyContent:"center",position:"relative",minW:h||void 0,minH:h||void 0,userSelect:"none",cursor:d||!t?"default":"pointer"},...M,...D,ref:W,children:[t&&i.jsxs(q,{sx:{w:"full",h:"full",position:b?"absolute":"relative",alignItems:"center",justifyContent:"center"},children:[i.jsx(ih,{onClick:o,src:k?t.thumbnail_url:t.image_url,fallbackStrategy:"beforeLoadOrError",fallback:i.jsx(rk,{image:t}),onError:r,draggable:!1,sx:{objectFit:"contain",maxW:"full",maxH:"full",borderRadius:"base",shadow:P?"selected.light":void 0,_dark:{shadow:P?"selected.dark":void 0},...v}}),a&&i.jsx(pL,{image:t}),n&&s&&i.jsx(Me,{onClick:n,"aria-label":_,tooltip:_,icon:E,size:"sm",variant:"link",sx:{position:"absolute",top:1,insetInlineEnd:1,p:0,minW:0,svg:{transitionProperty:"common",transitionDuration:"normal",fill:"base.100",_hover:{fill:"base.50"},filter:V}}})]}),!t&&!f&&i.jsx(i.Fragment,{children:i.jsxs(q,{sx:{minH:h,w:"full",h:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",transitionProperty:"common",transitionDuration:"0.1s",color:Re("base.500","base.500")(O),...H},...X(),children:[i.jsx("input",{...N()}),i.jsx(mo,{as:Oh,sx:{boxSize:16}})]})}),!t&&f&&I,i.jsx(ns,{children:Vl(w,G)&&!A&&i.jsx(Gl,{isOver:L,label:C})})]})},Vi=p.memo(mL);var ru=globalThis&&globalThis.__assign||function(){return ru=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ru.apply(this,arguments)};function sk(e){var t,n=p.useState(!1),r=n[0],o=n[1],s=p.useState(!1),a=s[0],u=s[1],d=p.useState(!1),f=d[0],h=d[1],m=p.useState([0,0]),v=m[0],b=m[1],w=p.useRef(null);p.useEffect(function(){if(r)setTimeout(function(){u(!0),setTimeout(function(){h(!0)})});else{h(!1);var C=setTimeout(function(){u(r)},1e3);return function(){return clearTimeout(C)}}},[r]),pD("contextmenu",function(C){var P;!((P=w.current)===null||P===void 0)&&P.contains(C.target)||C.target===w.current?(C.preventDefault(),o(!0),b([C.pageX,C.pageY])):o(!1)});var S=p.useCallback(function(){var C,P;(P=(C=e.menuProps)===null||C===void 0?void 0:C.onClose)===null||P===void 0||P.call(C),o(!1)},[(t=e.menuProps)===null||t===void 0?void 0:t.onClose,o]);return p.createElement(p.Fragment,null,e.children(w),a&&p.createElement(Mf,ru({},e.portalProps),p.createElement(hh,ru({isOpen:f,gutter:0},e.menuProps,{onClose:S}),p.createElement(mh,ru({"aria-hidden":!0,w:1,h:1,style:{position:"absolute",left:v[0],top:v[1],cursor:"default"}},e.menuButtonProps)),e.renderMenu())))}var gL=cc({displayName:"EditIcon",path:i.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[i.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),i.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),W1=cc({displayName:"ExternalLinkIcon",path:i.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("path",{d:"M15 3h6v6"}),i.jsx("path",{d:"M10 14L21 3"})]})}),V1=cc({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),vL=cc({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),yL=cc({displayName:"DeleteIcon",path:i.jsx("g",{fill:"currentColor",children:i.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),bL=cc({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"});function Of(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M245.09 327.74v-37.32c57.07 0 84.51 13.47 108.58 38.68 5.4 5.65 15 1.32 14.29-6.43-5.45-61.45-34.14-117.09-122.87-117.09v-37.32a8.32 8.32 0 00-14.05-6L146.58 242a8.2 8.2 0 000 11.94L231 333.71a8.32 8.32 0 0014.09-5.97z"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"}}]})(e)}function xL(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.33 433.6l-90-218a22 22 0 00-40.67 0l-90 218a22 22 0 1040.67 16.79L316.66 406h102.67l18.33 44.39A22 22 0 00458 464a22 22 0 0020.32-30.4zM334.83 362L368 281.65 401.17 362zm-66.99-19.08a22 22 0 00-4.89-30.7c-.2-.15-15-11.13-36.49-34.73 39.65-53.68 62.11-114.75 71.27-143.49H330a22 22 0 000-44H214V70a22 22 0 00-44 0v20H54a22 22 0 000 44h197.25c-9.52 26.95-27.05 69.5-53.79 108.36-31.41-41.68-43.08-68.65-43.17-68.87a22 22 0 00-40.58 17c.58 1.38 14.55 34.23 52.86 83.93.92 1.19 1.83 2.35 2.74 3.51-39.24 44.35-77.74 71.86-93.85 80.74a22 22 0 1021.07 38.63c2.16-1.18 48.6-26.89 101.63-85.59 22.52 24.08 38 35.44 38.93 36.1a22 22 0 0030.75-4.9z"}}]})(e)}const hr=e=>{const t=B(a=>a.config.disabledTabs),n=B(a=>a.config.disabledFeatures),r=B(a=>a.config.disabledSDFeatures),o=p.useMemo(()=>n.includes(e)||r.includes(e)||t.includes(e),[n,r,t,e]),s=p.useMemo(()=>!(n.includes(e)||r.includes(e)||t.includes(e)),[n,r,t,e]);return{isFeatureDisabled:o,isFeatureEnabled:s}},U1=()=>{const e=se(),t=Iu(),{t:n}=ye(),r=p.useCallback(()=>{t({title:n("toast.parameterSet"),status:"info",duration:2500,isClosable:!0})},[n,t]),o=p.useCallback(()=>{t({title:n("toast.parameterNotSet"),status:"warning",duration:2500,isClosable:!0})},[n,t]),s=p.useCallback(()=>{t({title:n("toast.parametersSet"),status:"info",duration:2500,isClosable:!0})},[n,t]),a=p.useCallback(()=>{t({title:n("toast.parametersNotSet"),status:"warning",duration:2500,isClosable:!0})},[n,t]),u=p.useCallback((I,O)=>{if(Md(I)||Td(O)){Md(I)&&e(eu(I)),Td(O)&&e(tu(O)),r();return}o()},[e,r,o]),d=p.useCallback(I=>{if(!Md(I)){o();return}e(eu(I)),r()},[e,r,o]),f=p.useCallback(I=>{if(!Td(I)){o();return}e(tu(I)),r()},[e,r,o]),h=p.useCallback(I=>{if(!bx(I)){o();return}e(Df(I)),r()},[e,r,o]),m=p.useCallback(I=>{if(!xx(I)){o();return}e(Af(I)),r()},[e,r,o]),v=p.useCallback(I=>{if(!Sx(I)){o();return}e(pv((I==null?void 0:I.id)||"")),r()},[e,r,o]),b=p.useCallback(I=>{if(!wx(I)){o();return}e(hv(I)),r()},[e,r,o]),w=p.useCallback(I=>{if(!Cx(I)){o();return}e(Nf(I)),r()},[e,r,o]),S=p.useCallback(I=>{if(!Px(I)){o();return}e(zf(I)),r()},[e,r,o]),C=p.useCallback(I=>{if(!kx(I)){o();return}e($f(I)),r()},[e,r,o]),P=p.useCallback(I=>{if(!_x(I)){o();return}e(Lf(I)),r()},[e,r,o]),k=p.useCallback(async I=>{if(!TO(I)){o();return}e(Ff(I.image_name)),r()},[e,r,o]),_=p.useCallback(I=>{e(Ff(I))},[e]),E=p.useCallback(I=>{if(!I||!I.metadata){a();return}const{cfg_scale:O,height:R,model:M,positive_conditioning:D,negative_conditioning:$,scheduler:A,seed:G,steps:L,width:F,strength:W,clip:X,extra:N,latents:V,unet:H,vae:U}=I.metadata;xx(O)&&e(Af(O)),Sx(M)&&e(pv(M)),Md(D)&&e(eu(D)),Td($)&&e(tu($)),wx(A)&&e(hv(A)),bx(G)&&e(Df(G)),Cx(L)&&e(Nf(L)),Px(F)&&e(zf(F)),kx(R)&&e($f(R)),_x(W)&&e(Lf(W)),s()},[a,s,e]);return{recallBothPrompts:u,recallPositivePrompt:d,recallNegativePrompt:f,recallSeed:h,recallInitialImage:k,recallCfgScale:m,recallModel:v,recallScheduler:b,recallSteps:w,recallWidth:S,recallHeight:C,recallStrength:P,recallAllParameters:E,sendToImageToImage:_}},SL=Pe([wn,(e,t)=>t],({gallery:e,batch:t},n)=>{const r=e.selection.length,o=t.imageNames.includes(n.image_name);return{selectionCount:r,isInBatch:o}},Rt),wL=({image:e,children:t})=>{var M,D;const{selectionCount:n,isInBatch:r}=B($=>SL($,e)),o=se(),{t:s}=ye(),a=Iu(),u=hr("lightbox").isFeatureEnabled,d=hr("unifiedCanvas").isFeatureEnabled,{onClickAddToBoard:f}=p.useContext(m3),h=p.useCallback(()=>{e&&o(M0(e))},[o,e]),{recallBothPrompts:m,recallSeed:v,recallAllParameters:b}=U1(),[w]=DO(),S=p.useCallback(()=>{var $,A;m(($=e.metadata)==null?void 0:$.positive_conditioning,(A=e.metadata)==null?void 0:A.negative_conditioning)},[(M=e.metadata)==null?void 0:M.negative_conditioning,(D=e.metadata)==null?void 0:D.positive_conditioning,m]),C=p.useCallback(()=>{var $;v(($=e.metadata)==null?void 0:$.seed)},[e,v]),P=p.useCallback(()=>{o(g3()),o(Ff(e))},[o,e]),k=()=>{o(v3()),o(y3(e)),o(lh()),o(_i("unifiedCanvas")),a({title:s("toast.sentToUnifiedCanvas"),status:"success",duration:2500,isClosable:!0})},_=p.useCallback(()=>{b(e)},[e,b]),E=()=>{},I=p.useCallback(()=>{f(e)},[e,f]),O=p.useCallback(()=>{e.board_id&&w({board_id:e.board_id,image_name:e.image_name})},[e.board_id,e.image_name,w]),R=()=>{window.open(e.image_url,"_blank")};return p.useCallback(()=>{o(AO())},[o]),p.useCallback(()=>{o(NO([e.image_name]))},[o,e.image_name]),i.jsx(sk,{menuProps:{size:"sm",isLazy:!0},renderMenu:()=>{var $,A,G;return i.jsx(Lu,{sx:{visibility:"visible !important"},children:n===1?i.jsxs(i.Fragment,{children:[i.jsx(ro,{icon:i.jsx(W1,{}),onClickCapture:R,children:s("common.openInNewTab")}),u&&i.jsx(ro,{icon:i.jsx($1,{}),onClickCapture:E,children:s("parameters.openInViewer")}),i.jsx(ro,{icon:i.jsx(Of,{}),onClickCapture:S,isDisabled:(($=e==null?void 0:e.metadata)==null?void 0:$.positive_conditioning)===void 0,children:s("parameters.usePrompt")}),i.jsx(ro,{icon:i.jsx(Of,{}),onClickCapture:C,isDisabled:((A=e==null?void 0:e.metadata)==null?void 0:A.seed)===void 0,children:s("parameters.useSeed")}),i.jsx(ro,{icon:i.jsx(Of,{}),onClickCapture:_,isDisabled:!["t2l","l2l","inpaint"].includes(String((G=e==null?void 0:e.metadata)==null?void 0:G.type)),children:s("parameters.useAll")}),i.jsx(ro,{icon:i.jsx(ap,{}),onClickCapture:P,id:"send-to-img2img",children:s("parameters.sendToImg2Img")}),d&&i.jsx(ro,{icon:i.jsx(ap,{}),onClickCapture:k,id:"send-to-canvas",children:s("parameters.sendToUnifiedCanvas")}),i.jsx(ro,{icon:i.jsx(If,{}),onClickCapture:I,children:e.board_id?"Change Board":"Add to Board"}),e.board_id&&i.jsx(ro,{icon:i.jsx(If,{}),onClickCapture:O,children:"Remove from Board"}),i.jsx(ro,{sx:{color:"error.600",_dark:{color:"error.300"}},icon:i.jsx(vo,{}),onClickCapture:h,children:s("gallery.deleteImage")})]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{isDisabled:!0,icon:i.jsx(If,{}),onClickCapture:I,children:"Move Selection to Board"}),i.jsx(ro,{sx:{color:"error.600",_dark:{color:"error.300"}},icon:i.jsx(vo,{}),onClickCapture:h,children:"Delete Selection"})]})})},children:t})},CL=p.memo(wL),PL=e=>Pe([wn],({gallery:t})=>{const n=t.selection.includes(e),r=t.selection.length;return{isSelected:n,selectionCount:r}},Rt),kL=e=>{const{imageDTO:t}=e,{image_url:n,thumbnail_url:r,image_name:o}=t,s=p.useMemo(()=>PL(o),[o]),{isSelected:a,selectionCount:u}=B(s),d=se();ye();const f=p.useCallback(v=>{v.shiftKey?d(zO(e.imageDTO.image_name)):v.ctrlKey||v.metaKey?d($O(e.imageDTO.image_name)):d(mv(e.imageDTO.image_name))},[d,e.imageDTO.image_name]),h=p.useCallback(v=>{v.stopPropagation(),t&&d(M0(t))},[d,t]),m=p.useMemo(()=>{if(u>1)return{id:"gallery-image",payloadType:"GALLERY_SELECTION"};if(t)return{id:"gallery-image",payloadType:"IMAGE_DTO",payload:{imageDTO:t}}},[t,u]);return i.jsx(Ue,{sx:{w:"full",h:"full",touchAction:"none"},children:i.jsx(CL,{image:t,children:v=>i.jsx(Ue,{position:"relative",userSelect:"none",ref:v,sx:{display:"flex",justifyContent:"center",alignItems:"center",aspectRatio:"1/1"},children:i.jsx(Vi,{onClick:f,imageDTO:t,draggableData:m,isSelected:a,minSize:0,onClickReset:h,resetIcon:i.jsx(vo,{}),resetTooltip:"Delete image",imageSx:{w:"full",h:"full"},isDropDisabled:!0,isUploadDisabled:!0})},o)})})},_L=p.memo(kL),jL=M7(e=>{e(b3(!0))},300),_s=()=>(e,t)=>{Dr(t())==="unifiedCanvas"&&jL(e)},Rh=0,Zi=1,hc=2,ak=4;function EL(e,t){return n=>e(t(n))}function IL(e,t){return t(e)}function ik(e,t){return n=>e(t,n)}function xS(e,t){return()=>e(t)}function G1(e,t){return t(e),e}function Ji(...e){return e}function OL(e){e()}function SS(e){return()=>e}function RL(...e){return()=>{e.map(OL)}}function ML(e){return e!==void 0}function Mh(){}function es(e,t){return e(Zi,t)}function Si(e,t){e(Rh,t)}function q1(e){e(hc)}function Th(e){return e(ak)}function Vn(e,t){return es(e,ik(t,Rh))}function Mr(){const e=[];return(t,n)=>{switch(t){case hc:e.splice(0,e.length);return;case Zi:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)};case Rh:e.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function qt(e){let t=e;const n=Mr();return(r,o)=>{switch(r){case Zi:o(t);break;case Rh:t=o;break;case ak:return t}return n(r,o)}}function TL(e){let t,n;const r=()=>t&&t();return function(o,s){switch(o){case Zi:return s?n===s?void 0:(r(),n=s,t=es(e,s),t):(r(),Mh);case hc:r(),n=null;return;default:throw new Error(`unrecognized action ${o}`)}}}function ou(e){return G1(Mr(),t=>Vn(e,t))}function Bl(e,t){return G1(qt(t),n=>Vn(e,n))}function DL(...e){return t=>e.reduceRight(IL,t)}function Jt(e,...t){const n=DL(...t);return(r,o)=>{switch(r){case Zi:return es(e,n(o));case hc:q1(e);return}}}function lk(e,t){return e===t}function go(e=lk){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function Ko(e){return t=>n=>{e(n)&&t(n)}}function Jn(e){return t=>EL(t,e)}function wi(e){return t=>()=>t(e)}function Kd(e,t){return n=>r=>n(t=e(t,r))}function wS(e){return t=>n=>{e>0?e--:t(n)}}function Xd(e){let t=null,n;return r=>o=>{t=o,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function CS(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function Ua(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const u=Math.pow(2,a);es(s,d=>{const f=n;n=n|u,t[a]=d,f!==o&&n===o&&r&&(r(),r=null)})}),s=>a=>{const u=()=>s([a].concat(t));n===o?u():r=u}}function PS(...e){return function(t,n){switch(t){case Zi:return RL(...e.map(r=>es(r,n)));case hc:return;default:throw new Error(`unrecognized action ${t}`)}}}function er(e,t=lk){return Jt(e,go(t))}function Ui(...e){const t=Mr(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const u=Math.pow(2,a);es(s,d=>{n[a]=d,r=r|u,r===o&&Si(t,n)})}),function(s,a){switch(s){case Zi:return r===o&&a(n),es(t,a);case hc:return q1(t);default:throw new Error(`unrecognized action ${s}`)}}}function Xs(e,t=[],{singleton:n}={singleton:!0}){return{id:AL(),constructor:e,dependencies:t,singleton:n}}const AL=()=>Symbol();function NL(e){const t=new Map,n=({id:r,constructor:o,dependencies:s,singleton:a})=>{if(a&&t.has(r))return t.get(r);const u=o(s.map(d=>n(d)));return a&&t.set(r,u),u};return n(e)}function zL(e,t){const n={},r={};let o=0;const s=e.length;for(;o<s;)r[e[o]]=1,o+=1;for(const a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}const Qd=typeof document<"u"?z.useLayoutEffect:z.useEffect;function $L(e,t,n){const r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),u=z.createContext({});function d(S,C){S.propsReady&&Si(S.propsReady,!1);for(const P of r){const k=S[t.required[P]];Si(k,C[P])}for(const P of o)if(P in C){const k=S[t.optional[P]];Si(k,C[P])}S.propsReady&&Si(S.propsReady,!0)}function f(S){return s.reduce((C,P)=>(C[P]=k=>{const _=S[t.methods[P]];Si(_,k)},C),{})}function h(S){return a.reduce((C,P)=>(C[P]=TL(S[t.events[P]]),C),{})}return{Component:z.forwardRef((S,C)=>{const{children:P,...k}=S,[_]=z.useState(()=>G1(NL(e),I=>d(I,k))),[E]=z.useState(xS(h,_));return Qd(()=>{for(const I of a)I in k&&es(E[I],k[I]);return()=>{Object.values(E).map(q1)}},[k,E,_]),Qd(()=>{d(_,k)}),z.useImperativeHandle(C,SS(f(_))),z.createElement(u.Provider,{value:_},n?z.createElement(n,zL([...r,...o,...a],k),P):P)}),usePublisher:S=>z.useCallback(ik(Si,z.useContext(u)[S]),[S]),useEmitterValue:S=>{const P=z.useContext(u)[S],[k,_]=z.useState(xS(Th,P));return Qd(()=>es(P,E=>{E!==k&&_(SS(E))}),[P,k]),k},useEmitter:(S,C)=>{const k=z.useContext(u)[S];Qd(()=>es(k,C),[C,k])}}}const LL=typeof document<"u"?z.useLayoutEffect:z.useEffect,FL=LL;var Y1=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Y1||{});const BL={[0]:"debug",[1]:"log",[2]:"warn",[3]:"error"},HL=()=>typeof globalThis>"u"?window:globalThis,ck=Xs(()=>{const e=qt(3);return{log:qt((n,r,o=1)=>{var s;const a=(s=HL().VIRTUOSO_LOG_LEVEL)!=null?s:Th(e);o>=a&&console[BL[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:e}},[],{singleton:!0});function uk(e,t=!0){const n=z.useRef(null);let r=o=>{};if(typeof ResizeObserver<"u"){const o=z.useMemo(()=>new ResizeObserver(s=>{const a=s[0].target;a.offsetParent!==null&&e(a)}),[e]);r=s=>{s&&t?(o.observe(s),n.current=s):(n.current&&o.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function Dh(e,t=!0){return uk(e,t).callbackRef}function ip(e,t){return Math.round(e.getBoundingClientRect()[t])}function dk(e,t){return Math.abs(e-t)<1.01}function fk(e,t,n,r=Mh,o){const s=z.useRef(null),a=z.useRef(null),u=z.useRef(null),d=z.useCallback(m=>{const v=m.target,b=v===window||v===document,w=b?window.pageYOffset||document.documentElement.scrollTop:v.scrollTop,S=b?document.documentElement.scrollHeight:v.scrollHeight,C=b?window.innerHeight:v.offsetHeight,P=()=>{e({scrollTop:Math.max(w,0),scrollHeight:S,viewportHeight:C})};m.suppressFlushSync?P():LO.flushSync(P),a.current!==null&&(w===a.current||w<=0||w===S-C)&&(a.current=null,t(!0),u.current&&(clearTimeout(u.current),u.current=null))},[e,t]);z.useEffect(()=>{const m=o||s.current;return r(o||s.current),d({target:m,suppressFlushSync:!0}),m.addEventListener("scroll",d,{passive:!0}),()=>{r(null),m.removeEventListener("scroll",d)}},[s,d,n,r,o]);function f(m){const v=s.current;if(!v||"offsetHeight"in v&&v.offsetHeight===0)return;const b=m.behavior==="smooth";let w,S,C;v===window?(S=Math.max(ip(document.documentElement,"height"),document.documentElement.scrollHeight),w=window.innerHeight,C=document.documentElement.scrollTop):(S=v.scrollHeight,w=ip(v,"height"),C=v.scrollTop);const P=S-w;if(m.top=Math.ceil(Math.max(Math.min(P,m.top),0)),dk(w,S)||m.top===C){e({scrollTop:C,scrollHeight:S,viewportHeight:w}),b&&t(!0);return}b?(a.current=m.top,u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{u.current=null,a.current=null,t(!0)},1e3)):a.current=null,v.scrollTo(m)}function h(m){s.current.scrollBy(m)}return{scrollerRef:s,scrollByCallback:h,scrollToCallback:f}}const Ah=Xs(()=>{const e=Mr(),t=Mr(),n=qt(0),r=Mr(),o=qt(0),s=Mr(),a=Mr(),u=qt(0),d=qt(0),f=qt(0),h=qt(0),m=Mr(),v=Mr(),b=qt(!1);return Vn(Jt(e,Jn(({scrollTop:w})=>w)),t),Vn(Jt(e,Jn(({scrollHeight:w})=>w)),a),Vn(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:u,fixedHeaderHeight:d,fixedFooterHeight:f,footerHeight:h,scrollHeight:a,smoothScrollTargetReached:r,scrollTo:m,scrollBy:v,statefulScrollTop:o,deviation:n,scrollingInProgress:b}},[],{singleton:!0}),WL=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function VL(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!WL)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const lp="up",su="down",UL="none",GL={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},qL=0,pk=Xs(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:s}])=>{const a=qt(!1),u=qt(!0),d=Mr(),f=Mr(),h=qt(4),m=qt(qL),v=Bl(Jt(PS(Jt(er(t),wS(1),wi(!0)),Jt(er(t),wS(1),wi(!1),CS(100))),go()),!1),b=Bl(Jt(PS(Jt(s,wi(!0)),Jt(s,wi(!1),CS(200))),go()),!1);Vn(Jt(Ui(er(t),er(m)),Jn(([k,_])=>k<=_),go()),u),Vn(Jt(u,Xd(50)),f);const w=ou(Jt(Ui(e,er(n),er(r),er(o),er(h)),Kd((k,[{scrollTop:_,scrollHeight:E},I,O,R,M])=>{const D=_+I-E>-M,$={viewportHeight:I,scrollTop:_,scrollHeight:E};if(D){let G,L;return _>k.state.scrollTop?(G="SCROLLED_DOWN",L=k.state.scrollTop-_):(G="SIZE_DECREASED",L=k.state.scrollTop-_||k.scrollTopDelta),{atBottom:!0,state:$,atBottomBecause:G,scrollTopDelta:L}}let A;return $.scrollHeight>k.state.scrollHeight?A="SIZE_INCREASED":I<k.state.viewportHeight?A="VIEWPORT_HEIGHT_DECREASING":_<k.state.scrollTop?A="SCROLLING_UPWARDS":A="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:A,state:$}},GL),go((k,_)=>k&&k.atBottom===_.atBottom))),S=Bl(Jt(e,Kd((k,{scrollTop:_,scrollHeight:E,viewportHeight:I})=>{if(dk(k.scrollHeight,E))return{scrollTop:_,scrollHeight:E,jump:0,changed:!1};{const O=E-(_+I)<1;return k.scrollTop!==_&&O?{scrollHeight:E,scrollTop:_,jump:k.scrollTop-_,changed:!0}:{scrollHeight:E,scrollTop:_,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Ko(k=>k.changed),Jn(k=>k.jump)),0);Vn(Jt(w,Jn(k=>k.atBottom)),a),Vn(Jt(a,Xd(50)),d);const C=qt(su);Vn(Jt(e,Jn(({scrollTop:k})=>k),go(),Kd((k,_)=>Th(b)?{direction:k.direction,prevScrollTop:_}:{direction:_<k.prevScrollTop?lp:su,prevScrollTop:_},{direction:su,prevScrollTop:0}),Jn(k=>k.direction)),C),Vn(Jt(e,Xd(50),wi(UL)),C);const P=qt(0);return Vn(Jt(v,Ko(k=>!k),wi(0)),P),Vn(Jt(t,Xd(100),Ua(v),Ko(([k,_])=>!!_),Kd(([k,_],[E])=>[_,E],[0,0]),Jn(([k,_])=>_-k)),P),{isScrolling:v,isAtTop:u,isAtBottom:a,atBottomState:w,atTopStateChange:f,atBottomStateChange:d,scrollDirection:C,atBottomThreshold:h,atTopThreshold:m,scrollVelocity:P,lastJumpDueToItemResize:S}},Ji(Ah)),YL=Xs(([{log:e}])=>{const t=qt(!1),n=ou(Jt(t,Ko(r=>r),go()));return es(t,r=>{r&&Th(e)("props updated",{},Y1.DEBUG)}),{propsReady:t,didMount:n}},Ji(ck),{singleton:!0});function Kv(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function KL(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const cp="top",up="bottom",kS="none";function _S(e,t,n){return typeof e=="number"?n===lp&&t===cp||n===su&&t===up?e:0:n===lp?t===cp?e.main:e.reverse:t===up?e.main:e.reverse}function jS(e,t){return typeof e=="number"?e:e[t]||0}const XL=Xs(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{const s=Mr(),a=qt(0),u=qt(0),d=qt(0),f=Bl(Jt(Ui(er(e),er(t),er(r),er(s,Kv),er(d),er(a),er(o),er(n),er(u)),Jn(([h,m,v,[b,w],S,C,P,k,_])=>{const E=h-k,I=C+P,O=Math.max(v-E,0);let R=kS;const M=jS(_,cp),D=jS(_,up);return b-=k,b+=v+P,w+=v+P,w-=k,b>h+I-M&&(R=lp),w<h-O+m+D&&(R=su),R!==kS?[Math.max(E-v-_S(S,cp,R)-M,0),E-O-P+m+_S(S,up,R)+D]:null}),Ko(h=>h!=null),go(Kv)),[0,0]);return{listBoundary:s,overscan:d,topListHeight:a,increaseViewportBy:u,visibleRange:f}},Ji(Ah),{singleton:!0}),QL=Xs(([{scrollVelocity:e}])=>{const t=qt(!1),n=Mr(),r=qt(!1);return Vn(Jt(e,Ua(r,t,n),Ko(([o,s])=>!!s),Jn(([o,s,a,u])=>{const{exit:d,enter:f}=s;if(a){if(d(o,u))return!1}else if(f(o,u))return!0;return a}),go()),t),es(Jt(Ui(t,e,n),Ua(r)),([[o,s,a],u])=>o&&u&&u.change&&u.change(s,a)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},Ji(pk),{singleton:!0});function ZL(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const JL=Xs(([{scrollTo:e,scrollContainerState:t}])=>{const n=Mr(),r=Mr(),o=Mr(),s=qt(!1),a=qt(void 0);return Vn(Jt(Ui(n,r),Jn(([{viewportHeight:u,scrollTop:d,scrollHeight:f},{offsetTop:h}])=>({scrollTop:Math.max(0,d-h),scrollHeight:f,viewportHeight:u}))),t),Vn(Jt(e,Ua(r),Jn(([u,{offsetTop:d}])=>({...u,top:u.top+d}))),o),{useWindowScroll:s,customScrollParent:a,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}},Ji(Ah)),Lg="-webkit-sticky",ES="sticky",hk=ZL(()=>{if(typeof document>"u")return ES;const e=document.createElement("div");return e.style.position=Lg,e.style.position===Lg?Lg:ES});function eF(e,t){const n=z.useRef(null),r=z.useCallback(u=>{if(u===null||!u.offsetParent)return;const d=u.getBoundingClientRect(),f=d.width;let h,m;if(t){const v=t.getBoundingClientRect(),b=d.top-v.top;h=v.height-Math.max(0,b),m=b+t.scrollTop}else h=window.innerHeight-Math.max(0,d.top),m=d.top+window.pageYOffset;n.current={offsetTop:m,visibleHeight:h,visibleWidth:f},e(n.current)},[e,t]),{callbackRef:o,ref:s}=uk(r),a=z.useCallback(()=>{r(s.current)},[r,s]);return z.useEffect(()=>{if(t){t.addEventListener("scroll",a);const u=new ResizeObserver(a);return u.observe(t),()=>{t.removeEventListener("scroll",a),u.unobserve(t)}}else return window.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[a,t]),o}z.createContext(void 0);const mk=z.createContext(void 0);function tF(e){return e}hk();const nF={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},gk={width:"100%",height:"100%",position:"absolute",top:0};hk();function Di(e,t){if(typeof e!="string")return{context:t}}function rF({usePublisher:e,useEmitter:t,useEmitterValue:n}){return z.memo(function({style:s,children:a,...u}){const d=e("scrollContainerState"),f=n("ScrollerComponent"),h=e("smoothScrollTargetReached"),m=n("scrollerRef"),v=n("context"),{scrollerRef:b,scrollByCallback:w,scrollToCallback:S}=fk(d,h,f,m);return t("scrollTo",S),t("scrollBy",w),z.createElement(f,{ref:b,style:{...nF,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...u,...Di(f,v)},a)})}function oF({usePublisher:e,useEmitter:t,useEmitterValue:n}){return z.memo(function({style:s,children:a,...u}){const d=e("windowScrollContainerState"),f=n("ScrollerComponent"),h=e("smoothScrollTargetReached"),m=n("totalListHeight"),v=n("deviation"),b=n("customScrollParent"),w=n("context"),{scrollerRef:S,scrollByCallback:C,scrollToCallback:P}=fk(d,h,f,Mh,b);return FL(()=>(S.current=b||window,()=>{S.current=null}),[S,b]),t("windowScrollTo",P),t("scrollBy",C),z.createElement(f,{style:{position:"relative",...s,...m!==0?{height:m+v}:{}},"data-virtuoso-scroller":!0,...u,...Di(f,w)},a)})}const IS={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},sF={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:OS,ceil:RS,floor:dp,min:Fg,max:au}=Math;function aF(e){return{...sF,items:e}}function Bg(e,t,n){return Array.from({length:t-e+1}).map((r,o)=>({index:o+e,data:n==null?void 0:n[o+e]}))}function iF(e,t){return e&&e.column===t.column&&e.row===t.row}function MS(e,t){return e&&e.width===t.width&&e.height===t.height}const lF=Xs(([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:r,viewportHeight:o,scrollBy:s,scrollTo:a,smoothScrollTargetReached:u,scrollContainerState:d,footerHeight:f,headerHeight:h},m,v,{propsReady:b,didMount:w},{windowViewportRect:S,windowScrollTo:C,useWindowScroll:P,customScrollParent:k,windowScrollContainerState:_},E])=>{const I=qt(0),O=qt(0),R=qt(IS),M=qt({height:0,width:0}),D=qt({height:0,width:0}),$=Mr(),A=Mr(),G=qt(0),L=qt(void 0),F=qt({row:0,column:0});Vn(Jt(w,Ua(O,L),Ko(([U,ne])=>U&&ne!==0),Jn(([,U,ne])=>({items:Bg(0,U-1,ne),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}))),R),Vn(Jt(Ui(er(I),t,er(F,iF),er(D,MS),er(M,MS),L),Jn(([U,[ne,ge],le,re,K,ae])=>{const{row:de,column:xe}=le,{height:oe,width:me}=re,{width:fe}=K;if(U===0||fe===0)return IS;if(me===0)return aF(Bg(0,0,ae));const ke=vk(fe,me,xe);let Ae=ke*dp((ne+de)/(oe+de)),ve=ke*RS((ge+de)/(oe+de))-1;ve=Fg(U-1,au(ve,ke-1)),Ae=Fg(ve,au(0,Ae));const Ie=Bg(Ae,ve,ae),{top:st,bottom:Fe}=TS(K,le,re,Ie),Ke=RS(U/ke),xt=Ke*oe+(Ke-1)*de-Fe;return{items:Ie,offsetTop:st,offsetBottom:xt,top:st,bottom:Fe,itemHeight:oe,itemWidth:me}})),R),Vn(Jt(L,Ko(ML),Jn(U=>U.length)),I),Vn(Jt(M,Jn(({height:U})=>U)),o),Vn(Jt(Ui(M,D,R,F),Jn(([U,ne,{items:ge},le])=>{const{top:re,bottom:K}=TS(U,le,ne,ge);return[re,K]}),go(Kv)),n);const W=qt(!1);Vn(Jt(r,Ua(W),Jn(([U,ne])=>ne||U!==0)),W);const X=ou(Jt(er(R),Ko(({items:U})=>U.length>0),Ua(I,W),Ko(([{items:U},ne,ge])=>ge&&U[U.length-1].index===ne-1),Jn(([,U])=>U-1),go())),N=ou(Jt(er(R),Ko(({items:U})=>U.length>0&&U[0].index===0),wi(0),go())),V=ou(Jt(er(R),Ko(({items:U})=>U.length>0),Jn(({items:U})=>({startIndex:U[0].index,endIndex:U[U.length-1].index})),go(KL)));Vn(V,v.scrollSeekRangeChanged),Vn(Jt($,Ua(M,D,I,F),Jn(([U,ne,ge,le,re])=>{const K=VL(U),{align:ae,behavior:de,offset:xe}=K;let oe=K.index;oe==="LAST"&&(oe=le-1),oe=au(0,oe,Fg(le-1,oe));let me=Xv(ne,re,ge,oe);return ae==="end"?me=OS(me-ne.height+ge.height):ae==="center"&&(me=OS(me-ne.height/2+ge.height/2)),xe&&(me+=xe),{top:me,behavior:de}})),a);const H=Bl(Jt(R,Jn(U=>U.offsetBottom+U.bottom)),0);return Vn(Jt(S,Jn(U=>({width:U.visibleWidth,height:U.visibleHeight}))),M),{data:L,totalCount:I,viewportDimensions:M,itemDimensions:D,scrollTop:r,scrollHeight:A,overscan:e,scrollBy:s,scrollTo:a,scrollToIndex:$,smoothScrollTargetReached:u,windowViewportRect:S,windowScrollTo:C,useWindowScroll:P,customScrollParent:k,windowScrollContainerState:_,deviation:G,scrollContainerState:d,footerHeight:f,headerHeight:h,initialItemCount:O,gap:F,...v,gridState:R,totalListHeight:H,...m,startReached:N,endReached:X,rangeChanged:V,propsReady:b,...E}},Ji(XL,Ah,pk,QL,YL,JL,ck));function TS(e,t,n,r){const{height:o}=n;if(o===void 0||r.length===0)return{top:0,bottom:0};const s=Xv(e,t,n,r[0].index),a=Xv(e,t,n,r[r.length-1].index)+o;return{top:s,bottom:a}}function Xv(e,t,n,r){const o=vk(e.width,n.width,t.column),s=dp(r/o),a=s*n.height+au(0,s-1)*t.row;return a>0?a+t.row:a}function vk(e,t,n){return au(1,dp((e+n)/(dp(t)+n)))}const cF=Xs(()=>{const e=qt(f=>`Item ${f}`),t=qt({}),n=qt(null),r=qt("virtuoso-grid-item"),o=qt("virtuoso-grid-list"),s=qt(tF),a=qt("div"),u=qt(Mh),d=(f,h=null)=>Bl(Jt(t,Jn(m=>m[f]),go()),h);return{context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:r,listClassName:o,headerFooterTag:a,scrollerRef:u,FooterComponent:d("Footer"),HeaderComponent:d("Header"),ListComponent:d("List","div"),ItemComponent:d("Item","div"),ScrollerComponent:d("Scroller","div"),ScrollSeekPlaceholder:d("ScrollSeekPlaceholder","div")}}),uF=Xs(([e,t])=>({...e,...t}),Ji(lF,cF)),dF=z.memo(function(){const t=fr("gridState"),n=fr("listClassName"),r=fr("itemClassName"),o=fr("itemContent"),s=fr("computeItemKey"),a=fr("isSeeking"),u=bs("scrollHeight"),d=fr("ItemComponent"),f=fr("ListComponent"),h=fr("ScrollSeekPlaceholder"),m=fr("context"),v=bs("itemDimensions"),b=bs("gap"),w=fr("log"),S=Dh(C=>{const P=C.parentElement.parentElement.scrollHeight;u(P);const k=C.firstChild;k&&v(k.getBoundingClientRect()),b({row:DS("row-gap",getComputedStyle(C).rowGap,w),column:DS("column-gap",getComputedStyle(C).columnGap,w)})});return z.createElement(f,{ref:S,className:n,...Di(f,m),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-test-id":"virtuoso-item-list"},t.items.map(C=>{const P=s(C.index,C.data,m);return a?z.createElement(h,{key:P,...Di(h,m),index:C.index,height:t.itemHeight,width:t.itemWidth}):z.createElement(d,{...Di(d,m),className:r,"data-index":C.index,key:P},o(C.index,C.data,m))}))}),fF=z.memo(function(){const t=fr("HeaderComponent"),n=bs("headerHeight"),r=fr("headerFooterTag"),o=Dh(a=>n(ip(a,"height"))),s=fr("context");return t?z.createElement(r,{ref:o},z.createElement(t,Di(t,s))):null}),pF=z.memo(function(){const t=fr("FooterComponent"),n=bs("footerHeight"),r=fr("headerFooterTag"),o=Dh(a=>n(ip(a,"height"))),s=fr("context");return t?z.createElement(r,{ref:o},z.createElement(t,Di(t,s))):null}),hF=({children:e})=>{const t=z.useContext(mk),n=bs("itemDimensions"),r=bs("viewportDimensions"),o=Dh(s=>{r(s.getBoundingClientRect())});return z.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),z.createElement("div",{style:gk,ref:o},e)},mF=({children:e})=>{const t=z.useContext(mk),n=bs("windowViewportRect"),r=bs("itemDimensions"),o=fr("customScrollParent"),s=eF(n,o);return z.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),z.createElement("div",{ref:s,style:gk},e)},gF=z.memo(function({...t}){const n=fr("useWindowScroll"),r=fr("customScrollParent"),o=r||n?bF:yF,s=r||n?mF:hF;return z.createElement(o,{...t},z.createElement(s,null,z.createElement(fF,null),z.createElement(dF,null),z.createElement(pF,null)))}),{Component:vF,usePublisher:bs,useEmitterValue:fr,useEmitter:yk}=$L(uF,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},gF),yF=rF({usePublisher:bs,useEmitterValue:fr,useEmitter:yk}),bF=oF({usePublisher:bs,useEmitterValue:fr,useEmitter:yk});function DS(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,Y1.WARN),t==="normal"?0:parseInt(t??"0",10)}const xF=vF;var bk={exports:{}},xk={};const jo=T0(FO),Ac=T0(BO),SF=T0(HO);(function(e){var t,n,r=hl&&hl.__generator||function(Y,J){var ue,be,Se,Qe,pt={label:0,sent:function(){if(1&Se[0])throw Se[1];return Se[1]},trys:[],ops:[]};return Qe={next:zt(0),throw:zt(1),return:zt(2)},typeof Symbol=="function"&&(Qe[Symbol.iterator]=function(){return this}),Qe;function zt(lt){return function(He){return function(qe){if(ue)throw new TypeError("Generator is already executing.");for(;pt;)try{if(ue=1,be&&(Se=2&qe[0]?be.return:qe[0]?be.throw||((Se=be.return)&&Se.call(be),0):be.next)&&!(Se=Se.call(be,qe[1])).done)return Se;switch(be=0,Se&&(qe=[2&qe[0],Se.value]),qe[0]){case 0:case 1:Se=qe;break;case 4:return pt.label++,{value:qe[1],done:!1};case 5:pt.label++,be=qe[1],qe=[0];continue;case 7:qe=pt.ops.pop(),pt.trys.pop();continue;default:if(!((Se=(Se=pt.trys).length>0&&Se[Se.length-1])||qe[0]!==6&&qe[0]!==2)){pt=0;continue}if(qe[0]===3&&(!Se||qe[1]>Se[0]&&qe[1]<Se[3])){pt.label=qe[1];break}if(qe[0]===6&&pt.label<Se[1]){pt.label=Se[1],Se=qe;break}if(Se&&pt.label<Se[2]){pt.label=Se[2],pt.ops.push(qe);break}Se[2]&&pt.ops.pop(),pt.trys.pop();continue}qe=J.call(Y,pt)}catch(Ce){qe=[6,Ce],be=0}finally{ue=Se=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([lt,He])}}},o=hl&&hl.__spreadArray||function(Y,J){for(var ue=0,be=J.length,Se=Y.length;ue<be;ue++,Se++)Y[Se]=J[ue];return Y},s=Object.create,a=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=function(Y,J,ue){return J in Y?a(Y,J,{enumerable:!0,configurable:!0,writable:!0,value:ue}):Y[J]=ue},C=function(Y,J){for(var ue in J||(J={}))b.call(J,ue)&&S(Y,ue,J[ue]);if(m)for(var be=0,Se=m(J);be<Se.length;be++)w.call(J,ue=Se[be])&&S(Y,ue,J[ue]);return Y},P=function(Y,J){return u(Y,f(J))},k=function(Y){return a(Y,"__esModule",{value:!0})},_=function(Y,J){var ue={};for(var be in Y)b.call(Y,be)&&J.indexOf(be)<0&&(ue[be]=Y[be]);if(Y!=null&&m)for(var Se=0,Qe=m(Y);Se<Qe.length;Se++)J.indexOf(be=Qe[Se])<0&&w.call(Y,be)&&(ue[be]=Y[be]);return ue},E=function(Y){return function(J,ue,be){if(ue&&typeof ue=="object"||typeof ue=="function")for(var Se=function(zt){b.call(J,zt)||zt==="default"||a(J,zt,{get:function(){return ue[zt]},enumerable:!(be=d(ue,zt))||be.enumerable})},Qe=0,pt=h(ue);Qe<pt.length;Qe++)Se(pt[Qe]);return J}(k(a(Y!=null?s(v(Y)):{},"default",Y&&Y.__esModule&&"default"in Y?{get:function(){return Y.default},enumerable:!0}:{value:Y,enumerable:!0})),Y)},I=function(Y,J,ue){return new Promise(function(be,Se){var Qe=function(lt){try{zt(ue.next(lt))}catch(He){Se(He)}},pt=function(lt){try{zt(ue.throw(lt))}catch(He){Se(He)}},zt=function(lt){return lt.done?be(lt.value):Promise.resolve(lt.value).then(Qe,pt)};zt((ue=ue.apply(Y,J)).next())})};k(e),function(Y,J){for(var ue in J)a(Y,ue,{get:J[ue],enumerable:!0})}(e,{QueryStatus:function(){return t},buildCreateApi:function(){return it},copyWithStructuralSharing:function(){return M},coreModule:function(){return ka},createApi:function(){return ls},defaultSerializeQueryArgs:function(){return qn},fakeBaseQuery:function(){return ut},fetchBaseQuery:function(){return F},retry:function(){return V},setupListeners:function(){return K},skipSelector:function(){return yt},skipToken:function(){return Xe}}),(n=t||(t={})).uninitialized="uninitialized",n.pending="pending",n.fulfilled="fulfilled",n.rejected="rejected";var O=function(Y){return[].concat.apply([],Y)},R=E(jo).isPlainObject;function M(Y,J){if(Y===J||!(R(Y)&&R(J)||Array.isArray(Y)&&Array.isArray(J)))return J;for(var ue=Object.keys(J),be=Object.keys(Y),Se=ue.length===be.length,Qe=Array.isArray(J)?[]:{},pt=0,zt=ue;pt<zt.length;pt++){var lt=zt[pt];Qe[lt]=M(Y[lt],J[lt]),Se&&(Se=Y[lt]===Qe[lt])}return Se?Y:Qe}var D=E(jo),$=function(){for(var Y=[],J=0;J<arguments.length;J++)Y[J]=arguments[J];return fetch.apply(void 0,Y)},A=function(Y){return Y.status>=200&&Y.status<=299},G=function(Y){return/ion\/(vnd\.api\+)?json/.test(Y.get("content-type")||"")};function L(Y){if(!(0,D.isPlainObject)(Y))return Y;for(var J=C({},Y),ue=0,be=Object.entries(J);ue<be.length;ue++){var Se=be[ue];Se[1]===void 0&&delete J[Se[0]]}return J}function F(Y){var J=this;Y===void 0&&(Y={});var ue=Y.baseUrl,be=Y.prepareHeaders,Se=be===void 0?function(Ft){return Ft}:be,Qe=Y.fetchFn,pt=Qe===void 0?$:Qe,zt=Y.paramsSerializer,lt=Y.isJsonContentType,He=lt===void 0?G:lt,qe=Y.jsonContentType,Ce=qe===void 0?"application/json":qe,We=Y.jsonReplacer,St=Y.timeout,Ct=Y.responseHandler,Ot=Y.validateStatus,Lt=_(Y,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&pt===$&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(Ft,je){return I(J,null,function(){var ht,Mt,Tt,$t,dn,Vt,Qt,Cn,Er,Yn,wt,xn,_n,Kn,cr,Rn,Mn,tn,mn,Sn,fn,pn,Ve,Pt,gt,tt,mt,Dt,dt,Je,Ee,_e,Te,ze,Ze,jt;return r(this,function(kt){switch(kt.label){case 0:return ht=je.signal,Mt=je.getState,Tt=je.extra,$t=je.endpoint,dn=je.forced,Vt=je.type,Er=(Cn=typeof Ft=="string"?{url:Ft}:Ft).url,wt=(Yn=Cn.headers)===void 0?new Headers(Lt.headers):Yn,_n=(xn=Cn.params)===void 0?void 0:xn,cr=(Kn=Cn.responseHandler)===void 0?Ct??"json":Kn,Mn=(Rn=Cn.validateStatus)===void 0?Ot??A:Rn,mn=(tn=Cn.timeout)===void 0?St:tn,Sn=_(Cn,["url","headers","params","responseHandler","validateStatus","timeout"]),fn=C(P(C({},Lt),{signal:ht}),Sn),wt=new Headers(L(wt)),pn=fn,[4,Se(wt,{getState:Mt,extra:Tt,endpoint:$t,forced:dn,type:Vt})];case 1:pn.headers=kt.sent()||wt,Ve=function($e){return typeof $e=="object"&&((0,D.isPlainObject)($e)||Array.isArray($e)||typeof $e.toJSON=="function")},!fn.headers.has("content-type")&&Ve(fn.body)&&fn.headers.set("content-type",Ce),Ve(fn.body)&&He(fn.headers)&&(fn.body=JSON.stringify(fn.body,We)),_n&&(Pt=~Er.indexOf("?")?"&":"?",gt=zt?zt(_n):new URLSearchParams(L(_n)),Er+=Pt+gt),Er=function($e,Gt){if(!$e)return Gt;if(!Gt)return $e;if(function(rn){return new RegExp("(^|:)//").test(rn)}(Gt))return Gt;var hn=$e.endsWith("/")||!Gt.startsWith("?")?"/":"";return $e=function(rn){return rn.replace(/\/$/,"")}($e),""+$e+hn+function(rn){return rn.replace(/^\//,"")}(Gt)}(ue,Er),tt=new Request(Er,fn),mt=tt.clone(),Qt={request:mt},dt=!1,Je=mn&&setTimeout(function(){dt=!0,je.abort()},mn),kt.label=2;case 2:return kt.trys.push([2,4,5,6]),[4,pt(tt)];case 3:return Dt=kt.sent(),[3,6];case 4:return Ee=kt.sent(),[2,{error:{status:dt?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Ee)},meta:Qt}];case 5:return Je&&clearTimeout(Je),[7];case 6:_e=Dt.clone(),Qt.response=_e,ze="",kt.label=7;case 7:return kt.trys.push([7,9,,10]),[4,Promise.all([Ut(Dt,cr).then(function($e){return Te=$e},function($e){return Ze=$e}),_e.text().then(function($e){return ze=$e},function(){})])];case 8:if(kt.sent(),Ze)throw Ze;return[3,10];case 9:return jt=kt.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:Dt.status,data:ze,error:String(jt)},meta:Qt}];case 10:return[2,Mn(Dt,Te)?{data:Te,meta:Qt}:{error:{status:Dt.status,data:Te},meta:Qt}]}})})};function Ut(Ft,je){return I(this,null,function(){var ht;return r(this,function(Mt){switch(Mt.label){case 0:return typeof je=="function"?[2,je(Ft)]:(je==="content-type"&&(je=He(Ft.headers)?"json":"text"),je!=="json"?[3,2]:[4,Ft.text()]);case 1:return[2,(ht=Mt.sent()).length?JSON.parse(ht):null];case 2:return[2,Ft.text()]}})})}}var W=function(Y,J){J===void 0&&(J=void 0),this.value=Y,this.meta=J};function X(Y,J){return Y===void 0&&(Y=0),J===void 0&&(J=5),I(this,null,function(){var ue,be;return r(this,function(Se){switch(Se.label){case 0:return ue=Math.min(Y,J),be=~~((Math.random()+.4)*(300<<ue)),[4,new Promise(function(Qe){return setTimeout(function(pt){return Qe(pt)},be)})];case 1:return Se.sent(),[2]}})})}var N={},V=Object.assign(function(Y,J){return function(ue,be,Se){return I(void 0,null,function(){var Qe,pt,zt,lt,He,qe,Ce;return r(this,function(We){switch(We.label){case 0:Qe=[5,(J||N).maxRetries,(Se||N).maxRetries].filter(function(St){return St!==void 0}),pt=Qe.slice(-1)[0],zt=function(St,Ct,Ot){return Ot.attempt<=pt},lt=C(C({maxRetries:pt,backoff:X,retryCondition:zt},J),Se),He=0,We.label=1;case 1:We.label=2;case 2:return We.trys.push([2,4,,6]),[4,Y(ue,be,Se)];case 3:if((qe=We.sent()).error)throw new W(qe);return[2,qe];case 4:if(Ce=We.sent(),He++,Ce.throwImmediately){if(Ce instanceof W)return[2,Ce.value];throw Ce}return Ce instanceof W&&!lt.retryCondition(Ce.value.error,ue,{attempt:He,baseQueryApi:be,extraOptions:Se})?[2,Ce.value]:[4,lt.backoff(He,lt.maxRetries)];case 5:return We.sent(),[3,6];case 6:return[3,1];case 7:return[2]}})})}},{fail:function(Y){throw Object.assign(new W({error:Y}),{throwImmediately:!0})}}),H=E(jo),U=(0,H.createAction)("__rtkq/focused"),ne=(0,H.createAction)("__rtkq/unfocused"),ge=(0,H.createAction)("__rtkq/online"),le=(0,H.createAction)("__rtkq/offline"),re=!1;function K(Y,J){return J?J(Y,{onFocus:U,onFocusLost:ne,onOffline:le,onOnline:ge}):(ue=function(){return Y(U())},be=function(){return Y(ge())},Se=function(){return Y(le())},Qe=function(){window.document.visibilityState==="visible"?ue():Y(ne())},re||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",Qe,!1),window.addEventListener("focus",ue,!1),window.addEventListener("online",be,!1),window.addEventListener("offline",Se,!1),re=!0),function(){window.removeEventListener("focus",ue),window.removeEventListener("visibilitychange",Qe),window.removeEventListener("online",be),window.removeEventListener("offline",Se),re=!1});var ue,be,Se,Qe}var ae,de,xe=E(jo);function oe(Y){return Y.type===ae.query}function me(Y,J,ue,be,Se,Qe){return typeof Y=="function"?Y(J,ue,be,Se).map(fe).map(Qe):Array.isArray(Y)?Y.map(fe).map(Qe):[]}function fe(Y){return typeof Y=="string"?{type:Y}:Y}(de=ae||(ae={})).query="query",de.mutation="mutation";var ke=E(jo);function Ae(Y){return Y!=null}var ve=Symbol("forceQueryFn"),Ie=function(Y){return typeof Y[ve]=="function"},st=E(jo),Fe=E(Ac),Ke=E(jo);function _t(Y){return Y}function xt(Y,J,ue,be){return me(ue[Y.meta.arg.endpointName][J],(0,st.isFulfilled)(Y)?Y.payload:void 0,(0,st.isRejectedWithValue)(Y)?Y.payload:void 0,Y.meta.arg.originalArgs,"baseQueryMeta"in Y.meta?Y.meta.baseQueryMeta:void 0,be)}var Fn=E(Ac),Q=E(Ac);function we(Y,J,ue){var be=Y[J];be&&ue(be)}function te(Y){var J;return(J="arg"in Y?Y.arg.fixedCacheKey:Y.fixedCacheKey)!=null?J:Y.requestId}function pe(Y,J,ue){var be=Y[te(J)];be&&ue(be)}var Ne={},Xe=Symbol.for("RTKQ/skipToken"),yt=Xe,Xt={status:t.uninitialized},an=(0,xe.createNextState)(Xt,function(){}),Pn=(0,xe.createNextState)(Xt,function(){}),gr=E(jo),ln=WeakMap?new WeakMap:void 0,qn=function(Y){var J=Y.endpointName,ue=Y.queryArgs,be="",Se=ln==null?void 0:ln.get(ue);if(typeof Se=="string")be=Se;else{var Qe=JSON.stringify(ue,function(pt,zt){return(0,gr.isPlainObject)(zt)?Object.keys(zt).sort().reduce(function(lt,He){return lt[He]=zt[He],lt},{}):zt});(0,gr.isPlainObject)(ue)&&(ln==null||ln.set(ue,Qe)),be=Qe}return J+"("+be+")"},Oe=E(jo),et=E(SF);function it(){for(var Y=[],J=0;J<arguments.length;J++)Y[J]=arguments[J];return function(ue){var be=(0,et.defaultMemoize)(function(lt){var He,qe;return(qe=ue.extractRehydrationInfo)==null?void 0:qe.call(ue,lt,{reducerPath:(He=ue.reducerPath)!=null?He:"api"})}),Se=P(C({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},ue),{extractRehydrationInfo:be,serializeQueryArgs:function(lt){var He=qn;if("serializeQueryArgs"in lt.endpointDefinition){var qe=lt.endpointDefinition.serializeQueryArgs;He=function(Ce){var We=qe(Ce);return typeof We=="string"?We:qn(P(C({},Ce),{queryArgs:We}))}}else ue.serializeQueryArgs&&(He=ue.serializeQueryArgs);return He(lt)},tagTypes:o([],ue.tagTypes||[])}),Qe={endpointDefinitions:{},batch:function(lt){lt()},apiUid:(0,Oe.nanoid)(),extractRehydrationInfo:be,hasRehydrationInfo:(0,et.defaultMemoize)(function(lt){return be(lt)!=null})},pt={injectEndpoints:function(lt){for(var He=lt.endpoints({query:function(Ut){return P(C({},Ut),{type:ae.query})},mutation:function(Ut){return P(C({},Ut),{type:ae.mutation})}}),qe=0,Ce=Object.entries(He);qe<Ce.length;qe++){var We=Ce[qe],St=We[0],Ct=We[1];if(lt.overrideExisting||!(St in Qe.endpointDefinitions)){Qe.endpointDefinitions[St]=Ct;for(var Ot=0,Lt=zt;Ot<Lt.length;Ot++)Lt[Ot].injectEndpoint(St,Ct)}}return pt},enhanceEndpoints:function(lt){var He=lt.addTagTypes,qe=lt.endpoints;if(He)for(var Ce=0,We=He;Ce<We.length;Ce++){var St=We[Ce];Se.tagTypes.includes(St)||Se.tagTypes.push(St)}if(qe)for(var Ct=0,Ot=Object.entries(qe);Ct<Ot.length;Ct++){var Lt=Ot[Ct],Ut=Lt[0],Ft=Lt[1];typeof Ft=="function"?Ft(Qe.endpointDefinitions[Ut]):Object.assign(Qe.endpointDefinitions[Ut]||{},Ft)}return pt}},zt=Y.map(function(lt){return lt.init(pt,Se,Qe)});return pt.injectEndpoints({endpoints:ue.endpoints})}}function ut(){return function(){throw new Error("When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.")}}var Nt,vr=E(jo),cn=function(Y){var J=Y.reducerPath,ue=Y.api,be=Y.context,Se=Y.internalState,Qe=ue.internalActions,pt=Qe.removeQueryResult,zt=Qe.unsubscribeQueryResult;function lt(Ce){var We=Se.currentSubscriptions[Ce];return!!We&&!function(St){for(var Ct in St)return!1;return!0}(We)}var He={};function qe(Ce,We,St,Ct){var Ot,Lt=be.endpointDefinitions[We],Ut=(Ot=Lt==null?void 0:Lt.keepUnusedDataFor)!=null?Ot:Ct.keepUnusedDataFor;if(Ut!==1/0){var Ft=Math.max(0,Math.min(Ut,2147482647e-3));if(!lt(Ce)){var je=He[Ce];je&&clearTimeout(je),He[Ce]=setTimeout(function(){lt(Ce)||St.dispatch(pt({queryCacheKey:Ce})),delete He[Ce]},1e3*Ft)}}}return function(Ce,We,St){var Ct;if(zt.match(Ce)){var Ot=We.getState()[J];qe(dn=Ce.payload.queryCacheKey,(Ct=Ot.queries[dn])==null?void 0:Ct.endpointName,We,Ot.config)}if(ue.util.resetApiState.match(Ce))for(var Lt=0,Ut=Object.entries(He);Lt<Ut.length;Lt++){var Ft=Ut[Lt],je=Ft[0],ht=Ft[1];ht&&clearTimeout(ht),delete He[je]}if(be.hasRehydrationInfo(Ce)){Ot=We.getState()[J];for(var Mt=be.extractRehydrationInfo(Ce).queries,Tt=0,$t=Object.entries(Mt);Tt<$t.length;Tt++){var dn,Vt=$t[Tt],Qt=Vt[1];qe(dn=Vt[0],Qt==null?void 0:Qt.endpointName,We,Ot.config)}}}},bn=E(jo),Sr=function(Y){var J=Y.reducerPath,ue=Y.context,be=Y.context.endpointDefinitions,Se=Y.mutationThunk,Qe=Y.api,pt=Y.assertTagType,zt=Y.refetchQuery,lt=Qe.internalActions.removeQueryResult,He=(0,bn.isAnyOf)((0,bn.isFulfilled)(Se),(0,bn.isRejectedWithValue)(Se));function qe(Ce,We){var St=We.getState(),Ct=St[J],Ot=Qe.util.selectInvalidatedBy(St,Ce);ue.batch(function(){for(var Lt,Ut=0,Ft=Array.from(Ot.values());Ut<Ft.length;Ut++){var je=Ft[Ut].queryCacheKey,ht=Ct.queries[je],Mt=(Lt=Ct.subscriptions[je])!=null?Lt:{};ht&&(Object.keys(Mt).length===0?We.dispatch(lt({queryCacheKey:je})):ht.status!==t.uninitialized&&We.dispatch(zt(ht,je)))}})}return function(Ce,We){He(Ce)&&qe(xt(Ce,"invalidatesTags",be,pt),We),Qe.util.invalidateTags.match(Ce)&&qe(me(Ce.payload,void 0,void 0,void 0,void 0,pt),We)}},kn=function(Y){var J=Y.reducerPath,ue=Y.queryThunk,be=Y.api,Se=Y.refetchQuery,Qe=Y.internalState,pt={};function zt(Ce,We){var St=Ce.queryCacheKey,Ct=We.getState()[J].queries[St];if(Ct&&Ct.status!==t.uninitialized){var Ot=qe(Qe.currentSubscriptions[St]);if(Number.isFinite(Ot)){var Lt=pt[St];Lt!=null&&Lt.timeout&&(clearTimeout(Lt.timeout),Lt.timeout=void 0);var Ut=Date.now()+Ot,Ft=pt[St]={nextPollTimestamp:Ut,pollingInterval:Ot,timeout:setTimeout(function(){Ft.timeout=void 0,We.dispatch(Se(Ct,St))},Ot)}}}}function lt(Ce,We){var St=Ce.queryCacheKey,Ct=We.getState()[J].queries[St];if(Ct&&Ct.status!==t.uninitialized){var Ot=qe(Qe.currentSubscriptions[St]);if(Number.isFinite(Ot)){var Lt=pt[St],Ut=Date.now()+Ot;(!Lt||Ut<Lt.nextPollTimestamp)&&zt({queryCacheKey:St},We)}else He(St)}}function He(Ce){var We=pt[Ce];We!=null&&We.timeout&&clearTimeout(We.timeout),delete pt[Ce]}function qe(Ce){Ce===void 0&&(Ce={});var We=Number.POSITIVE_INFINITY;for(var St in Ce)Ce[St].pollingInterval&&(We=Math.min(Ce[St].pollingInterval,We));return We}return function(Ce,We){(be.internalActions.updateSubscriptionOptions.match(Ce)||be.internalActions.unsubscribeQueryResult.match(Ce))&&lt(Ce.payload,We),(ue.pending.match(Ce)||ue.rejected.match(Ce)&&Ce.meta.condition)&&lt(Ce.meta.arg,We),(ue.fulfilled.match(Ce)||ue.rejected.match(Ce)&&!Ce.meta.condition)&&zt(Ce.meta.arg,We),be.util.resetApiState.match(Ce)&&function(){for(var St=0,Ct=Object.keys(pt);St<Ct.length;St++)He(Ct[St])}()}},jn=E(jo),as=new Error("Promise never resolved before cacheEntryRemoved."),un=function(Y){var J=Y.api,ue=Y.reducerPath,be=Y.context,Se=Y.queryThunk,Qe=Y.mutationThunk,pt=(0,jn.isAsyncThunkAction)(Se),zt=(0,jn.isAsyncThunkAction)(Qe),lt=(0,jn.isFulfilled)(Se,Qe),He={};function qe(Ce,We,St,Ct,Ot){var Lt=be.endpointDefinitions[Ce],Ut=Lt==null?void 0:Lt.onCacheEntryAdded;if(Ut){var Ft={},je=new Promise(function(Vt){Ft.cacheEntryRemoved=Vt}),ht=Promise.race([new Promise(function(Vt){Ft.valueResolved=Vt}),je.then(function(){throw as})]);ht.catch(function(){}),He[St]=Ft;var Mt=J.endpoints[Ce].select(Lt.type===ae.query?We:St),Tt=Ct.dispatch(function(Vt,Qt,Cn){return Cn}),$t=P(C({},Ct),{getCacheEntry:function(){return Mt(Ct.getState())},requestId:Ot,extra:Tt,updateCachedData:Lt.type===ae.query?function(Vt){return Ct.dispatch(J.util.updateQueryData(Ce,We,Vt))}:void 0,cacheDataLoaded:ht,cacheEntryRemoved:je}),dn=Ut(We,$t);Promise.resolve(dn).catch(function(Vt){if(Vt!==as)throw Vt})}}return function(Ce,We,St){var Ct=function(Mt){return pt(Mt)?Mt.meta.arg.queryCacheKey:zt(Mt)?Mt.meta.requestId:J.internalActions.removeQueryResult.match(Mt)?Mt.payload.queryCacheKey:J.internalActions.removeMutationResult.match(Mt)?te(Mt.payload):""}(Ce);if(Se.pending.match(Ce)){var Ot=St[ue].queries[Ct],Lt=We.getState()[ue].queries[Ct];!Ot&&Lt&&qe(Ce.meta.arg.endpointName,Ce.meta.arg.originalArgs,Ct,We,Ce.meta.requestId)}else if(Qe.pending.match(Ce))(Lt=We.getState()[ue].mutations[Ct])&&qe(Ce.meta.arg.endpointName,Ce.meta.arg.originalArgs,Ct,We,Ce.meta.requestId);else if(lt(Ce))(ht=He[Ct])!=null&&ht.valueResolved&&(ht.valueResolved({data:Ce.payload,meta:Ce.meta.baseQueryMeta}),delete ht.valueResolved);else if(J.internalActions.removeQueryResult.match(Ce)||J.internalActions.removeMutationResult.match(Ce))(ht=He[Ct])&&(delete He[Ct],ht.cacheEntryRemoved());else if(J.util.resetApiState.match(Ce))for(var Ut=0,Ft=Object.entries(He);Ut<Ft.length;Ut++){var je=Ft[Ut],ht=je[1];delete He[je[0]],ht.cacheEntryRemoved()}}},Ao=E(jo),No=function(Y){var J=Y.api,ue=Y.context,be=Y.queryThunk,Se=Y.mutationThunk,Qe=(0,Ao.isPending)(be,Se),pt=(0,Ao.isRejected)(be,Se),zt=(0,Ao.isFulfilled)(be,Se),lt={};return function(He,qe){var Ce,We,St;if(Qe(He)){var Ct=He.meta,Ot=Ct.requestId,Lt=Ct.arg,Ut=Lt.endpointName,Ft=Lt.originalArgs,je=ue.endpointDefinitions[Ut],ht=je==null?void 0:je.onQueryStarted;if(ht){var Mt={},Tt=new Promise(function(Yn,wt){Mt.resolve=Yn,Mt.reject=wt});Tt.catch(function(){}),lt[Ot]=Mt;var $t=J.endpoints[Ut].select(je.type===ae.query?Ft:Ot),dn=qe.dispatch(function(Yn,wt,xn){return xn}),Vt=P(C({},qe),{getCacheEntry:function(){return $t(qe.getState())},requestId:Ot,extra:dn,updateCachedData:je.type===ae.query?function(Yn){return qe.dispatch(J.util.updateQueryData(Ut,Ft,Yn))}:void 0,queryFulfilled:Tt});ht(Ft,Vt)}}else if(zt(He)){var Qt=He.meta,Cn=Qt.baseQueryMeta;(Ce=lt[Ot=Qt.requestId])==null||Ce.resolve({data:He.payload,meta:Cn}),delete lt[Ot]}else if(pt(He)){var Er=He.meta;Cn=Er.baseQueryMeta,(St=lt[Ot=Er.requestId])==null||St.reject({error:(We=He.payload)!=null?We:He.error,isUnhandledError:!Er.rejectedWithValue,meta:Cn}),delete lt[Ot]}}},$n=function(Y){var J=Y.api,ue=Y.context.apiUid;return function(be,Se){J.util.resetApiState.match(be)&&Se.dispatch(J.internalActions.middlewareRegistered(ue))}},is=E(Ac),Pa=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof hl<"u"?hl:globalThis):function(Y){return(Nt||(Nt=Promise.resolve())).then(Y).catch(function(J){return setTimeout(function(){throw J},0)})};function jr(Y){for(var J=[],ue=1;ue<arguments.length;ue++)J[ue-1]=arguments[ue];Object.assign.apply(Object,o([Y],J))}var zo=E(Ac),Qs=Symbol(),ka=function(){return{name:Qs,init:function(Y,J,ue){var be=J.baseQuery,Se=J.reducerPath,Qe=J.serializeQueryArgs,pt=J.keepUnusedDataFor,zt=J.refetchOnMountOrArgChange,lt=J.refetchOnFocus,He=J.refetchOnReconnect;(0,zo.enablePatches)();var qe=function(wt){return wt};Object.assign(Y,{reducerPath:Se,endpoints:{},internalActions:{onOnline:ge,onOffline:le,onFocus:U,onFocusLost:ne},util:{}});var Ce=function(wt){var xn=this,_n=wt.reducerPath,Kn=wt.baseQuery,cr=wt.context.endpointDefinitions,Rn=wt.serializeQueryArgs,Mn=wt.api,tn=function(Ve,Pt){return I(xn,[Ve,Pt],function(gt,tt){var mt,Dt,dt,Je,Ee,_e,Te,ze,Ze,jt,kt,$e,Gt,hn=tt.signal,rn=tt.abort,ur=tt.rejectWithValue,Bn=tt.fulfillWithValue,sn=tt.dispatch,Ln=tt.getState,Zr=tt.extra;return r(this,function(nn){switch(nn.label){case 0:mt=cr[gt.endpointName],nn.label=1;case 1:return nn.trys.push([1,8,,13]),Dt=_t,dt=void 0,Je={signal:hn,abort:rn,dispatch:sn,getState:Ln,extra:Zr,endpoint:gt.endpointName,type:gt.type,forced:gt.type==="query"?mn(gt,Ln()):void 0},(Ee=gt.type==="query"?gt[ve]:void 0)?(dt=Ee(),[3,6]):[3,2];case 2:return mt.query?[4,Kn(mt.query(gt.originalArgs),Je,mt.extraOptions)]:[3,4];case 3:return dt=nn.sent(),mt.transformResponse&&(Dt=mt.transformResponse),[3,6];case 4:return[4,mt.queryFn(gt.originalArgs,Je,mt.extraOptions,function(Tn){return Kn(Tn,Je,mt.extraOptions)})];case 5:dt=nn.sent(),nn.label=6;case 6:if(dt.error)throw new W(dt.error,dt.meta);return _e=Bn,[4,Dt(dt.data,dt.meta,gt.originalArgs)];case 7:return[2,_e.apply(void 0,[nn.sent(),($e={fulfilledTimeStamp:Date.now(),baseQueryMeta:dt.meta},$e[Ke.SHOULD_AUTOBATCH]=!0,$e)])];case 8:if(Te=nn.sent(),!((ze=Te)instanceof W))return[3,12];Ze=_t,mt.query&&mt.transformErrorResponse&&(Ze=mt.transformErrorResponse),nn.label=9;case 9:return nn.trys.push([9,11,,12]),jt=ur,[4,Ze(ze.value,ze.meta,gt.originalArgs)];case 10:return[2,jt.apply(void 0,[nn.sent(),(Gt={baseQueryMeta:ze.meta},Gt[Ke.SHOULD_AUTOBATCH]=!0,Gt)])];case 11:return kt=nn.sent(),ze=kt,[3,12];case 12:throw console.error(ze),ze;case 13:return[2]}})})};function mn(Ve,Pt){var gt,tt,mt,Dt,dt=(tt=(gt=Pt[_n])==null?void 0:gt.queries)==null?void 0:tt[Ve.queryCacheKey],Je=(mt=Pt[_n])==null?void 0:mt.config.refetchOnMountOrArgChange,Ee=dt==null?void 0:dt.fulfilledTimeStamp,_e=(Dt=Ve.forceRefetch)!=null?Dt:Ve.subscribe&&Je;return!!_e&&(_e===!0||(Number(new Date)-Number(Ee))/1e3>=_e)}var Sn=(0,Ke.createAsyncThunk)(_n+"/executeQuery",tn,{getPendingMeta:function(){var Ve;return(Ve={startedTimeStamp:Date.now()})[Ke.SHOULD_AUTOBATCH]=!0,Ve},condition:function(Ve,Pt){var gt,tt,mt,Dt=(0,Pt.getState)(),dt=(tt=(gt=Dt[_n])==null?void 0:gt.queries)==null?void 0:tt[Ve.queryCacheKey],Je=dt==null?void 0:dt.fulfilledTimeStamp,Ee=Ve.originalArgs,_e=dt==null?void 0:dt.originalArgs,Te=cr[Ve.endpointName];return!(!Ie(Ve)&&((dt==null?void 0:dt.status)==="pending"||!mn(Ve,Dt)&&(!oe(Te)||!((mt=Te==null?void 0:Te.forceRefetch)!=null&&mt.call(Te,{currentArg:Ee,previousArg:_e,endpointState:dt,state:Dt})))&&Je))},dispatchConditionRejection:!0}),fn=(0,Ke.createAsyncThunk)(_n+"/executeMutation",tn,{getPendingMeta:function(){var Ve;return(Ve={startedTimeStamp:Date.now()})[Ke.SHOULD_AUTOBATCH]=!0,Ve}});function pn(Ve){return function(Pt){var gt,tt;return((tt=(gt=Pt==null?void 0:Pt.meta)==null?void 0:gt.arg)==null?void 0:tt.endpointName)===Ve}}return{queryThunk:Sn,mutationThunk:fn,prefetch:function(Ve,Pt,gt){return function(tt,mt){var Dt=function(Te){return"force"in Te}(gt)&&gt.force,dt=function(Te){return"ifOlderThan"in Te}(gt)&&gt.ifOlderThan,Je=function(Te){return Te===void 0&&(Te=!0),Mn.endpoints[Ve].initiate(Pt,{forceRefetch:Te})},Ee=Mn.endpoints[Ve].select(Pt)(mt());if(Dt)tt(Je());else if(dt){var _e=Ee==null?void 0:Ee.fulfilledTimeStamp;if(!_e)return void tt(Je());(Number(new Date)-Number(new Date(_e)))/1e3>=dt&&tt(Je())}else tt(Je(!1))}},updateQueryData:function(Ve,Pt,gt){return function(tt,mt){var Dt,dt,Je=Mn.endpoints[Ve].select(Pt)(mt()),Ee={patches:[],inversePatches:[],undo:function(){return tt(Mn.util.patchQueryData(Ve,Pt,Ee.inversePatches))}};if(Je.status===t.uninitialized)return Ee;if("data"in Je)if((0,Fe.isDraftable)(Je.data)){var _e=(0,Fe.produceWithPatches)(Je.data,gt),Te=_e[2];(Dt=Ee.patches).push.apply(Dt,_e[1]),(dt=Ee.inversePatches).push.apply(dt,Te)}else{var ze=gt(Je.data);Ee.patches.push({op:"replace",path:[],value:ze}),Ee.inversePatches.push({op:"replace",path:[],value:Je.data})}return tt(Mn.util.patchQueryData(Ve,Pt,Ee.patches)),Ee}},upsertQueryData:function(Ve,Pt,gt){return function(tt){var mt;return tt(Mn.endpoints[Ve].initiate(Pt,((mt={subscribe:!1,forceRefetch:!0})[ve]=function(){return{data:gt}},mt)))}},patchQueryData:function(Ve,Pt,gt){return function(tt){tt(Mn.internalActions.queryResultPatched({queryCacheKey:Rn({queryArgs:Pt,endpointDefinition:cr[Ve],endpointName:Ve}),patches:gt}))}},buildMatchThunkActions:function(Ve,Pt){return{matchPending:(0,st.isAllOf)((0,st.isPending)(Ve),pn(Pt)),matchFulfilled:(0,st.isAllOf)((0,st.isFulfilled)(Ve),pn(Pt)),matchRejected:(0,st.isAllOf)((0,st.isRejected)(Ve),pn(Pt))}}}}({baseQuery:be,reducerPath:Se,context:ue,api:Y,serializeQueryArgs:Qe}),We=Ce.queryThunk,St=Ce.mutationThunk,Ct=Ce.patchQueryData,Ot=Ce.updateQueryData,Lt=Ce.upsertQueryData,Ut=Ce.prefetch,Ft=Ce.buildMatchThunkActions,je=function(wt){var xn=wt.reducerPath,_n=wt.queryThunk,Kn=wt.mutationThunk,cr=wt.context,Rn=cr.endpointDefinitions,Mn=cr.apiUid,tn=cr.extractRehydrationInfo,mn=cr.hasRehydrationInfo,Sn=wt.assertTagType,fn=wt.config,pn=(0,ke.createAction)(xn+"/resetApiState"),Ve=(0,ke.createSlice)({name:xn+"/queries",initialState:Ne,reducers:{removeQueryResult:{reducer:function(Je,Ee){delete Je[Ee.payload.queryCacheKey]},prepare:(0,ke.prepareAutoBatched)()},queryResultPatched:function(Je,Ee){var _e=Ee.payload,Te=_e.patches;we(Je,_e.queryCacheKey,function(ze){ze.data=(0,Q.applyPatches)(ze.data,Te.concat())})}},extraReducers:function(Je){Je.addCase(_n.pending,function(Ee,_e){var Te,ze=_e.meta,Ze=_e.meta.arg,jt=Ie(Ze);(Ze.subscribe||jt)&&(Ee[Te=Ze.queryCacheKey]!=null||(Ee[Te]={status:t.uninitialized,endpointName:Ze.endpointName})),we(Ee,Ze.queryCacheKey,function(kt){kt.status=t.pending,kt.requestId=jt&&kt.requestId?kt.requestId:ze.requestId,Ze.originalArgs!==void 0&&(kt.originalArgs=Ze.originalArgs),kt.startedTimeStamp=ze.startedTimeStamp})}).addCase(_n.fulfilled,function(Ee,_e){var Te=_e.meta,ze=_e.payload;we(Ee,Te.arg.queryCacheKey,function(Ze){var jt;if(Ze.requestId===Te.requestId||Ie(Te.arg)){var kt=Rn[Te.arg.endpointName].merge;if(Ze.status=t.fulfilled,kt)if(Ze.data!==void 0){var $e=Te.fulfilledTimeStamp,Gt=Te.arg,hn=Te.baseQueryMeta,rn=Te.requestId,ur=(0,ke.createNextState)(Ze.data,function(Bn){return kt(Bn,ze,{arg:Gt.originalArgs,baseQueryMeta:hn,fulfilledTimeStamp:$e,requestId:rn})});Ze.data=ur}else Ze.data=ze;else Ze.data=(jt=Rn[Te.arg.endpointName].structuralSharing)==null||jt?M((0,Fn.isDraft)(Ze.data)?(0,Q.original)(Ze.data):Ze.data,ze):ze;delete Ze.error,Ze.fulfilledTimeStamp=Te.fulfilledTimeStamp}})}).addCase(_n.rejected,function(Ee,_e){var Te=_e.meta,ze=Te.condition,Ze=Te.requestId,jt=_e.error,kt=_e.payload;we(Ee,Te.arg.queryCacheKey,function($e){if(!ze){if($e.requestId!==Ze)return;$e.status=t.rejected,$e.error=kt??jt}})}).addMatcher(mn,function(Ee,_e){for(var Te=tn(_e).queries,ze=0,Ze=Object.entries(Te);ze<Ze.length;ze++){var jt=Ze[ze],kt=jt[1];(kt==null?void 0:kt.status)!==t.fulfilled&&(kt==null?void 0:kt.status)!==t.rejected||(Ee[jt[0]]=kt)}})}}),Pt=(0,ke.createSlice)({name:xn+"/mutations",initialState:Ne,reducers:{removeMutationResult:{reducer:function(Je,Ee){var _e=te(Ee.payload);_e in Je&&delete Je[_e]},prepare:(0,ke.prepareAutoBatched)()}},extraReducers:function(Je){Je.addCase(Kn.pending,function(Ee,_e){var Te=_e.meta,ze=Te.requestId,Ze=Te.arg,jt=Te.startedTimeStamp;Ze.track&&(Ee[te(_e.meta)]={requestId:ze,status:t.pending,endpointName:Ze.endpointName,startedTimeStamp:jt})}).addCase(Kn.fulfilled,function(Ee,_e){var Te=_e.payload,ze=_e.meta;ze.arg.track&&pe(Ee,ze,function(Ze){Ze.requestId===ze.requestId&&(Ze.status=t.fulfilled,Ze.data=Te,Ze.fulfilledTimeStamp=ze.fulfilledTimeStamp)})}).addCase(Kn.rejected,function(Ee,_e){var Te=_e.payload,ze=_e.error,Ze=_e.meta;Ze.arg.track&&pe(Ee,Ze,function(jt){jt.requestId===Ze.requestId&&(jt.status=t.rejected,jt.error=Te??ze)})}).addMatcher(mn,function(Ee,_e){for(var Te=tn(_e).mutations,ze=0,Ze=Object.entries(Te);ze<Ze.length;ze++){var jt=Ze[ze],kt=jt[0],$e=jt[1];($e==null?void 0:$e.status)!==t.fulfilled&&($e==null?void 0:$e.status)!==t.rejected||kt===($e==null?void 0:$e.requestId)||(Ee[kt]=$e)}})}}),gt=(0,ke.createSlice)({name:xn+"/invalidation",initialState:Ne,reducers:{},extraReducers:function(Je){Je.addCase(Ve.actions.removeQueryResult,function(Ee,_e){for(var Te=_e.payload.queryCacheKey,ze=0,Ze=Object.values(Ee);ze<Ze.length;ze++)for(var jt=0,kt=Object.values(Ze[ze]);jt<kt.length;jt++){var $e=kt[jt],Gt=$e.indexOf(Te);Gt!==-1&&$e.splice(Gt,1)}}).addMatcher(mn,function(Ee,_e){for(var Te,ze,Ze,jt,kt=tn(_e).provided,$e=0,Gt=Object.entries(kt);$e<Gt.length;$e++)for(var hn=Gt[$e],rn=hn[0],ur=0,Bn=Object.entries(hn[1]);ur<Bn.length;ur++)for(var sn=Bn[ur],Ln=sn[0],Zr=sn[1],nn=(jt=(ze=(Te=Ee[rn])!=null?Te:Ee[rn]={})[Ze=Ln||"__internal_without_id"])!=null?jt:ze[Ze]=[],Tn=0,$r=Zr;Tn<$r.length;Tn++){var Ir=$r[Tn];nn.includes(Ir)||nn.push(Ir)}}).addMatcher((0,ke.isAnyOf)((0,ke.isFulfilled)(_n),(0,ke.isRejectedWithValue)(_n)),function(Ee,_e){for(var Te,ze,Ze,jt,kt=xt(_e,"providesTags",Rn,Sn),$e=_e.meta.arg.queryCacheKey,Gt=0,hn=Object.values(Ee);Gt<hn.length;Gt++)for(var rn=0,ur=Object.values(hn[Gt]);rn<ur.length;rn++){var Bn=ur[rn],sn=Bn.indexOf($e);sn!==-1&&Bn.splice(sn,1)}for(var Ln=0,Zr=kt;Ln<Zr.length;Ln++){var nn=Zr[Ln],Tn=nn.type,$r=nn.id,Ir=(jt=(ze=(Te=Ee[Tn])!=null?Te:Ee[Tn]={})[Ze=$r||"__internal_without_id"])!=null?jt:ze[Ze]=[];Ir.includes($e)||Ir.push($e)}})}}),tt=(0,ke.createSlice)({name:xn+"/subscriptions",initialState:Ne,reducers:{updateSubscriptionOptions:function(Je,Ee){},unsubscribeQueryResult:function(Je,Ee){},internal_probeSubscription:function(Je,Ee){}}}),mt=(0,ke.createSlice)({name:xn+"/internalSubscriptions",initialState:Ne,reducers:{subscriptionsUpdated:{reducer:function(Je,Ee){return(0,Q.applyPatches)(Je,Ee.payload)},prepare:(0,ke.prepareAutoBatched)()}}}),Dt=(0,ke.createSlice)({name:xn+"/config",initialState:C({online:typeof navigator>"u"||navigator.onLine===void 0||navigator.onLine,focused:typeof document>"u"||document.visibilityState!=="hidden",middlewareRegistered:!1},fn),reducers:{middlewareRegistered:function(Je,Ee){Je.middlewareRegistered=Je.middlewareRegistered!=="conflict"&&Mn===Ee.payload||"conflict"}},extraReducers:function(Je){Je.addCase(ge,function(Ee){Ee.online=!0}).addCase(le,function(Ee){Ee.online=!1}).addCase(U,function(Ee){Ee.focused=!0}).addCase(ne,function(Ee){Ee.focused=!1}).addMatcher(mn,function(Ee){return C({},Ee)})}}),dt=(0,ke.combineReducers)({queries:Ve.reducer,mutations:Pt.reducer,provided:gt.reducer,subscriptions:mt.reducer,config:Dt.reducer});return{reducer:function(Je,Ee){return dt(pn.match(Ee)?void 0:Je,Ee)},actions:P(C(C(C(C(C({},Dt.actions),Ve.actions),tt.actions),mt.actions),Pt.actions),{unsubscribeMutationResult:Pt.actions.removeMutationResult,resetApiState:pn})}}({context:ue,queryThunk:We,mutationThunk:St,reducerPath:Se,assertTagType:qe,config:{refetchOnFocus:lt,refetchOnReconnect:He,refetchOnMountOrArgChange:zt,keepUnusedDataFor:pt,reducerPath:Se}}),ht=je.reducer,Mt=je.actions;jr(Y.util,{patchQueryData:Ct,updateQueryData:Ot,upsertQueryData:Lt,prefetch:Ut,resetApiState:Mt.resetApiState}),jr(Y.internalActions,Mt);var Tt=function(wt){var xn=wt.reducerPath,_n=wt.queryThunk,Kn=wt.api,cr=wt.context,Rn=cr.apiUid,Mn={invalidateTags:(0,vr.createAction)(xn+"/invalidateTags")},tn=[$n,cn,Sr,kn,un,No];return{middleware:function(Sn){var fn=!1,pn=P(C({},wt),{internalState:{currentSubscriptions:{}},refetchQuery:mn}),Ve=tn.map(function(tt){return tt(pn)}),Pt=function(tt){var mt=tt.api,Dt=tt.queryThunk,dt=tt.internalState,Je=mt.reducerPath+"/subscriptions",Ee=null,_e=!1,Te=mt.internalActions,ze=Te.updateSubscriptionOptions,Ze=Te.unsubscribeQueryResult;return function(jt,kt){var $e,Gt;if(Ee||(Ee=JSON.parse(JSON.stringify(dt.currentSubscriptions))),mt.util.resetApiState.match(jt))return Ee=dt.currentSubscriptions={},[!0,!1];if(mt.internalActions.internal_probeSubscription.match(jt)){var hn=jt.payload;return[!1,!!(($e=dt.currentSubscriptions[hn.queryCacheKey])!=null&&$e[hn.requestId])]}var rn=function(sn,Ln){var Zr,nn,Tn,$r,Ir,_a,Ku,Co,Zs;if(ze.match(Ln)){var Os=Ln.payload,Js=Os.queryCacheKey,Jr=Os.requestId;return(Zr=sn==null?void 0:sn[Js])!=null&&Zr[Jr]&&(sn[Js][Jr]=Os.options),!0}if(Ze.match(Ln)){var eo=Ln.payload;return Jr=eo.requestId,sn[Js=eo.queryCacheKey]&&delete sn[Js][Jr],!0}if(mt.internalActions.removeQueryResult.match(Ln))return delete sn[Ln.payload.queryCacheKey],!0;if(Dt.pending.match(Ln)){var to=Ln.meta;if(Jr=to.requestId,(Hr=to.arg).subscribe)return($o=(Tn=sn[nn=Hr.queryCacheKey])!=null?Tn:sn[nn]={})[Jr]=(Ir=($r=Hr.subscriptionOptions)!=null?$r:$o[Jr])!=null?Ir:{},!0}if(Dt.rejected.match(Ln)){var $o,Po=Ln.meta,Hr=Po.arg;if(Jr=Po.requestId,Po.condition&&Hr.subscribe)return($o=(Ku=sn[_a=Hr.queryCacheKey])!=null?Ku:sn[_a]={})[Jr]=(Zs=(Co=Hr.subscriptionOptions)!=null?Co:$o[Jr])!=null?Zs:{},!0}return!1}(dt.currentSubscriptions,jt);if(rn){_e||(Pa(function(){var sn=JSON.parse(JSON.stringify(dt.currentSubscriptions)),Ln=(0,is.produceWithPatches)(Ee,function(){return sn});kt.next(mt.internalActions.subscriptionsUpdated(Ln[1])),Ee=sn,_e=!1}),_e=!0);var ur=!!((Gt=jt.type)!=null&&Gt.startsWith(Je)),Bn=Dt.rejected.match(jt)&&jt.meta.condition&&!!jt.meta.arg.subscribe;return[!ur&&!Bn,!1]}return[!0,!1]}}(pn),gt=function(tt){var mt=tt.reducerPath,Dt=tt.context,dt=tt.refetchQuery,Je=tt.internalState,Ee=tt.api.internalActions.removeQueryResult;function _e(Te,ze){var Ze=Te.getState()[mt],jt=Ze.queries,kt=Je.currentSubscriptions;Dt.batch(function(){for(var $e=0,Gt=Object.keys(kt);$e<Gt.length;$e++){var hn=Gt[$e],rn=jt[hn],ur=kt[hn];ur&&rn&&(Object.values(ur).some(function(Bn){return Bn[ze]===!0})||Object.values(ur).every(function(Bn){return Bn[ze]===void 0})&&Ze.config[ze])&&(Object.keys(ur).length===0?Te.dispatch(Ee({queryCacheKey:hn})):rn.status!==t.uninitialized&&Te.dispatch(dt(rn,hn)))}})}return function(Te,ze){U.match(Te)&&_e(ze,"refetchOnFocus"),ge.match(Te)&&_e(ze,"refetchOnReconnect")}}(pn);return function(tt){return function(mt){fn||(fn=!0,Sn.dispatch(Kn.internalActions.middlewareRegistered(Rn)));var Dt,dt=P(C({},Sn),{next:tt}),Je=Sn.getState(),Ee=Pt(mt,dt,Je),_e=Ee[1];if(Dt=Ee[0]?tt(mt):_e,Sn.getState()[xn]&&(gt(mt,dt,Je),function(Ze){return!!Ze&&typeof Ze.type=="string"&&Ze.type.startsWith(xn+"/")}(mt)||cr.hasRehydrationInfo(mt)))for(var Te=0,ze=Ve;Te<ze.length;Te++)(0,ze[Te])(mt,dt,Je);return Dt}}},actions:Mn};function mn(Sn,fn,pn){return pn===void 0&&(pn={}),_n(C({type:"query",endpointName:Sn.endpointName,originalArgs:Sn.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:fn},pn))}}({reducerPath:Se,context:ue,queryThunk:We,mutationThunk:St,api:Y,assertTagType:qe}),$t=Tt.middleware;jr(Y.util,Tt.actions),jr(Y,{reducer:ht,middleware:$t});var dn=function(wt){var xn=wt.serializeQueryArgs,_n=wt.reducerPath,Kn=function(tn){return an},cr=function(tn){return Pn};return{buildQuerySelector:function(tn,mn){return function(Sn){var fn=xn({queryArgs:Sn,endpointDefinition:mn,endpointName:tn});return(0,xe.createSelector)(Sn===Xe?Kn:function(pn){var Ve,Pt,gt;return(gt=(Pt=(Ve=Mn(pn))==null?void 0:Ve.queries)==null?void 0:Pt[fn])!=null?gt:an},Rn)}},buildMutationSelector:function(){return function(tn){var mn,Sn;return Sn=typeof tn=="object"?(mn=te(tn))!=null?mn:Xe:tn,(0,xe.createSelector)(Sn===Xe?cr:function(fn){var pn,Ve,Pt;return(Pt=(Ve=(pn=Mn(fn))==null?void 0:pn.mutations)==null?void 0:Ve[Sn])!=null?Pt:Pn},Rn)}},selectInvalidatedBy:function(tn,mn){for(var Sn,fn=tn[_n],pn=new Set,Ve=0,Pt=mn.map(fe);Ve<Pt.length;Ve++){var gt=Pt[Ve],tt=fn.provided[gt.type];if(tt)for(var mt=0,Dt=(Sn=gt.id!==void 0?tt[gt.id]:O(Object.values(tt)))!=null?Sn:[];mt<Dt.length;mt++)pn.add(Dt[mt])}return O(Array.from(pn.values()).map(function(dt){var Je=fn.queries[dt];return Je?[{queryCacheKey:dt,endpointName:Je.endpointName,originalArgs:Je.originalArgs}]:[]}))}};function Rn(tn){return C(C({},tn),{status:mn=tn.status,isUninitialized:mn===t.uninitialized,isLoading:mn===t.pending,isSuccess:mn===t.fulfilled,isError:mn===t.rejected});var mn}function Mn(tn){return tn[_n]}}({serializeQueryArgs:Qe,reducerPath:Se}),Vt=dn.buildQuerySelector,Qt=dn.buildMutationSelector;jr(Y.util,{selectInvalidatedBy:dn.selectInvalidatedBy});var Cn=function(wt){var xn=wt.serializeQueryArgs,_n=wt.queryThunk,Kn=wt.mutationThunk,cr=wt.api,Rn=wt.context,Mn=new Map,tn=new Map,mn=cr.internalActions,Sn=mn.unsubscribeQueryResult,fn=mn.removeMutationResult,pn=mn.updateSubscriptionOptions;return{buildInitiateQuery:function(Ve,Pt){var gt=function(tt,mt){var Dt=mt===void 0?{}:mt,dt=Dt.subscribe,Je=dt===void 0||dt,Ee=Dt.forceRefetch,_e=Dt.subscriptionOptions,Te=Dt[ve];return function(ze,Ze){var jt,kt,$e=xn({queryArgs:tt,endpointDefinition:Pt,endpointName:Ve}),Gt=_n(((jt={type:"query",subscribe:Je,forceRefetch:Ee,subscriptionOptions:_e,endpointName:Ve,originalArgs:tt,queryCacheKey:$e})[ve]=Te,jt)),hn=cr.endpoints[Ve].select(tt),rn=ze(Gt),ur=hn(Ze()),Bn=rn.requestId,sn=rn.abort,Ln=ur.requestId!==Bn,Zr=(kt=Mn.get(ze))==null?void 0:kt[$e],nn=function(){return hn(Ze())},Tn=Object.assign(Te?rn.then(nn):Ln&&!Zr?Promise.resolve(ur):Promise.all([Zr,rn]).then(nn),{arg:tt,requestId:Bn,subscriptionOptions:_e,queryCacheKey:$e,abort:sn,unwrap:function(){return I(this,null,function(){var Ir;return r(this,function(_a){switch(_a.label){case 0:return[4,Tn];case 1:if((Ir=_a.sent()).isError)throw Ir.error;return[2,Ir.data]}})})},refetch:function(){return ze(gt(tt,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){Je&&ze(Sn({queryCacheKey:$e,requestId:Bn}))},updateSubscriptionOptions:function(Ir){Tn.subscriptionOptions=Ir,ze(pn({endpointName:Ve,requestId:Bn,queryCacheKey:$e,options:Ir}))}});if(!Zr&&!Ln&&!Te){var $r=Mn.get(ze)||{};$r[$e]=Tn,Mn.set(ze,$r),Tn.then(function(){delete $r[$e],Object.keys($r).length||Mn.delete(ze)})}return Tn}};return gt},buildInitiateMutation:function(Ve){return function(Pt,gt){var tt=gt===void 0?{}:gt,mt=tt.track,Dt=mt===void 0||mt,dt=tt.fixedCacheKey;return function(Je,Ee){var _e=Kn({type:"mutation",endpointName:Ve,originalArgs:Pt,track:Dt,fixedCacheKey:dt}),Te=Je(_e),ze=Te.requestId,Ze=Te.abort,jt=Te.unwrap,kt=Te.unwrap().then(function(rn){return{data:rn}}).catch(function(rn){return{error:rn}}),$e=function(){Je(fn({requestId:ze,fixedCacheKey:dt}))},Gt=Object.assign(kt,{arg:Te.arg,requestId:ze,abort:Ze,unwrap:jt,unsubscribe:$e,reset:$e}),hn=tn.get(Je)||{};return tn.set(Je,hn),hn[ze]=Gt,Gt.then(function(){delete hn[ze],Object.keys(hn).length||tn.delete(Je)}),dt&&(hn[dt]=Gt,Gt.then(function(){hn[dt]===Gt&&(delete hn[dt],Object.keys(hn).length||tn.delete(Je))})),Gt}}},getRunningQueryThunk:function(Ve,Pt){return function(gt){var tt,mt=xn({queryArgs:Pt,endpointDefinition:Rn.endpointDefinitions[Ve],endpointName:Ve});return(tt=Mn.get(gt))==null?void 0:tt[mt]}},getRunningMutationThunk:function(Ve,Pt){return function(gt){var tt;return(tt=tn.get(gt))==null?void 0:tt[Pt]}},getRunningQueriesThunk:function(){return function(Ve){return Object.values(Mn.get(Ve)||{}).filter(Ae)}},getRunningMutationsThunk:function(){return function(Ve){return Object.values(tn.get(Ve)||{}).filter(Ae)}},getRunningOperationPromises:function(){var Ve=function(Pt){return Array.from(Pt.values()).flatMap(function(gt){return gt?Object.values(gt):[]})};return o(o([],Ve(Mn)),Ve(tn)).filter(Ae)},removalWarning:function(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}}}({queryThunk:We,mutationThunk:St,api:Y,serializeQueryArgs:Qe,context:ue}),Er=Cn.buildInitiateQuery,Yn=Cn.buildInitiateMutation;return jr(Y.util,{getRunningOperationPromises:Cn.getRunningOperationPromises,getRunningOperationPromise:Cn.removalWarning,getRunningMutationThunk:Cn.getRunningMutationThunk,getRunningMutationsThunk:Cn.getRunningMutationsThunk,getRunningQueryThunk:Cn.getRunningQueryThunk,getRunningQueriesThunk:Cn.getRunningQueriesThunk}),{name:Qs,injectEndpoint:function(wt,xn){var _n,Kn=Y;(_n=Kn.endpoints)[wt]!=null||(_n[wt]={}),oe(xn)?jr(Kn.endpoints[wt],{name:wt,select:Vt(wt,xn),initiate:Er(wt,xn)},Ft(We,wt)):xn.type===ae.mutation&&jr(Kn.endpoints[wt],{name:wt,select:Qt(),initiate:Yn(wt)},Ft(St,wt))}}}}},ls=it(ka())})(xk);bk.exports=xk;var ga=bk.exports;const Sk=p.memo(({board:e,isSelected:t})=>{const n=se(),{currentData:r}=Ws(e.cover_image_name??ga.skipToken),{colorMode:o}=bo(),{board_name:s,board_id:a}=e,{onClickDeleteBoardImages:u}=p.useContext(x3),d=p.useCallback(()=>{n(S3(a))},[a,n]),[f,{isLoading:h}]=WO(),[m,{isLoading:v}]=VO(),b=E=>{f({board_id:a,changes:{board_name:E}})},w=p.useCallback(()=>{m(a)},[a,m]),S=p.useCallback(()=>{console.log({board:e}),u(e)},[e,u]),C={id:a,actionType:"MOVE_BOARD",context:{boardId:a}},{isOver:P,setNodeRef:k,active:_}=Ru({id:`board_droppable_${a}`,data:C});return i.jsx(Ue,{sx:{touchAction:"none",height:"full"},children:i.jsx(sk,{menuProps:{size:"sm",isLazy:!0},renderMenu:()=>i.jsxs(Lu,{sx:{visibility:"visible !important"},children:[e.image_count>0&&i.jsx(ro,{sx:{color:"error.300"},icon:i.jsx(vo,{}),onClickCapture:S,children:"Delete Board and Images"}),i.jsx(ro,{sx:{color:Re("error.700","error.300")(o)},icon:i.jsx(vo,{}),onClickCapture:w,children:"Delete Board"})]}),children:E=>i.jsxs(q,{userSelect:"none",ref:E,sx:{flexDir:"column",justifyContent:"space-between",alignItems:"center",cursor:"pointer",w:"full",h:"full"},children:[i.jsxs(q,{ref:k,onClick:d,sx:{position:"relative",justifyContent:"center",alignItems:"center",borderRadius:"base",w:"full",aspectRatio:"1/1",overflow:"hidden",shadow:t?"selected.light":void 0,_dark:{shadow:t?"selected.dark":void 0},flexShrink:0},children:[e.cover_image_name&&(r==null?void 0:r.image_url)&&i.jsx(ih,{src:r==null?void 0:r.image_url,draggable:!1}),!(e.cover_image_name&&(r!=null&&r.image_url))&&i.jsx(Vu,{boxSize:8,icon:If,sx:{border:"2px solid var(--invokeai-colors-base-200)",_dark:{border:"2px solid var(--invokeai-colors-base-800)"}}}),i.jsx(q,{sx:{position:"absolute",insetInlineEnd:0,top:0,p:1},children:i.jsx(Ul,{variant:"solid",children:e.image_count})}),i.jsx(ns,{children:Vl(C,_)&&i.jsx(Gl,{isOver:P})})]}),i.jsx(q,{sx:{width:"full",height:"full",justifyContent:"center",alignItems:"center"},children:i.jsxs(O5,{defaultValue:s,submitOnBlur:!1,onSubmit:I=>{b(I)},children:[i.jsx(j5,{sx:{color:t?Re("base.900","base.50")(o):Re("base.700","base.200")(o),fontWeight:t?600:void 0,fontSize:"xs",textAlign:"center",p:0},noOfLines:1}),i.jsx(_5,{sx:{color:Re("base.900","base.50")(o),fontSize:"xs",borderColor:Re("base.500","base.500")(o),p:0,outline:0}})]})})]},a)})})});Sk.displayName="HoverableBoard";const wF="My Board",CF=()=>{const[e,{isLoading:t}]=UO(),n=p.useCallback(()=>{e(wF)},[e]);return i.jsx(Kt,{isLoading:t,"aria-label":"Add Board",onClick:n,size:"sm",sx:{px:4},children:"Add Board"})},PF=({isSelected:e})=>{const t=GO(),{colorMode:n}=bo(),r=()=>{t(S3())},o={id:"all-images-board",actionType:"MOVE_BOARD",context:{boardId:null}},{isOver:s,setNodeRef:a,active:u}=Ru({id:"board_droppable_all_images",data:o});return i.jsxs(q,{sx:{flexDir:"column",justifyContent:"space-between",alignItems:"center",cursor:"pointer",w:"full",h:"full",borderRadius:"base"},children:[i.jsxs(q,{ref:a,onClick:r,sx:{position:"relative",justifyContent:"center",alignItems:"center",borderRadius:"base",w:"full",aspectRatio:"1/1",overflow:"hidden",shadow:e?"selected.light":void 0,_dark:{shadow:e?"selected.dark":void 0},flexShrink:0},children:[i.jsx(Vu,{boxSize:8,icon:J$,sx:{border:"2px solid var(--invokeai-colors-base-200)",_dark:{border:"2px solid var(--invokeai-colors-base-800)"}}}),i.jsx(ns,{children:Vl(o,u)&&i.jsx(Gl,{isOver:s})})]}),i.jsx(q,{sx:{h:"full",alignItems:"center",color:e?Re("base.900","base.50")(n):Re("base.700","base.200")(n),fontWeight:e?600:void 0,fontSize:"xs"},children:"All Images"})]})},kF=Pe([wn],({boards:e,gallery:t})=>{const{searchText:n}=e,{selectedBoardId:r}=t;return{selectedBoardId:r,searchText:n}},Rt),_F=e=>{const{isOpen:t}=e,n=se(),{selectedBoardId:r,searchText:o}=B(kF),{data:s}=D0(),a=o?s==null?void 0:s.filter(m=>m.board_name.toLowerCase().includes(o.toLowerCase())):s,[u,d]=p.useState(!1),f=m=>{d(m.length>0),n(jx(m))},h=()=>{d(!1),n(jx(""))};return i.jsx(uh,{in:t,animateOpacity:!0,children:i.jsxs(q,{layerStyle:"first",sx:{flexDir:"column",gap:2,p:2,mt:2,borderRadius:"base"},children:[i.jsxs(q,{sx:{gap:2,alignItems:"center"},children:[i.jsxs(m6,{children:[i.jsx(Nu,{placeholder:"Search Boards...",value:o,onChange:m=>{f(m.target.value)}}),o&&o.length&&i.jsx(t1,{children:i.jsx($i,{onClick:h,size:"xs",variant:"ghost","aria-label":"Clear Search",icon:i.jsx(vL,{boxSize:3})})})]}),i.jsx(CF,{})]}),i.jsx(GP,{defer:!0,style:{height:"100%",width:"100%"},options:{scrollbars:{visibility:"auto",autoHide:"move",autoHideDelay:1300,theme:"os-theme-dark"}},children:i.jsxs(ha,{className:"list-container",sx:{gridTemplateRows:"6.5rem 6.5rem",gridAutoFlow:"column dense",gridAutoColumns:"5rem"},children:[!u&&i.jsx(Ev,{sx:{p:1.5},children:i.jsx(PF,{isSelected:!r})}),a&&a.map(m=>i.jsx(Ev,{sx:{p:1.5},children:i.jsx(Sk,{board:m,isSelected:r===m.board_id})},m.board_id))]})})]})})},jF=p.memo(_F),EF=Array(20).fill("loading"),IF=Pe([wn,w3],(e,t)=>{const{categories:n,total:r,isLoading:o,selectedBoardId:s,galleryImageMinimumWidth:a,galleryView:u,shouldAutoSwitch:d}=e.gallery,{shouldPinGallery:f}=e.ui,h=t;return{images:o?h.concat(EF):h,allImagesTotal:r,isLoading:o,categories:n,selectedBoardId:s,shouldPinGallery:f,galleryImageMinimumWidth:a,shouldAutoSwitch:d,galleryView:u}},Rt),OF=()=>{const e=se(),{t}=ye(),n=p.useRef(null),r=p.useRef(null),[o,s]=p.useState(null),[a,u]=UP({defer:!0,options:{scrollbars:{visibility:"auto",autoHide:"leave",autoHideDelay:1300,theme:"os-theme-dark"},overflow:{x:"hidden"}}}),{colorMode:d}=bo(),{images:f,isLoading:h,allImagesTotal:m,categories:v,selectedBoardId:b,shouldPinGallery:w,galleryImageMinimumWidth:S,shouldAutoSwitch:C,galleryView:P}=B(IF),{selectedBoard:k}=D0(void 0,{selectFromResult:({data:L})=>({selectedBoard:L==null?void 0:L.find(F=>F.board_id===b)})}),_=p.useMemo(()=>(k==null?void 0:k.image_count)??m,[m,k==null?void 0:k.image_count]),E=p.useMemo(()=>f.length<_,[f.length,_]),I=p.useCallback(()=>{e(Ex({categories:v,board_id:b,is_intermediate:!1}))},[v,e,b]),O=p.useMemo(()=>{if(E&&!h)return I},[E,I,h]),{isOpen:R,onToggle:M}=Qa(),D=L=>{e(Bf(L))},$=()=>{e(C3()),e(_s())};p.useEffect(()=>{const{current:L}=r;return o&&L&&a({target:L,elements:{viewport:o}}),()=>{var F;return(F=u())==null?void 0:F.destroy()}},[o,a,u]),p.useEffect(()=>{e(Ex({categories:["general"],is_intermediate:!1}))},[e]);const A=p.useCallback(()=>{e(Ix(qO)),e(Ox("images"))},[e]),G=p.useCallback(()=>{e(Ix(YO)),e(Ox("assets"))},[e]);return i.jsxs(kr,{sx:{flexDirection:"column",h:"full",w:"full",borderRadius:"base"},children:[i.jsxs(Ue,{sx:{w:"full"},children:[i.jsxs(q,{ref:n,sx:{alignItems:"center",justifyContent:"space-between",gap:2},children:[i.jsxs(br,{isAttached:!0,children:[i.jsx(Me,{tooltip:t("gallery.images"),"aria-label":t("gallery.images"),onClick:A,isChecked:P==="images",size:"sm",icon:i.jsx(xu,{})}),i.jsx(Me,{tooltip:t("gallery.assets"),"aria-label":t("gallery.assets"),onClick:G,isChecked:P==="assets",size:"sm",icon:i.jsx(uL,{})})]}),i.jsxs(q,{as:h3,onClick:M,size:"sm",variant:"ghost",sx:{w:"full",justifyContent:"center",alignItems:"center",px:2,_hover:{bg:Re("base.100","base.800")(d)}},children:[i.jsx(Ye,{noOfLines:1,sx:{w:"full",color:Re("base.800","base.200")(d),fontWeight:600},children:k?k.board_name:"All Images"}),i.jsx(V1,{sx:{transform:R?"rotate(0deg)":"rotate(180deg)",transitionProperty:"common",transitionDuration:"normal"}})]}),i.jsx(ia,{triggerComponent:i.jsx(Me,{tooltip:t("gallery.gallerySettings"),"aria-label":t("gallery.gallerySettings"),size:"sm",icon:i.jsx(H1,{})}),children:i.jsxs(q,{direction:"column",gap:2,children:[i.jsx(vt,{value:S,onChange:D,min:32,max:256,hideTooltip:!0,label:t("gallery.galleryImageSize"),withReset:!0,handleReset:()=>e(Bf(64))}),i.jsx(En,{label:t("gallery.autoSwitchNewImages"),isChecked:C,onChange:L=>e(KO(L.target.checked))})]})}),i.jsx(Me,{size:"sm","aria-label":t("gallery.pinGallery"),tooltip:`${t("gallery.pinGallery")} (Shift+G)`,onClick:$,icon:w?i.jsx(qP,{}):i.jsx(YP,{})})]}),i.jsx(Ue,{children:i.jsx(jF,{isOpen:R})})]}),i.jsx(q,{direction:"column",gap:2,h:"full",w:"full",children:f.length||E?i.jsxs(i.Fragment,{children:[i.jsx(Ue,{ref:r,"data-overlayscrollbars":"",h:"100%",children:i.jsx(xF,{style:{height:"100%"},data:f,endReached:O,components:{Item:RF,List:MF},scrollerRef:s,itemContent:(L,F)=>typeof F=="string"?i.jsx(f1,{sx:{w:"full",h:"full",aspectRatio:"1/1"}}):i.jsx(_L,{imageDTO:F},`${F.image_name}-${F.thumbnail_url}`)})}),i.jsx(Kt,{onClick:I,isDisabled:!E,isLoading:h,loadingText:"Loading",flexShrink:0,children:t(E?"gallery.loadMore":"gallery.allImagesLoaded")})]}):i.jsx(Vu,{label:t("gallery.noImagesInGallery"),icon:xu})})]})},RF=nt((e,t)=>i.jsx(Ue,{className:"item-container",ref:t,p:1.5,children:e.children})),MF=nt((e,t)=>{const n=B(r=>r.gallery.galleryImageMinimumWidth);return i.jsx(ha,{...e,className:"list-container",ref:t,sx:{gridTemplateColumns:`repeat(auto-fill, minmax(${n}px, 1fr));`},children:e.children})}),wk=p.memo(OF);var TF=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=globalThis&&globalThis.__assign||function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pr.apply(this,arguments)},AS={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},NS={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Zd={width:"20px",height:"20px",position:"absolute"},DF={top:Pr(Pr({},AS),{top:"-5px"}),right:Pr(Pr({},NS),{left:void 0,right:"-5px"}),bottom:Pr(Pr({},AS),{top:void 0,bottom:"-5px"}),left:Pr(Pr({},NS),{left:"-5px"}),topRight:Pr(Pr({},Zd),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Pr(Pr({},Zd),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Pr(Pr({},Zd),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Pr(Pr({},Zd),{left:"-10px",top:"-10px",cursor:"nw-resize"})},AF=function(e){TF(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return t.prototype.render=function(){return p.createElement("div",{className:this.props.className||"",style:Pr(Pr({position:"absolute",userSelect:"none"},DF[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(p.PureComponent),NF=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$s=globalThis&&globalThis.__assign||function(){return $s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$s.apply(this,arguments)},zF={width:"auto",height:"auto"},Jd=function(e,t,n){return Math.max(Math.min(e,n),t)},zS=function(e,t){return Math.round(e/t)*t},Sl=function(e,t){return new RegExp(e,"i").test(t)},ef=function(e){return!!(e.touches&&e.touches.length)},$F=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},$S=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(s,a,u){return Math.abs(a-e)<Math.abs(t[s]-e)?u:s},0),o=Math.abs(t[r]-e);return n===0||o<n?t[r]:e},Hg=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},tf=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return n*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return r*o}}return e},LF=function(e,t,n,r,o,s,a){return r=tf(r,e.width,t,n),o=tf(o,e.height,t,n),s=tf(s,e.width,t,n),a=tf(a,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof a>"u"?void 0:Number(a)}},FF=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],LS="__resizable_base__",BF=function(e){NF(t,e);function t(n){var r=e.call(this,n)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableRight=0,r.resizableTop=0,r.resizableBottom=0,r.targetLeft=0,r.targetTop=0,r.appendBase=function(){if(!r.resizable||!r.window)return null;var o=r.parentNode;if(!o)return null;var s=r.window.document.createElement("div");return s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.transform="scale(0, 0)",s.style.left="0",s.style.flex="0 0 100%",s.classList?s.classList.add(LS):s.className+=LS,o.appendChild(s),s},r.removeBase=function(o){var s=r.parentNode;s&&s.removeChild(o)},r.ref=function(o){o&&(r.resizable=o)},r.state={isResizing:!1,width:typeof(r.propsSize&&r.propsSize.width)>"u"?"auto":r.propsSize&&r.propsSize.width,height:typeof(r.propsSize&&r.propsSize.height)>"u"?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||zF},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,s=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=a}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,o=function(u){if(typeof n.state[u]>"u"||n.state[u]==="auto")return"auto";if(n.propsSize&&n.propsSize[u]&&n.propsSize[u].toString().endsWith("%")){if(n.state[u].toString().endsWith("%"))return n.state[u].toString();var d=n.getParentSize(),f=Number(n.state[u].toString().replace("px","")),h=f/d[u]*100;return h+"%"}return Hg(n.state[u])},s=r&&typeof r.width<"u"&&!this.state.isResizing?Hg(r.width):o("width"),a=r&&typeof r.height<"u"&&!this.state.isResizing?Hg(r.height):o("height");return{width:s,height:a}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=o),this.removeBase(n),s},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var o=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof o>"u"||o==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var o=this.props.boundsByDirection,s=this.state.direction,a=o&&Sl("left",s),u=o&&Sl("top",s),d,f;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(d=a?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),f=u?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(d=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,f=u?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(d=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),f=u?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return d&&Number.isFinite(d)&&(n=n&&n<d?n:d),f&&Number.isFinite(f)&&(r=r&&r<f?r:f),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var o=this.props.scale||1,s=this.props.resizeRatio||1,a=this.state,u=a.direction,d=a.original,f=this.props,h=f.lockAspectRatio,m=f.lockAspectRatioExtraHeight,v=f.lockAspectRatioExtraWidth,b=d.width,w=d.height,S=m||0,C=v||0;return Sl("right",u)&&(b=d.width+(n-d.x)*s/o,h&&(w=(b-C)/this.ratio+S)),Sl("left",u)&&(b=d.width-(n-d.x)*s/o,h&&(w=(b-C)/this.ratio+S)),Sl("bottom",u)&&(w=d.height+(r-d.y)*s/o,h&&(b=(w-S)*this.ratio+C)),Sl("top",u)&&(w=d.height-(r-d.y)*s/o,h&&(b=(w-S)*this.ratio+C)),{newWidth:b,newHeight:w}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,o,s){var a=this.props,u=a.lockAspectRatio,d=a.lockAspectRatioExtraHeight,f=a.lockAspectRatioExtraWidth,h=typeof s.width>"u"?10:s.width,m=typeof o.width>"u"||o.width<0?n:o.width,v=typeof s.height>"u"?10:s.height,b=typeof o.height>"u"||o.height<0?r:o.height,w=d||0,S=f||0;if(u){var C=(v-w)*this.ratio+S,P=(b-w)*this.ratio+S,k=(h-S)/this.ratio+w,_=(m-S)/this.ratio+w,E=Math.max(h,C),I=Math.min(m,P),O=Math.max(v,k),R=Math.min(b,_);n=Jd(n,E,I),r=Jd(r,O,R)}else n=Jd(n,h,m),r=Jd(r,v,b);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var r=n.getBoundingClientRect();this.parentLeft=r.left,this.parentTop=r.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left,this.targetTop=o.top}if(this.resizable){var s=this.resizable.getBoundingClientRect(),a=s.left,u=s.top,d=s.right,f=s.bottom;this.resizableLeft=a,this.resizableRight=d,this.resizableTop=u,this.resizableBottom=f}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var o=0,s=0;if(n.nativeEvent&&$F(n.nativeEvent)?(o=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&ef(n.nativeEvent)&&(o=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(n,r,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var u,d=this.window.getComputedStyle(this.resizable);if(d.flexBasis!=="auto"){var f=this.parentNode;if(f){var h=this.window.getComputedStyle(f).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",u=d.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var m={original:{x:o,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:$s($s({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:u};this.setState(m)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ef(n))try{n.preventDefault(),n.stopPropagation()}catch{}var o=this.props,s=o.maxWidth,a=o.maxHeight,u=o.minWidth,d=o.minHeight,f=ef(n)?n.touches[0].clientX:n.clientX,h=ef(n)?n.touches[0].clientY:n.clientY,m=this.state,v=m.direction,b=m.original,w=m.width,S=m.height,C=this.getParentSize(),P=LF(C,this.window.innerWidth,this.window.innerHeight,s,a,u,d);s=P.maxWidth,a=P.maxHeight,u=P.minWidth,d=P.minHeight;var k=this.calculateNewSizeFromDirection(f,h),_=k.newHeight,E=k.newWidth,I=this.calculateNewMaxFromBoundary(s,a);this.props.snap&&this.props.snap.x&&(E=$S(E,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=$S(_,this.props.snap.y,this.props.snapGap));var O=this.calculateNewSizeFromAspectRatio(E,_,{width:I.maxWidth,height:I.maxHeight},{width:u,height:d});if(E=O.newWidth,_=O.newHeight,this.props.grid){var R=zS(E,this.props.grid[0]),M=zS(_,this.props.grid[1]),D=this.props.snapGap||0;E=D===0||Math.abs(R-E)<=D?R:E,_=D===0||Math.abs(M-_)<=D?M:_}var $={width:E-b.width,height:_-b.height};if(w&&typeof w=="string"){if(w.endsWith("%")){var A=E/C.width*100;E=A+"%"}else if(w.endsWith("vw")){var G=E/this.window.innerWidth*100;E=G+"vw"}else if(w.endsWith("vh")){var L=E/this.window.innerHeight*100;E=L+"vh"}}if(S&&typeof S=="string"){if(S.endsWith("%")){var A=_/C.height*100;_=A+"%"}else if(S.endsWith("vw")){var G=_/this.window.innerWidth*100;_=G+"vw"}else if(S.endsWith("vh")){var L=_/this.window.innerHeight*100;_=L+"vh"}}var F={width:this.createSizeForCssProperty(E,"width"),height:this.createSizeForCssProperty(_,"height")};this.flexDir==="row"?F.flexBasis=F.width:this.flexDir==="column"&&(F.flexBasis=F.height),lc.flushSync(function(){r.setState(F)}),this.props.onResize&&this.props.onResize(n,v,this.resizable,$)}},t.prototype.onMouseUp=function(n){var r=this.state,o=r.isResizing,s=r.direction,a=r.original;if(!(!o||!this.resizable)){var u={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(n,s,this.resizable,u),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:$s($s({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){this.setState({width:n.width,height:n.height})},t.prototype.renderResizer=function(){var n=this,r=this.props,o=r.enable,s=r.handleStyles,a=r.handleClasses,u=r.handleWrapperStyle,d=r.handleWrapperClass,f=r.handleComponent;if(!o)return null;var h=Object.keys(o).map(function(m){return o[m]!==!1?p.createElement(AF,{key:m,direction:m,onResizeStart:n.onResizeStart,replaceStyles:s&&s[m],className:a&&a[m]},f&&f[m]?f[m]:null):null});return p.createElement("div",{className:d,style:u},h)},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(a,u){return FF.indexOf(u)!==-1||(a[u]=n.props[u]),a},{}),o=$s($s($s({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return p.createElement(s,$s({ref:this.ref,style:o,className:this.props.className},r),this.state.isResizing&&p.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(p.PureComponent);const HF=({direction:e,langDirection:t})=>({top:e==="bottom",right:t!=="rtl"&&e==="left"||t==="rtl"&&e==="right",bottom:e==="top",left:t!=="rtl"&&e==="right"||t==="rtl"&&e==="left"}),WF=({direction:e,minWidth:t,maxWidth:n,minHeight:r,maxHeight:o})=>{const s=t??(["left","right"].includes(e)?10:void 0),a=n??(["left","right"].includes(e)?"95vw":void 0),u=r??(["top","bottom"].includes(e)?10:void 0),d=o??(["top","bottom"].includes(e)?"95vh":void 0);return{...s?{minWidth:s}:{},...a?{maxWidth:a}:{},...u?{minHeight:u}:{},...d?{maxHeight:d}:{}}},oa="0.75rem",nf="1rem",Nc="5px",VF=({isResizable:e,direction:t})=>{const n=`calc((2 * ${oa} + ${Nc}) / -2)`;return t==="top"?{containerStyles:{borderBottomWidth:Nc,paddingBottom:nf},handleStyles:e?{top:{paddingTop:oa,paddingBottom:oa,bottom:n}}:{}}:t==="left"?{containerStyles:{borderInlineEndWidth:Nc,paddingInlineEnd:nf},handleStyles:e?{right:{paddingInlineStart:oa,paddingInlineEnd:oa,insetInlineEnd:n}}:{}}:t==="bottom"?{containerStyles:{borderTopWidth:Nc,paddingTop:nf},handleStyles:e?{bottom:{paddingTop:oa,paddingBottom:oa,top:n}}:{}}:t==="right"?{containerStyles:{borderInlineStartWidth:Nc,paddingInlineStart:nf},handleStyles:e?{left:{paddingInlineStart:oa,paddingInlineEnd:oa,insetInlineStart:n}}:{}}:{containerStyles:{},handleStyles:{}}},UF=(e,t)=>["top","bottom"].includes(e)?e:e==="left"?t==="rtl"?"right":"left":e==="right"?t==="rtl"?"left":"right":"left",GF=Be(BF,{shouldForwardProp:e=>!["sx"].includes(e)}),Ck=({direction:e="left",isResizable:t,isOpen:n,onClose:r,children:o,initialWidth:s,minWidth:a,maxWidth:u,initialHeight:d,minHeight:f,maxHeight:h,onResizeStart:m,onResizeStop:v,onResize:b,sx:w={}})=>{const S=oh().direction,{colorMode:C}=bo(),P=p.useRef(null),k=p.useMemo(()=>s??a??(["left","right"].includes(e)?"auto":"100%"),[s,a,e]),_=p.useMemo(()=>d??f??(["top","bottom"].includes(e)?"auto":"100%"),[d,f,e]),[E,I]=p.useState(k),[O,R]=p.useState(_);hD({ref:P,handler:()=>{r()},enabled:n});const M=p.useMemo(()=>t?HF({direction:e,langDirection:S}):{},[t,S,e]),D=p.useMemo(()=>WF({direction:e,minWidth:a,maxWidth:u,minHeight:f,maxHeight:h}),[a,u,f,h,e]),{containerStyles:$,handleStyles:A}=p.useMemo(()=>VF({isResizable:t,direction:e}),[t,e]),G=p.useMemo(()=>UF(e,S),[e,S]);return p.useEffect(()=>{["left","right"].includes(e)&&R("100vh"),["top","bottom"].includes(e)&&I("100vw")},[e]),i.jsx(v5,{direction:G,in:n,motionProps:{initial:!1},style:{width:"full"},children:i.jsx(Ue,{ref:P,sx:{width:"full",height:"full"},children:i.jsx(GF,{size:{width:t?E:k,height:t?O:_},enable:M,handleStyles:A,...D,sx:{borderColor:Re("base.200","base.800")(C),p:4,bg:Re("base.100","base.900")(C),height:"full",shadow:n?"dark-lg":void 0,...$,...w},onResizeStart:(L,F,W)=>{m&&m(L,F,W)},onResize:(L,F,W,X)=>{b&&b(L,F,W,X)},onResizeStop:(L,F,W,X)=>{["left","right"].includes(F)&&I(Number(E)+X.width),["top","bottom"].includes(F)&&R(Number(O)+X.height),v&&v(L,F,W,X)},children:o})})})},Pk=Pe(e=>e.lightbox,e=>e,{memoizeOptions:{equalityCheck:Wt}}),qF=Pe([Dr,rs,gP,nr,Pk],(e,t,n,r,o)=>{const{shouldPinGallery:s,shouldShowGallery:a}=t,{galleryImageMinimumWidth:u}=n,{isLightboxOpen:d}=o;return{activeTabName:e,isStaging:r,shouldPinGallery:s,shouldShowGallery:a,galleryImageMinimumWidth:u,isResizable:e!=="unifiedCanvas",isLightboxOpen:d}},{memoizeOptions:{resultEqualityCheck:Wt}}),YF=()=>{const e=se(),{shouldPinGallery:t,shouldShowGallery:n,galleryImageMinimumWidth:r}=B(qF),o=()=>{e(gv(!1)),t&&e(_s())};Ge("esc",()=>{e(gv(!1))},{enabled:()=>!t,preventDefault:!0},[t]);const s=32;return Ge("shift+up",()=>{if(r<256){const a=Vs(r+s,32,256);e(Bf(a))}},[r]),Ge("shift+down",()=>{if(r>32){const a=Vs(r-s,32,256);e(Bf(a))}},[r]),t?null:i.jsx(Ck,{direction:"right",isResizable:!0,isOpen:n,onClose:o,minWidth:337,children:i.jsx(wk,{})})},KF=p.memo(YF),XF=e=>{const{label:t,isDisabled:n=!1,width:r="auto",formControlProps:o,formLabelProps:s,tooltip:a,...u}=e;return i.jsx(Gn,{label:a,hasArrow:!0,placement:"top",isDisabled:!a,children:i.jsxs(ar,{isDisabled:n,width:r,display:"flex",alignItems:"center",...o,children:[t&&i.jsx(pr,{my:1,flexGrow:1,sx:{cursor:n?"not-allowed":"pointer",...s==null?void 0:s.sx,pe:4},...s,children:t}),i.jsx(p1,{...u})]})})},In=p.memo(XF),QF=e=>{const{imageUsage:t}=e;return!t||!P3(t)?null:i.jsxs(i.Fragment,{children:[i.jsx(Ye,{children:"This image is currently in use in the following features:"}),i.jsxs(ph,{sx:{paddingInlineStart:6},children:[t.isInitialImage&&i.jsx(Ro,{children:"Image to Image"}),t.isCanvasImage&&i.jsx(Ro,{children:"Unified Canvas"}),t.isControlNetImage&&i.jsx(Ro,{children:"ControlNet"}),t.isNodesImage&&i.jsx(Ro,{children:"Node Editor"})]}),i.jsx(Ye,{children:"If you delete this image, those features will immediately be reset."})]})},ZF=p.memo(QF),JF=Pe([wn,XO],({system:e,config:t,imageDeletion:n},r)=>{const{shouldConfirmOnDelete:o}=e,{canRestoreDeletedImagesFromBin:s}=t,{imageToDelete:a,isModalOpen:u}=n;return{shouldConfirmOnDelete:o,canRestoreDeletedImagesFromBin:s,imageToDelete:a,imageUsage:r,isModalOpen:u}},Rt),eB=()=>{const e=se(),{t}=ye(),{shouldConfirmOnDelete:n,canRestoreDeletedImagesFromBin:r,imageToDelete:o,imageUsage:s,isModalOpen:a}=B(JF),u=p.useCallback(m=>e(k3(!m.target.checked)),[e]),d=p.useCallback(()=>{e(Rx()),e(QO(!1))},[e]),f=p.useCallback(()=>{!o||!s||(e(Rx()),e(ZO({imageDTO:o,imageUsage:s})))},[e,o,s]),h=p.useRef(null);return i.jsx(vh,{isOpen:a,onClose:d,leastDestructiveRef:h,isCentered:!0,children:i.jsx(ei,{children:i.jsxs(yh,{children:[i.jsx(Ja,{fontSize:"lg",fontWeight:"bold",children:t("gallery.deleteImage")}),i.jsx(ti,{children:i.jsxs(q,{direction:"column",gap:3,children:[i.jsx(ZF,{imageUsage:s}),i.jsx(Sa,{}),i.jsx(Ye,{children:t(r?"gallery.deleteImageBin":"gallery.deleteImagePermanent")}),i.jsx(Ye,{children:t("common.areYouSure")}),i.jsx(In,{label:t("common.dontAskMeAgain"),isChecked:!n,onChange:u})]})}),i.jsxs(Za,{children:[i.jsx(Kt,{ref:h,onClick:d,children:"Cancel"}),i.jsx(Kt,{colorScheme:"error",onClick:f,ml:3,children:"Delete"})]})]})})})},tB=p.memo(eB);function nB(e){const t=p.createContext(null);return[({children:o,value:s})=>z.createElement(t.Provider,{value:s},o),()=>{const o=p.useContext(t);if(o===null)throw new Error(e);return o}]}function kk(e){return Array.isArray(e)?e:[e]}const rB=()=>{};function oB(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||rB:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function _k({data:e}){const t=[],n=[],r=e.reduce((o,s,a)=>(s.group?o[s.group]?o[s.group].push(a):o[s.group]=[a]:n.push(a),o),{});return Object.keys(r).forEach(o=>{t.push(...r[o].map(s=>e[s]))}),t.push(...n.map(o=>e[o])),t}function jk(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==z.Fragment:!1}function Ek(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ek(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ik(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Ek(t))&&(r&&(r+=" "),r+=n);return r}const sB={app:100,modal:200,popover:300,overlay:400,max:9999};function K1(e){return sB[e]}function aB(e,t){const n=p.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,o)=>r===t[o]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const iB=JO({key:"mantine",prepend:!0});function lB(){return f5()||iB}var cB=Object.defineProperty,FS=Object.getOwnPropertySymbols,uB=Object.prototype.hasOwnProperty,dB=Object.prototype.propertyIsEnumerable,BS=(e,t,n)=>t in e?cB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fB=(e,t)=>{for(var n in t||(t={}))uB.call(t,n)&&BS(e,n,t[n]);if(FS)for(var n of FS(t))dB.call(t,n)&&BS(e,n,t[n]);return e};const Wg="ref";function pB(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(Wg in n))return{args:e,ref:t};t=n[Wg];const r=fB({},n);return delete r[Wg],{args:[r],ref:t}}const{cssFactory:hB}=(()=>{function e(n,r,o){const s=[],a=n8(n,s,o);return s.length<2?o:a+r(s)}function t(n){const{cache:r}=n,o=(...a)=>{const{ref:u,args:d}=pB(a),f=e8(d,r.registered);return t8(r,f,!1),`${r.key}-${f.name}${u===void 0?"":` ${u}`}`};return{css:o,cx:(...a)=>e(r.registered,o,Ik(a))}}return{cssFactory:t}})();function Ok(){const e=lB();return aB(()=>hB({cache:e}),[e])}function mB({cx:e,classes:t,context:n,classNames:r,name:o,cache:s}){const a=n.reduce((u,d)=>(Object.keys(d.classNames).forEach(f=>{typeof u[f]!="string"?u[f]=`${d.classNames[f]}`:u[f]=`${u[f]} ${d.classNames[f]}`}),u),{});return Object.keys(t).reduce((u,d)=>(u[d]=e(t[d],a[d],r!=null&&r[d],Array.isArray(o)?o.filter(Boolean).map(f=>`${(s==null?void 0:s.key)||"mantine"}-${f}-${d}`).join(" "):o?`${(s==null?void 0:s.key)||"mantine"}-${o}-${d}`:null),u),{})}var gB=Object.defineProperty,HS=Object.getOwnPropertySymbols,vB=Object.prototype.hasOwnProperty,yB=Object.prototype.propertyIsEnumerable,WS=(e,t,n)=>t in e?gB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vg=(e,t)=>{for(var n in t||(t={}))vB.call(t,n)&&WS(e,n,t[n]);if(HS)for(var n of HS(t))yB.call(t,n)&&WS(e,n,t[n]);return e};function Qv(e,t){return t&&Object.keys(t).forEach(n=>{e[n]?e[n]=Vg(Vg({},e[n]),t[n]):e[n]=Vg({},t[n])}),e}function VS(e,t,n,r){const o=s=>typeof s=="function"?s(t,n||{},r):s||{};return Array.isArray(e)?e.map(s=>o(s.styles)).reduce((s,a)=>Qv(s,a),{}):o(e)}function bB({ctx:e,theme:t,params:n,variant:r,size:o}){return e.reduce((s,a)=>(a.variants&&r in a.variants&&Qv(s,a.variants[r](t,n,{variant:r,size:o})),a.sizes&&o in a.sizes&&Qv(s,a.sizes[o](t,n,{variant:r,size:o})),s),{})}function Qr(e){const t=typeof e=="function"?e:()=>e;function n(r,o){const s=xa(),a=C7(o==null?void 0:o.name),u=f5(),d={variant:o==null?void 0:o.variant,size:o==null?void 0:o.size},{css:f,cx:h}=Ok(),m=t(s,r,d),v=VS(o==null?void 0:o.styles,s,r,d),b=VS(a,s,r,d),w=bB({ctx:a,theme:s,params:r,variant:o==null?void 0:o.variant,size:o==null?void 0:o.size}),S=Object.fromEntries(Object.keys(m).map(C=>{const P=h({[f(m[C])]:!(o!=null&&o.unstyled)},f(w[C]),f(b[C]),f(v[C]));return[C,P]}));return{classes:mB({cx:h,classes:S,context:a,classNames:o==null?void 0:o.classNames,name:o==null?void 0:o.name,cache:u}),cx:h,theme:s}}return n}function US(e){return`___ref-${e||""}`}var xB=Object.defineProperty,SB=Object.defineProperties,wB=Object.getOwnPropertyDescriptors,GS=Object.getOwnPropertySymbols,CB=Object.prototype.hasOwnProperty,PB=Object.prototype.propertyIsEnumerable,qS=(e,t,n)=>t in e?xB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zc=(e,t)=>{for(var n in t||(t={}))CB.call(t,n)&&qS(e,n,t[n]);if(GS)for(var n of GS(t))PB.call(t,n)&&qS(e,n,t[n]);return e},$c=(e,t)=>SB(e,wB(t));const Lc={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${Le(10)})`},transitionProperty:"transform, opacity"},rf={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${Le(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Le(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Le(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Le(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:$c(zc({},Lc),{common:{transformOrigin:"center center"}}),"pop-bottom-left":$c(zc({},Lc),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":$c(zc({},Lc),{common:{transformOrigin:"bottom right"}}),"pop-top-left":$c(zc({},Lc),{common:{transformOrigin:"top left"}}),"pop-top-right":$c(zc({},Lc),{common:{transformOrigin:"top right"}})},YS=["mousedown","touchstart"];function kB(e,t,n){const r=p.useRef();return p.useEffect(()=>{const o=s=>{const{target:a}=s??{};if(Array.isArray(n)){const u=(a==null?void 0:a.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(a)&&a.tagName!=="HTML";n.every(f=>!!f&&!s.composedPath().includes(f))&&!u&&e()}else r.current&&!r.current.contains(a)&&e()};return(t||YS).forEach(s=>document.addEventListener(s,o)),()=>{(t||YS).forEach(s=>document.removeEventListener(s,o))}},[r,e,n]),r}function _B(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function jB(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function EB(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=p.useState(n?t:jB(e,t)),s=p.useRef();return p.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),o(s.current.matches),_B(s.current,a=>o(a.matches))},[e]),r}const Rk=typeof document<"u"?p.useLayoutEffect:p.useEffect;function xs(e,t){const n=p.useRef(!1);p.useEffect(()=>()=>{n.current=!1},[]),p.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function IB({opened:e,shouldReturnFocus:t=!0}){const n=p.useRef(),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return xs(()=>{let o=-1;const s=a=>{a.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",s)}},[e,t]),r}const OB=/input|select|textarea|button|object/,Mk="a, input, select, textarea, button, object, [tabindex]";function RB(e){return e.style.display==="none"}function MB(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(RB(n))return!1;n=n.parentNode}return!0}function Tk(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Zv(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(Tk(e));return(OB.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&MB(e)}function Dk(e){const t=Tk(e);return(Number.isNaN(t)||t>=0)&&Zv(e)}function TB(e){return Array.from(e.querySelectorAll(Mk)).filter(Dk)}function DB(e,t){const n=TB(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();if(!(r===o.activeElement||e===o.activeElement))return;t.preventDefault();const a=n[t.shiftKey?n.length-1:0];a&&a.focus()}function X1(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function AB(e,t="body > :not(script)"){const n=X1(),r=Array.from(document.querySelectorAll(t)).map(o=>{var s;if((s=o==null?void 0:o.shadowRoot)!=null&&s.contains(e)||o.contains(e))return;const a=o.getAttribute("aria-hidden"),u=o.getAttribute("data-hidden"),d=o.getAttribute("data-focus-id");return o.setAttribute("data-focus-id",n),a===null||a==="false"?o.setAttribute("aria-hidden","true"):!u&&!d&&o.setAttribute("data-hidden",a),{node:o,ariaHidden:u||null}});return()=>{r.forEach(o=>{!o||n!==o.node.getAttribute("data-focus-id")||(o.ariaHidden===null?o.node.removeAttribute("aria-hidden"):o.node.setAttribute("aria-hidden",o.ariaHidden),o.node.removeAttribute("data-focus-id"),o.node.removeAttribute("data-hidden"))})}}function NB(e=!0){const t=p.useRef(),n=p.useRef(null),r=s=>{let a=s.querySelector("[data-autofocus]");if(!a){const u=Array.from(s.querySelectorAll(Mk));a=u.find(Dk)||u.find(Zv)||null,!a&&Zv(s)&&(a=s)}a&&a.focus({preventScroll:!0})},o=p.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=AB(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)}},[e]);return p.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=a=>{a.key==="Tab"&&t.current&&DB(t.current,a)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),o}const zB=z["useId".toString()]||(()=>{});function $B(){const e=zB();return e?`mantine-${e.replace(/:/g,"")}`:""}function Q1(e){const t=$B(),[n,r]=p.useState(t);return Rk(()=>{r(X1())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function KS(e,t,n){p.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function LB(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function FB(...e){return t=>{e.forEach(n=>LB(n,t))}}function Nh(...e){return p.useCallback(FB(...e),e)}function Su({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,s]=p.useState(t!==void 0?t:n),a=u=>{s(u),r==null||r(u)};return e!==void 0?[e,r,!0]:[o,a,!1]}function Ak(e,t){return EB("(prefers-reduced-motion: reduce)",e,t)}const BB=e=>e<.5?2*e*e:-1+(4-2*e)*e,HB=({axis:e,target:t,parent:n,alignment:r,offset:o,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const a=!!n,d=(n||document.body).getBoundingClientRect(),f=t.getBoundingClientRect(),h=m=>f[m]-d[m];if(e==="y"){const m=h("top");if(m===0)return 0;if(r==="start"){const b=m-o;return b<=f.height*(s?0:1)||!s?b:0}const v=a?d.height:window.innerHeight;if(r==="end"){const b=m+o-v+f.height;return b>=-f.height*(s?0:1)||!s?b:0}return r==="center"?m-v/2+f.height/2:0}if(e==="x"){const m=h("left");if(m===0)return 0;if(r==="start"){const b=m-o;return b<=f.width||!s?b:0}const v=a?d.width:window.innerWidth;if(r==="end"){const b=m+o-v+f.width;return b>=-f.width||!s?b:0}return r==="center"?m-v/2+f.width/2:0}return 0},WB=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:o}=document;return r[n]+o[n]},VB=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:o,documentElement:s}=document;o[r]=n,s[r]=n}};function Nk({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=BB,offset:o=0,cancelable:s=!0,isList:a=!1}={}){const u=p.useRef(0),d=p.useRef(0),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),v=Ak(),b=()=>{u.current&&cancelAnimationFrame(u.current)},w=p.useCallback(({alignment:C="start"}={})=>{var P;f.current=!1,u.current&&b();const k=(P=WB({parent:h.current,axis:t}))!=null?P:0,_=HB({parent:h.current,target:m.current,axis:t,alignment:C,offset:o,isList:a})-(h.current?0:k);function E(){d.current===0&&(d.current=performance.now());const O=performance.now()-d.current,R=v||e===0?1:O/e,M=k+_*r(R);VB({parent:h.current,axis:t,distance:M}),!f.current&&R<1?u.current=requestAnimationFrame(E):(typeof n=="function"&&n(),d.current=0,u.current=0,b())}E()},[t,e,r,a,o,n,v]),S=()=>{s&&(f.current=!0)};return KS("wheel",S,{passive:!0}),KS("touchmove",S,{passive:!0}),p.useEffect(()=>b,[]),{scrollableRef:h,targetRef:m,scrollIntoView:w,cancel:b}}var XS=Object.getOwnPropertySymbols,UB=Object.prototype.hasOwnProperty,GB=Object.prototype.propertyIsEnumerable,qB=(e,t)=>{var n={};for(var r in e)UB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XS)for(var r of XS(e))t.indexOf(r)<0&&GB.call(e,r)&&(n[r]=e[r]);return n};function zh(e){const t=e,{m:n,mx:r,my:o,mt:s,mb:a,ml:u,mr:d,p:f,px:h,py:m,pt:v,pb:b,pl:w,pr:S,bg:C,c:P,opacity:k,ff:_,fz:E,fw:I,lts:O,ta:R,lh:M,fs:D,tt:$,td:A,w:G,miw:L,maw:F,h:W,mih:X,mah:N,bgsz:V,bgp:H,bgr:U,bga:ne,pos:ge,top:le,left:re,bottom:K,right:ae,inset:de,display:xe}=t,oe=qB(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:P7({m:n,mx:r,my:o,mt:s,mb:a,ml:u,mr:d,p:f,px:h,py:m,pt:v,pb:b,pl:w,pr:S,bg:C,c:P,opacity:k,ff:_,fz:E,fw:I,lts:O,ta:R,lh:M,fs:D,tt:$,td:A,w:G,miw:L,maw:F,h:W,mih:X,mah:N,bgsz:V,bgp:H,bgr:U,bga:ne,pos:ge,top:le,left:re,bottom:K,right:ae,inset:de,display:xe}),rest:oe}}function YB(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,o)=>i2(At({size:r,sizes:t.breakpoints}))-i2(At({size:o,sizes:t.breakpoints})));return"base"in e?["base",...n]:n}function KB({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return YB(e,t).reduce((a,u)=>{if(u==="base"&&e.base!==void 0){const f=n(e.base,t);return Array.isArray(r)?(r.forEach(h=>{a[h]=f}),a):(a[r]=f,a)}const d=n(e[u],t);return Array.isArray(r)?(a[t.fn.largerThan(u)]={},r.forEach(f=>{a[t.fn.largerThan(u)][f]=d}),a):(a[t.fn.largerThan(u)]={[r]:d},a)},{});const o=n(e,t);return Array.isArray(r)?r.reduce((s,a)=>(s[a]=o,s),{}):{[r]:o}}function XB(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function QB(e){return Le(e)}function ZB(e){return e}function JB(e,t){return At({size:e,sizes:t.fontSizes})}const eH=["-xs","-sm","-md","-lg","-xl"];function tH(e,t){return eH.includes(e)?`calc(${At({size:e.replace("-",""),sizes:t.spacing})} * -1)`:At({size:e,sizes:t.spacing})}const nH={identity:ZB,color:XB,size:QB,fontSize:JB,spacing:tH},rH={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var oH=Object.defineProperty,QS=Object.getOwnPropertySymbols,sH=Object.prototype.hasOwnProperty,aH=Object.prototype.propertyIsEnumerable,ZS=(e,t,n)=>t in e?oH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JS=(e,t)=>{for(var n in t||(t={}))sH.call(t,n)&&ZS(e,n,t[n]);if(QS)for(var n of QS(t))aH.call(t,n)&&ZS(e,n,t[n]);return e};function ew(e,t,n=rH){return Object.keys(n).reduce((o,s)=>(s in e&&e[s]!==void 0&&o.push(KB({value:e[s],getValue:nH[n[s].type],property:n[s].property,theme:t})),o),[]).reduce((o,s)=>(Object.keys(s).forEach(a=>{typeof s[a]=="object"&&s[a]!==null&&a in o?o[a]=JS(JS({},o[a]),s[a]):o[a]=s[a]}),o),{})}function tw(e,t){return typeof e=="function"?e(t):e}function iH(e,t,n){const r=xa(),{css:o,cx:s}=Ok();return Array.isArray(e)?s(n,o(ew(t,r)),e.map(a=>o(tw(a,r)))):s(n,o(tw(e,r)),o(ew(t,r)))}var lH=Object.defineProperty,fp=Object.getOwnPropertySymbols,zk=Object.prototype.hasOwnProperty,$k=Object.prototype.propertyIsEnumerable,nw=(e,t,n)=>t in e?lH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cH=(e,t)=>{for(var n in t||(t={}))zk.call(t,n)&&nw(e,n,t[n]);if(fp)for(var n of fp(t))$k.call(t,n)&&nw(e,n,t[n]);return e},uH=(e,t)=>{var n={};for(var r in e)zk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fp)for(var r of fp(e))t.indexOf(r)<0&&$k.call(e,r)&&(n[r]=e[r]);return n};const Lk=p.forwardRef((e,t)=>{var n=e,{className:r,component:o,style:s,sx:a}=n,u=uH(n,["className","component","style","sx"]);const{systemStyles:d,rest:f}=zh(u),h=o||"div";return z.createElement(h,cH({ref:t,className:iH(a,d,r),style:s},f))});Lk.displayName="@mantine/core/Box";const yo=Lk;var dH=Object.defineProperty,fH=Object.defineProperties,pH=Object.getOwnPropertyDescriptors,rw=Object.getOwnPropertySymbols,hH=Object.prototype.hasOwnProperty,mH=Object.prototype.propertyIsEnumerable,ow=(e,t,n)=>t in e?dH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sw=(e,t)=>{for(var n in t||(t={}))hH.call(t,n)&&ow(e,n,t[n]);if(rw)for(var n of rw(t))mH.call(t,n)&&ow(e,n,t[n]);return e},gH=(e,t)=>fH(e,pH(t)),vH=Qr(e=>({root:gH(sw(sw({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const yH=vH;var bH=Object.defineProperty,pp=Object.getOwnPropertySymbols,Fk=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable,aw=(e,t,n)=>t in e?bH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xH=(e,t)=>{for(var n in t||(t={}))Fk.call(t,n)&&aw(e,n,t[n]);if(pp)for(var n of pp(t))Bk.call(t,n)&&aw(e,n,t[n]);return e},SH=(e,t)=>{var n={};for(var r in e)Fk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pp)for(var r of pp(e))t.indexOf(r)<0&&Bk.call(e,r)&&(n[r]=e[r]);return n};const Hk=p.forwardRef((e,t)=>{const n=_r("UnstyledButton",{},e),{className:r,component:o="button",unstyled:s,variant:a}=n,u=SH(n,["className","component","unstyled","variant"]),{classes:d,cx:f}=yH(null,{name:"UnstyledButton",unstyled:s,variant:a});return z.createElement(yo,xH({component:o,ref:t,className:f(d.root,r),type:o==="button"?"button":void 0},u))});Hk.displayName="@mantine/core/UnstyledButton";const wH=Hk;var CH=Object.defineProperty,PH=Object.defineProperties,kH=Object.getOwnPropertyDescriptors,iw=Object.getOwnPropertySymbols,_H=Object.prototype.hasOwnProperty,jH=Object.prototype.propertyIsEnumerable,lw=(e,t,n)=>t in e?CH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jv=(e,t)=>{for(var n in t||(t={}))_H.call(t,n)&&lw(e,n,t[n]);if(iw)for(var n of iw(t))jH.call(t,n)&&lw(e,n,t[n]);return e},cw=(e,t)=>PH(e,kH(t));const EH=["subtle","filled","outline","light","default","transparent","gradient"],of={xs:Le(18),sm:Le(22),md:Le(28),lg:Le(34),xl:Le(44)};function IH({variant:e,theme:t,color:n,gradient:r}){const o=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:o.background,color:o.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:EH.includes(e)?Jv({border:`${Le(1)} solid ${o.border}`,backgroundColor:o.background,color:o.color},t.fn.hover({backgroundColor:o.hover})):null}var OH=Qr((e,{radius:t,color:n,gradient:r},{variant:o,size:s})=>({root:cw(Jv({position:"relative",borderRadius:e.fn.radius(t),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:At({size:s,sizes:of}),minHeight:At({size:s,sizes:of}),width:At({size:s,sizes:of}),minWidth:At({size:s,sizes:of})},IH({variant:o,theme:e,color:n,gradient:r})),{"&:active":e.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:o==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:o==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":cw(Jv({content:'""'},e.fn.cover(Le(-1))),{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(t),cursor:"not-allowed"})}})}));const RH=OH;var MH=Object.defineProperty,hp=Object.getOwnPropertySymbols,Wk=Object.prototype.hasOwnProperty,Vk=Object.prototype.propertyIsEnumerable,uw=(e,t,n)=>t in e?MH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TH=(e,t)=>{for(var n in t||(t={}))Wk.call(t,n)&&uw(e,n,t[n]);if(hp)for(var n of hp(t))Vk.call(t,n)&&uw(e,n,t[n]);return e},DH=(e,t)=>{var n={};for(var r in e)Wk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hp)for(var r of hp(e))t.indexOf(r)<0&&Vk.call(e,r)&&(n[r]=e[r]);return n};function AH(e){var t=e,{size:n,color:r}=t,o=DH(t,["size","color"]);return z.createElement("svg",TH({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:n},o),z.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},z.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),z.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},z.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),z.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},z.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),z.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},z.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),z.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},z.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var NH=Object.defineProperty,mp=Object.getOwnPropertySymbols,Uk=Object.prototype.hasOwnProperty,Gk=Object.prototype.propertyIsEnumerable,dw=(e,t,n)=>t in e?NH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zH=(e,t)=>{for(var n in t||(t={}))Uk.call(t,n)&&dw(e,n,t[n]);if(mp)for(var n of mp(t))Gk.call(t,n)&&dw(e,n,t[n]);return e},$H=(e,t)=>{var n={};for(var r in e)Uk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mp)for(var r of mp(e))t.indexOf(r)<0&&Gk.call(e,r)&&(n[r]=e[r]);return n};function LH(e){var t=e,{size:n,color:r}=t,o=$H(t,["size","color"]);return z.createElement("svg",zH({width:n,height:n,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},o),z.createElement("g",{fill:"none",fillRule:"evenodd"},z.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},z.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),z.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},z.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var FH=Object.defineProperty,gp=Object.getOwnPropertySymbols,qk=Object.prototype.hasOwnProperty,Yk=Object.prototype.propertyIsEnumerable,fw=(e,t,n)=>t in e?FH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BH=(e,t)=>{for(var n in t||(t={}))qk.call(t,n)&&fw(e,n,t[n]);if(gp)for(var n of gp(t))Yk.call(t,n)&&fw(e,n,t[n]);return e},HH=(e,t)=>{var n={};for(var r in e)qk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gp)for(var r of gp(e))t.indexOf(r)<0&&Yk.call(e,r)&&(n[r]=e[r]);return n};function WH(e){var t=e,{size:n,color:r}=t,o=HH(t,["size","color"]);return z.createElement("svg",BH({width:n,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},o),z.createElement("circle",{cx:"15",cy:"15",r:"15"},z.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),z.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},z.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),z.createElement("circle",{cx:"105",cy:"15",r:"15"},z.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),z.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var VH=Object.defineProperty,vp=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,Xk=Object.prototype.propertyIsEnumerable,pw=(e,t,n)=>t in e?VH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UH=(e,t)=>{for(var n in t||(t={}))Kk.call(t,n)&&pw(e,n,t[n]);if(vp)for(var n of vp(t))Xk.call(t,n)&&pw(e,n,t[n]);return e},GH=(e,t)=>{var n={};for(var r in e)Kk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vp)for(var r of vp(e))t.indexOf(r)<0&&Xk.call(e,r)&&(n[r]=e[r]);return n};const Ug={bars:AH,oval:LH,dots:WH},qH={xs:Le(18),sm:Le(22),md:Le(36),lg:Le(44),xl:Le(58)},YH={size:"md"};function Qk(e){const t=_r("Loader",YH,e),{size:n,color:r,variant:o}=t,s=GH(t,["size","color","variant"]),a=xa(),u=o in Ug?o:a.loader;return z.createElement(yo,UH({role:"presentation",component:Ug[u]||Ug.bars,size:At({size:n,sizes:qH}),color:a.fn.variant({variant:"filled",primaryFallback:!1,color:r||a.primaryColor}).background},s))}Qk.displayName="@mantine/core/Loader";var KH=Object.defineProperty,yp=Object.getOwnPropertySymbols,Zk=Object.prototype.hasOwnProperty,Jk=Object.prototype.propertyIsEnumerable,hw=(e,t,n)=>t in e?KH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mw=(e,t)=>{for(var n in t||(t={}))Zk.call(t,n)&&hw(e,n,t[n]);if(yp)for(var n of yp(t))Jk.call(t,n)&&hw(e,n,t[n]);return e},XH=(e,t)=>{var n={};for(var r in e)Zk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yp)for(var r of yp(e))t.indexOf(r)<0&&Jk.call(e,r)&&(n[r]=e[r]);return n};const QH={color:"gray",size:"md",variant:"subtle"},e_=p.forwardRef((e,t)=>{const n=_r("ActionIcon",QH,e),{className:r,color:o,children:s,radius:a,size:u,variant:d,gradient:f,disabled:h,loaderProps:m,loading:v,unstyled:b,__staticSelector:w}=n,S=XH(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:C,cx:P,theme:k}=RH({radius:a,color:o,gradient:f},{name:["ActionIcon",w],unstyled:b,size:u,variant:d}),_=z.createElement(Qk,mw({color:k.fn.variant({color:o,variant:d}).color,size:"100%","data-action-icon-loader":!0},m));return z.createElement(wH,mw({className:P(C.root,r),ref:t,disabled:h,"data-disabled":h||void 0,"data-loading":v||void 0,unstyled:b},S),v?_:s)});e_.displayName="@mantine/core/ActionIcon";const ZH=e_;var JH=Object.defineProperty,eW=Object.defineProperties,tW=Object.getOwnPropertyDescriptors,bp=Object.getOwnPropertySymbols,t_=Object.prototype.hasOwnProperty,n_=Object.prototype.propertyIsEnumerable,gw=(e,t,n)=>t in e?JH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nW=(e,t)=>{for(var n in t||(t={}))t_.call(t,n)&&gw(e,n,t[n]);if(bp)for(var n of bp(t))n_.call(t,n)&&gw(e,n,t[n]);return e},rW=(e,t)=>eW(e,tW(t)),oW=(e,t)=>{var n={};for(var r in e)t_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bp)for(var r of bp(e))t.indexOf(r)<0&&n_.call(e,r)&&(n[r]=e[r]);return n};function r_(e){const t=_r("Portal",{},e),{children:n,target:r,className:o,innerRef:s}=t,a=oW(t,["children","target","className","innerRef"]),u=xa(),[d,f]=p.useState(!1),h=p.useRef();return Rk(()=>(f(!0),h.current=r?typeof r=="string"?document.querySelector(r):r:document.createElement("div"),r||document.body.appendChild(h.current),()=>{!r&&document.body.removeChild(h.current)}),[r]),d?lc.createPortal(z.createElement("div",rW(nW({className:o,dir:u.dir},a),{ref:s}),n),h.current):null}r_.displayName="@mantine/core/Portal";var sW=Object.defineProperty,xp=Object.getOwnPropertySymbols,o_=Object.prototype.hasOwnProperty,s_=Object.prototype.propertyIsEnumerable,vw=(e,t,n)=>t in e?sW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aW=(e,t)=>{for(var n in t||(t={}))o_.call(t,n)&&vw(e,n,t[n]);if(xp)for(var n of xp(t))s_.call(t,n)&&vw(e,n,t[n]);return e},iW=(e,t)=>{var n={};for(var r in e)o_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xp)for(var r of xp(e))t.indexOf(r)<0&&s_.call(e,r)&&(n[r]=e[r]);return n};function a_(e){var t=e,{withinPortal:n=!0,children:r}=t,o=iW(t,["withinPortal","children"]);return n?z.createElement(r_,aW({},o),r):z.createElement(z.Fragment,null,r)}a_.displayName="@mantine/core/OptionalPortal";var lW=Object.defineProperty,yw=Object.getOwnPropertySymbols,cW=Object.prototype.hasOwnProperty,uW=Object.prototype.propertyIsEnumerable,bw=(e,t,n)=>t in e?lW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dW=(e,t)=>{for(var n in t||(t={}))cW.call(t,n)&&bw(e,n,t[n]);if(yw)for(var n of yw(t))uW.call(t,n)&&bw(e,n,t[n]);return e};function i_(e){return z.createElement("svg",dW({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),z.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}i_.displayName="@mantine/core/CloseIcon";var fW=Object.defineProperty,Sp=Object.getOwnPropertySymbols,l_=Object.prototype.hasOwnProperty,c_=Object.prototype.propertyIsEnumerable,xw=(e,t,n)=>t in e?fW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pW=(e,t)=>{for(var n in t||(t={}))l_.call(t,n)&&xw(e,n,t[n]);if(Sp)for(var n of Sp(t))c_.call(t,n)&&xw(e,n,t[n]);return e},hW=(e,t)=>{var n={};for(var r in e)l_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Sp)for(var r of Sp(e))t.indexOf(r)<0&&c_.call(e,r)&&(n[r]=e[r]);return n};const mW={xs:Le(12),sm:Le(16),md:Le(20),lg:Le(28),xl:Le(34)},gW={size:"sm"},u_=p.forwardRef((e,t)=>{const n=_r("CloseButton",gW,e),{iconSize:r,size:o,children:s}=n,a=hW(n,["iconSize","size","children"]),u=Le(r||mW[o]);return z.createElement(ZH,pW({ref:t,__staticSelector:"CloseButton",size:o},a),s||z.createElement(i_,{width:u,height:u}))});u_.displayName="@mantine/core/CloseButton";const d_=u_;var vW=Object.defineProperty,yW=Object.defineProperties,bW=Object.getOwnPropertyDescriptors,Sw=Object.getOwnPropertySymbols,xW=Object.prototype.hasOwnProperty,SW=Object.prototype.propertyIsEnumerable,ww=(e,t,n)=>t in e?vW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sf=(e,t)=>{for(var n in t||(t={}))xW.call(t,n)&&ww(e,n,t[n]);if(Sw)for(var n of Sw(t))SW.call(t,n)&&ww(e,n,t[n]);return e},wW=(e,t)=>yW(e,bW(t));function CW({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function PW({theme:e,color:t}){return t==="dimmed"?e.fn.dimmed():typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:t||"inherit"}function kW(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function _W({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var jW=Qr((e,{color:t,lineClamp:n,truncate:r,inline:o,inherit:s,underline:a,gradient:u,weight:d,transform:f,align:h,strikethrough:m,italic:v},{size:b})=>{const w=e.fn.variant({variant:"gradient",gradient:u});return{root:wW(sf(sf(sf(sf({},e.fn.fontStyles()),e.fn.focusStyles()),kW(n)),_W({theme:e,truncate:r})),{color:PW({color:t,theme:e}),fontFamily:s?"inherit":e.fontFamily,fontSize:s||b===void 0?"inherit":At({size:b,sizes:e.fontSizes}),lineHeight:s?"inherit":o?1:e.lineHeight,textDecoration:CW({underline:a,strikethrough:m}),WebkitTapHighlightColor:"transparent",fontWeight:s?"inherit":d,textTransform:f,textAlign:h,fontStyle:v?"italic":void 0}),gradient:{backgroundImage:w.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const EW=jW;var IW=Object.defineProperty,wp=Object.getOwnPropertySymbols,f_=Object.prototype.hasOwnProperty,p_=Object.prototype.propertyIsEnumerable,Cw=(e,t,n)=>t in e?IW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OW=(e,t)=>{for(var n in t||(t={}))f_.call(t,n)&&Cw(e,n,t[n]);if(wp)for(var n of wp(t))p_.call(t,n)&&Cw(e,n,t[n]);return e},RW=(e,t)=>{var n={};for(var r in e)f_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wp)for(var r of wp(e))t.indexOf(r)<0&&p_.call(e,r)&&(n[r]=e[r]);return n};const MW={variant:"text"},h_=p.forwardRef((e,t)=>{const n=_r("Text",MW,e),{className:r,size:o,weight:s,transform:a,color:u,align:d,variant:f,lineClamp:h,truncate:m,gradient:v,inline:b,inherit:w,underline:S,strikethrough:C,italic:P,classNames:k,styles:_,unstyled:E,span:I,__staticSelector:O}=n,R=RW(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:M,cx:D}=EW({color:u,lineClamp:h,truncate:m,inline:b,inherit:w,underline:S,strikethrough:C,italic:P,weight:s,transform:a,align:d,gradient:v},{unstyled:E,name:O||"Text",variant:f,size:o});return z.createElement(yo,OW({ref:t,className:D(M.root,{[M.gradient]:f==="gradient"},r),component:I?"span":"div"},R))});h_.displayName="@mantine/core/Text";const ql=h_,af={xs:Le(1),sm:Le(2),md:Le(3),lg:Le(4),xl:Le(5)};function lf(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var TW=Qr((e,{color:t},{size:n,variant:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:Le(1),borderTop:`${At({size:n,sizes:af})} ${r} ${lf(e,t)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${At({size:n,sizes:af})} ${r} ${lf(e,t)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:t==="dark"?e.colors.dark[1]:e.fn.themeColor(t,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:Le(At({size:n,sizes:af})),borderTopColor:lf(e,t),borderTopStyle:r,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:Le(At({size:n,sizes:af})),borderLeftColor:lf(e,t),borderLeftStyle:r}}));const DW=TW;var AW=Object.defineProperty,NW=Object.defineProperties,zW=Object.getOwnPropertyDescriptors,Cp=Object.getOwnPropertySymbols,m_=Object.prototype.hasOwnProperty,g_=Object.prototype.propertyIsEnumerable,Pw=(e,t,n)=>t in e?AW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kw=(e,t)=>{for(var n in t||(t={}))m_.call(t,n)&&Pw(e,n,t[n]);if(Cp)for(var n of Cp(t))g_.call(t,n)&&Pw(e,n,t[n]);return e},$W=(e,t)=>NW(e,zW(t)),LW=(e,t)=>{var n={};for(var r in e)m_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cp)for(var r of Cp(e))t.indexOf(r)<0&&g_.call(e,r)&&(n[r]=e[r]);return n};const FW={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},e0=p.forwardRef((e,t)=>{const n=_r("Divider",FW,e),{className:r,color:o,orientation:s,size:a,label:u,labelPosition:d,labelProps:f,variant:h,styles:m,classNames:v,unstyled:b}=n,w=LW(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:S,cx:C}=DW({color:o},{classNames:v,styles:m,unstyled:b,name:"Divider",variant:h,size:a}),P=s==="vertical",k=s==="horizontal",_=!!u&&k,E=!(f!=null&&f.color);return z.createElement(yo,kw({ref:t,className:C(S.root,{[S.vertical]:P,[S.horizontal]:k,[S.withLabel]:_},r),role:"separator"},w),_&&z.createElement(ql,$W(kw({},f),{size:(f==null?void 0:f.size)||"xs",mt:Le(2),className:C(S.label,S[d],{[S.labelDefaultStyles]:E})}),u))});e0.displayName="@mantine/core/Divider";var BW=Object.defineProperty,HW=Object.defineProperties,WW=Object.getOwnPropertyDescriptors,_w=Object.getOwnPropertySymbols,VW=Object.prototype.hasOwnProperty,UW=Object.prototype.propertyIsEnumerable,jw=(e,t,n)=>t in e?BW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ew=(e,t)=>{for(var n in t||(t={}))VW.call(t,n)&&jw(e,n,t[n]);if(_w)for(var n of _w(t))UW.call(t,n)&&jw(e,n,t[n]);return e},GW=(e,t)=>HW(e,WW(t)),qW=Qr((e,t,{size:n})=>({item:GW(Ew({},e.fn.fontStyles()),{boxSizing:"border-box",wordBreak:"break-all",textAlign:"left",width:"100%",padding:`calc(${At({size:n,sizes:e.spacing})} / 1.5) ${At({size:n,sizes:e.spacing})}`,cursor:"pointer",fontSize:At({size:n,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":Ew({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:`calc(${At({size:n,sizes:e.spacing})} / 2)`,paddingBottom:`calc(${At({size:n,sizes:e.spacing})} / 2)`,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`calc(${At({size:n,sizes:e.spacing})} / 1.5) ${At({size:n,sizes:e.spacing})}`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const YW=qW;var KW=Object.defineProperty,Iw=Object.getOwnPropertySymbols,XW=Object.prototype.hasOwnProperty,QW=Object.prototype.propertyIsEnumerable,Ow=(e,t,n)=>t in e?KW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZW=(e,t)=>{for(var n in t||(t={}))XW.call(t,n)&&Ow(e,n,t[n]);if(Iw)for(var n of Iw(t))QW.call(t,n)&&Ow(e,n,t[n]);return e};function Z1({data:e,hovered:t,classNames:n,styles:r,isItemSelected:o,uuid:s,__staticSelector:a,onItemHover:u,onItemSelect:d,itemsRefs:f,itemComponent:h,size:m,nothingFound:v,creatable:b,createLabel:w,unstyled:S,variant:C}){const{classes:P}=YW(null,{classNames:n,styles:r,unstyled:S,name:a,variant:C,size:m}),k=[],_=[];let E=null;const I=(R,M)=>{const D=typeof o=="function"?o(R.value):!1;return z.createElement(h,ZW({key:R.value,className:P.item,"data-disabled":R.disabled||void 0,"data-hovered":!R.disabled&&t===M||void 0,"data-selected":!R.disabled&&D||void 0,selected:D,onMouseEnter:()=>u(M),id:`${s}-${M}`,role:"option",tabIndex:-1,"aria-selected":t===M,ref:$=>{f&&f.current&&(f.current[R.value]=$)},onMouseDown:R.disabled?null:$=>{$.preventDefault(),d(R)},disabled:R.disabled,variant:C},R))};let O=null;if(e.forEach((R,M)=>{R.creatable?E=M:R.group?(O!==R.group&&(O=R.group,_.push(z.createElement("div",{className:P.separator,key:`__mantine-divider-${M}`},z.createElement(e0,{classNames:{label:P.separatorLabel},label:R.group})))),_.push(I(R,M))):k.push(I(R,M))}),b){const R=e[E];k.push(z.createElement("div",{key:X1(),className:P.item,"data-hovered":t===E||void 0,onMouseEnter:()=>u(E),onMouseDown:M=>{M.preventDefault(),d(R)},tabIndex:-1,ref:M=>{f&&f.current&&(f.current[R.value]=M)}},w))}return _.length>0&&k.length>0&&k.unshift(z.createElement("div",{className:P.separator,key:"empty-group-separator"},z.createElement(e0,null))),_.length>0||k.length>0?z.createElement(z.Fragment,null,_,k):z.createElement(ql,{size:m,unstyled:S,className:P.nothingFound},v)}Z1.displayName="@mantine/core/SelectItems";var JW=Object.defineProperty,Pp=Object.getOwnPropertySymbols,v_=Object.prototype.hasOwnProperty,y_=Object.prototype.propertyIsEnumerable,Rw=(e,t,n)=>t in e?JW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eV=(e,t)=>{for(var n in t||(t={}))v_.call(t,n)&&Rw(e,n,t[n]);if(Pp)for(var n of Pp(t))y_.call(t,n)&&Rw(e,n,t[n]);return e},tV=(e,t)=>{var n={};for(var r in e)v_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pp)for(var r of Pp(e))t.indexOf(r)<0&&y_.call(e,r)&&(n[r]=e[r]);return n};const J1=p.forwardRef((e,t)=>{var n=e,{label:r,value:o}=n,s=tV(n,["label","value"]);return z.createElement("div",eV({ref:t},s),r||o)});J1.displayName="@mantine/core/DefaultItem";function nV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function b_(...e){return t=>e.forEach(n=>nV(n,t))}function el(...e){return p.useCallback(b_(...e),e)}const x_=p.forwardRef((e,t)=>{const{children:n,...r}=e,o=p.Children.toArray(n),s=o.find(oV);if(s){const a=s.props.children,u=o.map(d=>d===s?p.Children.count(a)>1?p.Children.only(null):p.isValidElement(a)?a.props.children:null:d);return p.createElement(t0,tr({},r,{ref:t}),p.isValidElement(a)?p.cloneElement(a,void 0,u):null)}return p.createElement(t0,tr({},r,{ref:t}),n)});x_.displayName="Slot";const t0=p.forwardRef((e,t)=>{const{children:n,...r}=e;return p.isValidElement(n)?p.cloneElement(n,{...sV(r,n.props),ref:b_(t,n.ref)}):p.Children.count(n)>1?p.Children.only(null):null});t0.displayName="SlotClone";const rV=({children:e})=>p.createElement(p.Fragment,null,e);function oV(e){return p.isValidElement(e)&&e.type===rV}function sV(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...u)=>{s(...u),o(...u)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const aV=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],Uu=aV.reduce((e,t)=>{const n=p.forwardRef((r,o)=>{const{asChild:s,...a}=r,u=s?x_:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(u,tr({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),n0=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function iV(e,t){return p.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Gu=e=>{const{present:t,children:n}=e,r=lV(t),o=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=el(r.ref,o.ref);return typeof n=="function"||r.isPresent?p.cloneElement(o,{ref:s}):null};Gu.displayName="Presence";function lV(e){const[t,n]=p.useState(),r=p.useRef({}),o=p.useRef(e),s=p.useRef("none"),a=e?"mounted":"unmounted",[u,d]=iV(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=cf(r.current);s.current=u==="mounted"?f:"none"},[u]),n0(()=>{const f=r.current,h=o.current;if(h!==e){const v=s.current,b=cf(f);e?d("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(h&&v!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),n0(()=>{if(t){const f=m=>{const b=cf(r.current).includes(m.animationName);m.target===t&&b&&lc.flushSync(()=>d("ANIMATION_END"))},h=m=>{m.target===t&&(s.current=cf(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function cf(e){return(e==null?void 0:e.animationName)||"none"}function cV(e,t=[]){let n=[];function r(s,a){const u=p.createContext(a),d=n.length;n=[...n,a];function f(m){const{scope:v,children:b,...w}=m,S=(v==null?void 0:v[e][d])||u,C=p.useMemo(()=>w,Object.values(w));return p.createElement(S.Provider,{value:C},b)}function h(m,v){const b=(v==null?void 0:v[e][d])||u,w=p.useContext(b);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,h]}const o=()=>{const s=n.map(a=>p.createContext(a));return function(u){const d=(u==null?void 0:u[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return o.scopeName=e,[r,uV(o,...t)]}function uV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((u,{useScope:d,scopeName:f})=>{const m=d(s)[`__scope${f}`];return{...u,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function ki(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const dV=p.createContext(void 0);function fV(e){const t=p.useContext(dV);return e||t||"ltr"}function pV(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ai(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function hV(e,t){return p.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const S_="ScrollArea",[w_,Cae]=cV(S_),[mV,ss]=w_(S_),gV=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...a}=e,[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState(null),[b,w]=p.useState(null),[S,C]=p.useState(null),[P,k]=p.useState(0),[_,E]=p.useState(0),[I,O]=p.useState(!1),[R,M]=p.useState(!1),D=el(t,A=>d(A)),$=fV(o);return p.createElement(mV,{scope:n,type:r,dir:$,scrollHideDelay:s,scrollArea:u,viewport:f,onViewportChange:h,content:m,onContentChange:v,scrollbarX:b,onScrollbarXChange:w,scrollbarXEnabled:I,onScrollbarXEnabledChange:O,scrollbarY:S,onScrollbarYChange:C,scrollbarYEnabled:R,onScrollbarYEnabledChange:M,onCornerWidthChange:k,onCornerHeightChange:E},p.createElement(Uu.div,tr({dir:$},a,{ref:D,style:{position:"relative",["--radix-scroll-area-corner-width"]:P+"px",["--radix-scroll-area-corner-height"]:_+"px",...e.style}})))}),vV="ScrollAreaViewport",yV=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...o}=e,s=ss(vV,n),a=p.useRef(null),u=el(t,a,s.onViewportChange);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(Uu.div,tr({"data-radix-scroll-area-viewport":""},o,{ref:u,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),p.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ca="ScrollAreaScrollbar",bV=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ss(Ca,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=o,u=e.orientation==="horizontal";return p.useEffect(()=>(u?s(!0):a(!0),()=>{u?s(!1):a(!1)}),[u,s,a]),o.type==="hover"?p.createElement(xV,tr({},r,{ref:t,forceMount:n})):o.type==="scroll"?p.createElement(SV,tr({},r,{ref:t,forceMount:n})):o.type==="auto"?p.createElement(C_,tr({},r,{ref:t,forceMount:n})):o.type==="always"?p.createElement(ey,tr({},r,{ref:t})):null}),xV=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ss(Ca,e.__scopeScrollArea),[s,a]=p.useState(!1);return p.useEffect(()=>{const u=o.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),a(!0)},h=()=>{d=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),p.createElement(Gu,{present:n||s},p.createElement(C_,tr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),SV=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ss(Ca,e.__scopeScrollArea),s=e.orientation==="horizontal",a=Lh(()=>d("SCROLL_END"),100),[u,d]=hV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,o.scrollHideDelay,d]),p.useEffect(()=>{const f=o.viewport,h=s?"scrollLeft":"scrollTop";if(f){let m=f[h];const v=()=>{const b=f[h];m!==b&&(d("SCROLL"),a()),m=b};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[o.viewport,s,d,a]),p.createElement(Gu,{present:n||u!=="hidden"},p.createElement(ey,tr({"data-state":u==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Ai(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ai(e.onPointerLeave,()=>d("POINTER_LEAVE"))})))}),C_=p.forwardRef((e,t)=>{const n=ss(Ca,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,a]=p.useState(!1),u=e.orientation==="horizontal",d=Lh(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(u?f:h)}},10);return Yl(n.viewport,d),Yl(n.content,d),p.createElement(Gu,{present:r||s},p.createElement(ey,tr({"data-state":s?"visible":"hidden"},o,{ref:t})))}),ey=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=ss(Ca,e.__scopeScrollArea),s=p.useRef(null),a=p.useRef(0),[u,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=j_(u.viewport,u.content),h={...r,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:v=>s.current=v,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:v=>a.current=v};function m(v,b){return IV(v,a.current,u,b)}return n==="horizontal"?p.createElement(wV,tr({},h,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const v=o.viewport.scrollLeft,b=Mw(v,u,o.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=m(v,o.dir))}})):n==="vertical"?p.createElement(CV,tr({},h,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const v=o.viewport.scrollTop,b=Mw(v,u);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=m(v))}})):null}),wV=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ss(Ca,e.__scopeScrollArea),[a,u]=p.useState(),d=p.useRef(null),f=el(t,d,s.onScrollbarXChange);return p.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),p.createElement(k_,tr({"data-orientation":"horizontal"},o,{ref:f,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,["--radix-scroll-area-thumb-width"]:$h(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(s.viewport){const v=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),I_(v,m)&&h.preventDefault()}},onResize:()=>{d.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:kp(a.paddingLeft),paddingEnd:kp(a.paddingRight)}})}}))}),CV=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ss(Ca,e.__scopeScrollArea),[a,u]=p.useState(),d=p.useRef(null),f=el(t,d,s.onScrollbarYChange);return p.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),p.createElement(k_,tr({"data-orientation":"vertical"},o,{ref:f,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)",["--radix-scroll-area-thumb-height"]:$h(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(s.viewport){const v=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),I_(v,m)&&h.preventDefault()}},onResize:()=>{d.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:kp(a.paddingTop),paddingEnd:kp(a.paddingBottom)}})}}))}),[PV,P_]=w_(Ca),k_=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:h,onResize:m,...v}=e,b=ss(Ca,n),[w,S]=p.useState(null),C=el(t,D=>S(D)),P=p.useRef(null),k=p.useRef(""),_=b.viewport,E=r.content-r.viewport,I=ki(h),O=ki(d),R=Lh(m,10);function M(D){if(P.current){const $=D.clientX-P.current.left,A=D.clientY-P.current.top;f({x:$,y:A})}}return p.useEffect(()=>{const D=$=>{const A=$.target;(w==null?void 0:w.contains(A))&&I($,E)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[_,w,E,I]),p.useEffect(O,[r,O]),Yl(w,R),Yl(b.content,R),p.createElement(PV,{scope:n,scrollbar:w,hasThumb:o,onThumbChange:ki(s),onThumbPointerUp:ki(a),onThumbPositionChange:O,onThumbPointerDown:ki(u)},p.createElement(Uu.div,tr({},v,{ref:C,style:{position:"absolute",...v.style},onPointerDown:Ai(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),P.current=w.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",M(D))}),onPointerMove:Ai(e.onPointerMove,M),onPointerUp:Ai(e.onPointerUp,D=>{const $=D.target;$.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=k.current,P.current=null})})))}),r0="ScrollAreaThumb",kV=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=P_(r0,e.__scopeScrollArea);return p.createElement(Gu,{present:n||o.hasThumb},p.createElement(_V,tr({ref:t},r)))}),_V=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=ss(r0,n),a=P_(r0,n),{onThumbPositionChange:u}=a,d=el(t,m=>a.onThumbChange(m)),f=p.useRef(),h=Lh(()=>{f.current&&(f.current(),f.current=void 0)},100);return p.useEffect(()=>{const m=s.viewport;if(m){const v=()=>{if(h(),!f.current){const b=OV(m,u);f.current=b,u()}};return u(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[s.viewport,h,u]),p.createElement(Uu.div,tr({"data-state":a.hasThumb?"visible":"hidden"},o,{ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ai(e.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),w=m.clientX-b.left,S=m.clientY-b.top;a.onThumbPointerDown({x:w,y:S})}),onPointerUp:Ai(e.onPointerUp,a.onThumbPointerUp)}))}),__="ScrollAreaCorner",jV=p.forwardRef((e,t)=>{const n=ss(__,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.createElement(EV,tr({},e,{ref:t})):null}),EV=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=ss(__,n),[s,a]=p.useState(0),[u,d]=p.useState(0),f=!!(s&&u);return Yl(o.scrollbarX,()=>{var h;const m=((h=o.scrollbarX)===null||h===void 0?void 0:h.offsetHeight)||0;o.onCornerHeightChange(m),d(m)}),Yl(o.scrollbarY,()=>{var h;const m=((h=o.scrollbarY)===null||h===void 0?void 0:h.offsetWidth)||0;o.onCornerWidthChange(m),a(m)}),f?p.createElement(Uu.div,tr({},r,{ref:t,style:{width:s,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function kp(e){return e?parseInt(e,10):0}function j_(e,t){const n=e/t;return isNaN(n)?0:n}function $h(e){const t=j_(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function IV(e,t,n,r="ltr"){const o=$h(n),s=o/2,a=t||s,u=o-a,d=n.scrollbar.paddingStart+a,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return E_([d,f],m)(e)}function Mw(e,t,n="ltr"){const r=$h(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,a=t.content-t.viewport,u=s-r,d=n==="ltr"?[0,a]:[a*-1,0],f=pV(e,d);return E_([0,a],[0,u])(f)}function E_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function I_(e,t){return e>0&&e<t}const OV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,u=n.top!==s.top;(a||u)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Lh(e,t){const n=ki(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Yl(e,t){const n=ki(t);n0(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const RV=gV,MV=yV,Tw=bV,Dw=kV,TV=jV;var DV=Qr((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:o})=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?Le(t):void 0,paddingBottom:n?Le(t):void 0},scrollbar:{display:o?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${Le(t)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${US("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:Le(t)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:Le(t)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:US("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:Le(t),position:"relative",transition:"background-color 150ms ease",display:o?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:Le(44),minHeight:Le(44)}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:o?"none":void 0}}));const AV=DV;var NV=Object.defineProperty,zV=Object.defineProperties,$V=Object.getOwnPropertyDescriptors,_p=Object.getOwnPropertySymbols,O_=Object.prototype.hasOwnProperty,R_=Object.prototype.propertyIsEnumerable,Aw=(e,t,n)=>t in e?NV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o0=(e,t)=>{for(var n in t||(t={}))O_.call(t,n)&&Aw(e,n,t[n]);if(_p)for(var n of _p(t))R_.call(t,n)&&Aw(e,n,t[n]);return e},M_=(e,t)=>zV(e,$V(t)),T_=(e,t)=>{var n={};for(var r in e)O_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_p)for(var r of _p(e))t.indexOf(r)<0&&R_.call(e,r)&&(n[r]=e[r]);return n};const D_={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},Fh=p.forwardRef((e,t)=>{const n=_r("ScrollArea",D_,e),{children:r,className:o,classNames:s,styles:a,scrollbarSize:u,scrollHideDelay:d,type:f,dir:h,offsetScrollbars:m,viewportRef:v,onScrollPositionChange:b,unstyled:w,variant:S,viewportProps:C}=n,P=T_(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[k,_]=p.useState(!1),E=xa(),{classes:I,cx:O}=AV({scrollbarSize:u,offsetScrollbars:m,scrollbarHovered:k,hidden:f==="never"},{name:"ScrollArea",classNames:s,styles:a,unstyled:w,variant:S});return z.createElement(RV,{type:f==="never"?"always":f,scrollHideDelay:d,dir:h||E.dir,ref:t,asChild:!0},z.createElement(yo,o0({className:O(I.root,o)},P),z.createElement(MV,M_(o0({},C),{className:I.viewport,ref:v,onScroll:typeof b=="function"?({currentTarget:R})=>b({x:R.scrollLeft,y:R.scrollTop}):void 0}),r),z.createElement(Tw,{orientation:"horizontal",className:I.scrollbar,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1)},z.createElement(Dw,{className:I.thumb})),z.createElement(Tw,{orientation:"vertical",className:I.scrollbar,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1)},z.createElement(Dw,{className:I.thumb})),z.createElement(TV,{className:I.corner})))}),A_=p.forwardRef((e,t)=>{const n=_r("ScrollAreaAutosize",D_,e),{children:r,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:u,type:d,dir:f,offsetScrollbars:h,viewportRef:m,onScrollPositionChange:v,unstyled:b,sx:w,variant:S,viewportProps:C}=n,P=T_(n,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return z.createElement(yo,M_(o0({},P),{ref:t,sx:[{display:"flex"},...kk(w)]}),z.createElement(yo,{sx:{display:"flex",flexDirection:"column",flex:1}},z.createElement(Fh,{classNames:o,styles:s,scrollHideDelay:u,scrollbarSize:a,type:d,dir:f,offsetScrollbars:h,viewportRef:m,onScrollPositionChange:v,unstyled:b,variant:S,viewportProps:C},r)))});A_.displayName="@mantine/core/ScrollAreaAutosize";Fh.displayName="@mantine/core/ScrollArea";Fh.Autosize=A_;const LV=Fh;var FV=Object.defineProperty,BV=Object.defineProperties,HV=Object.getOwnPropertyDescriptors,jp=Object.getOwnPropertySymbols,N_=Object.prototype.hasOwnProperty,z_=Object.prototype.propertyIsEnumerable,Nw=(e,t,n)=>t in e?FV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zw=(e,t)=>{for(var n in t||(t={}))N_.call(t,n)&&Nw(e,n,t[n]);if(jp)for(var n of jp(t))z_.call(t,n)&&Nw(e,n,t[n]);return e},WV=(e,t)=>BV(e,HV(t)),VV=(e,t)=>{var n={};for(var r in e)N_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jp)for(var r of jp(e))t.indexOf(r)<0&&z_.call(e,r)&&(n[r]=e[r]);return n};const Bh=p.forwardRef((e,t)=>{var n=e,{style:r}=n,o=VV(n,["style"]);return z.createElement(LV,WV(zw({},o),{style:zw({width:"100%"},r),viewportProps:{tabIndex:-1},viewportRef:t}),o.children)});Bh.displayName="@mantine/core/SelectScrollArea";var UV=Qr(()=>({dropdown:{},itemsWrapper:{padding:Le(4),display:"flex",width:"100%",boxSizing:"border-box"}}));const GV=UV;function mc(e){return e.split("-")[1]}function ty(e){return e==="y"?"height":"width"}function Ss(e){return e.split("-")[0]}function ai(e){return["top","bottom"].includes(Ss(e))?"x":"y"}function $w(e,t,n){let{reference:r,floating:o}=e;const s=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,u=ai(t),d=ty(u),f=r[d]/2-o[d]/2,h=u==="x";let m;switch(Ss(t)){case"top":m={x:s,y:r.y-o.height};break;case"bottom":m={x:s,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:a};break;case"left":m={x:r.x-o.width,y:a};break;default:m={x:r.x,y:r.y}}switch(mc(t)){case"start":m[u]-=f*(n&&h?-1:1);break;case"end":m[u]+=f*(n&&h?-1:1)}return m}const qV=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,u=s.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:m}=$w(f,r,d),v=r,b={},w=0;for(let S=0;S<u.length;S++){const{name:C,fn:P}=u[S],{x:k,y:_,data:E,reset:I}=await P({x:h,y:m,initialPlacement:r,placement:v,strategy:o,middlewareData:b,rects:f,platform:a,elements:{reference:e,floating:t}});h=k??h,m=_??m,b={...b,[C]:{...b[C],...E}},I&&w<=50&&(w++,typeof I=="object"&&(I.placement&&(v=I.placement),I.rects&&(f=I.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):I.rects),{x:h,y:m}=$w(f,v,d)),S=-1)}return{x:h,y:m,placement:v,strategy:o,middlewareData:b}};function va(e,t){return typeof e=="function"?e(t):e}function ny(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Kl(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function ry(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:v=!1,padding:b=0}=va(t,e),w=ny(b),S=u[v?m==="floating"?"reference":"floating":m],C=Kl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:d})),P=m==="floating"?{...a.floating,x:r,y:o}:a.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),_=await(s.isElement==null?void 0:s.isElement(k))&&await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1},E=Kl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:P,offsetParent:k,strategy:d}):P);return{top:(C.top-E.top+w.top)/_.y,bottom:(E.bottom-C.bottom+w.bottom)/_.y,left:(C.left-E.left+w.left)/_.x,right:(E.right-C.right+w.right)/_.x}}const ni=Math.min,Ls=Math.max;function s0(e,t,n){return Ls(e,ni(t,n))}const Lw=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:u}=t,{element:d,padding:f=0}=va(e,t)||{};if(d==null)return{};const h=ny(f),m={x:n,y:r},v=ai(o),b=ty(v),w=await a.getDimensions(d),S=v==="y",C=S?"top":"left",P=S?"bottom":"right",k=S?"clientHeight":"clientWidth",_=s.reference[b]+s.reference[v]-m[v]-s.floating[b],E=m[v]-s.reference[v],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let O=I?I[k]:0;O&&await(a.isElement==null?void 0:a.isElement(I))||(O=u.floating[k]||s.floating[b]);const R=_/2-E/2,M=O/2-w[b]/2-1,D=ni(h[C],M),$=ni(h[P],M),A=D,G=O-w[b]-$,L=O/2-w[b]/2+R,F=s0(A,L,G),W=mc(o)!=null&&L!=F&&s.reference[b]/2-(L<A?D:$)-w[b]/2<0?L<A?A-L:G-L:0;return{[v]:m[v]-W,data:{[v]:F,centerOffset:L-F+W}}}}),YV=["top","right","bottom","left"];YV.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const KV={left:"right",right:"left",bottom:"top",top:"bottom"};function Ep(e){return e.replace(/left|right|bottom|top/g,t=>KV[t])}function XV(e,t,n){n===void 0&&(n=!1);const r=mc(e),o=ai(e),s=ty(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Ep(a)),{main:a,cross:Ep(a)}}const QV={start:"end",end:"start"};function Gg(e){return e.replace(/start|end/g,t=>QV[t])}const ZV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:s,initialPlacement:a,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...S}=va(e,t),C=Ss(r),P=Ss(a)===a,k=await(u.isRTL==null?void 0:u.isRTL(d.floating)),_=m||(P||!w?[Ep(a)]:function(A){const G=Ep(A);return[Gg(A),G,Gg(G)]}(a));m||b==="none"||_.push(...function(A,G,L,F){const W=mc(A);let X=function(N,V,H){const U=["left","right"],ne=["right","left"],ge=["top","bottom"],le=["bottom","top"];switch(N){case"top":case"bottom":return H?V?ne:U:V?U:ne;case"left":case"right":return V?ge:le;default:return[]}}(Ss(A),L==="start",F);return W&&(X=X.map(N=>N+"-"+W),G&&(X=X.concat(X.map(Gg)))),X}(a,w,b,k));const E=[a,..._],I=await ry(t,S),O=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&O.push(I[C]),h){const{main:A,cross:G}=XV(r,s,k);O.push(I[A],I[G])}if(R=[...R,{placement:r,overflows:O}],!O.every(A=>A<=0)){var M,D;const A=(((M=o.flip)==null?void 0:M.index)||0)+1,G=E[A];if(G)return{data:{index:A,overflows:R},reset:{placement:G}};let L=(D=R.filter(F=>F.overflows[0]<=0).sort((F,W)=>F.overflows[1]-W.overflows[1])[0])==null?void 0:D.placement;if(!L)switch(v){case"bestFit":{var $;const F=($=R.map(W=>[W.placement,W.overflows.filter(X=>X>0).reduce((X,N)=>X+N,0)]).sort((W,X)=>W[1]-X[1])[0])==null?void 0:$[0];F&&(L=F);break}case"initialPlacement":L=a}if(r!==L)return{reset:{placement:L}}}return{}}}};function Fw(e){const t=ni(...e.map(r=>r.left)),n=ni(...e.map(r=>r.top));return{x:t,y:n,width:Ls(...e.map(r=>r.right))-t,height:Ls(...e.map(r=>r.bottom))-n}}const JV=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:s,strategy:a}=t,{padding:u=2,x:d,y:f}=va(e,t),h=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),m=function(S){const C=S.slice().sort((_,E)=>_.y-E.y),P=[];let k=null;for(let _=0;_<C.length;_++){const E=C[_];!k||E.y-k.y>k.height/2?P.push([E]):P[P.length-1].push(E),k=E}return P.map(_=>Kl(Fw(_)))}(h),v=Kl(Fw(h)),b=ny(u),w=await s.getElementRects({reference:{getBoundingClientRect:function(){if(m.length===2&&m[0].left>m[1].right&&d!=null&&f!=null)return m.find(S=>d>S.left-b.left&&d<S.right+b.right&&f>S.top-b.top&&f<S.bottom+b.bottom)||v;if(m.length>=2){if(ai(n)==="x"){const I=m[0],O=m[m.length-1],R=Ss(n)==="top",M=I.top,D=O.bottom,$=R?I.left:O.left,A=R?I.right:O.right;return{top:M,bottom:D,left:$,right:A,width:A-$,height:D-M,x:$,y:M}}const S=Ss(n)==="left",C=Ls(...m.map(I=>I.right)),P=ni(...m.map(I=>I.left)),k=m.filter(I=>S?I.left===P:I.right===C),_=k[0].top,E=k[k.length-1].bottom;return{top:_,bottom:E,left:P,right:C,width:C-P,height:E-_,x:P,y:_}}return v}},floating:r.floating,strategy:a});return o.reference.x!==w.reference.x||o.reference.y!==w.reference.y||o.reference.width!==w.reference.width||o.reference.height!==w.reference.height?{reset:{rects:w}}:{}}}},eU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(s,a){const{placement:u,platform:d,elements:f}=s,h=await(d.isRTL==null?void 0:d.isRTL(f.floating)),m=Ss(u),v=mc(u),b=ai(u)==="x",w=["left","top"].includes(m)?-1:1,S=h&&b?-1:1,C=va(a,s);let{mainAxis:P,crossAxis:k,alignmentAxis:_}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...C};return v&&typeof _=="number"&&(k=v==="end"?-1*_:_),b?{x:k*S,y:P*w}:{x:P*w,y:k*S}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function $_(e){return e==="x"?"y":"x"}const tU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:C=>{let{x:P,y:k}=C;return{x:P,y:k}}},...d}=va(e,t),f={x:n,y:r},h=await ry(t,d),m=ai(Ss(o)),v=$_(m);let b=f[m],w=f[v];if(s){const C=m==="y"?"bottom":"right";b=s0(b+h[m==="y"?"top":"left"],b,b-h[C])}if(a){const C=v==="y"?"bottom":"right";w=s0(w+h[v==="y"?"top":"left"],w,w-h[C])}const S=u.fn({...t,[m]:b,[v]:w});return{...S,data:{x:S.x-n,y:S.y-r}}}}},nU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=va(e,t),h={x:n,y:r},m=ai(o),v=$_(m);let b=h[m],w=h[v];const S=va(u,t),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(d){const _=m==="y"?"height":"width",E=s.reference[m]-s.floating[_]+C.mainAxis,I=s.reference[m]+s.reference[_]-C.mainAxis;b<E?b=E:b>I&&(b=I)}if(f){var P,k;const _=m==="y"?"width":"height",E=["top","left"].includes(Ss(o)),I=s.reference[v]-s.floating[_]+(E&&((P=a.offset)==null?void 0:P[v])||0)+(E?0:C.crossAxis),O=s.reference[v]+s.reference[_]+(E?0:((k=a.offset)==null?void 0:k[v])||0)-(E?C.crossAxis:0);w<I?w=I:w>O&&(w=O)}return{[m]:b,[v]:w}}}},rU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:s}=t,{apply:a=()=>{},...u}=va(e,t),d=await ry(t,u),f=Ss(n),h=mc(n),m=ai(n)==="x",{width:v,height:b}=r.floating;let w,S;f==="top"||f==="bottom"?(w=f,S=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(S=f,w=h==="end"?"top":"bottom");const C=b-d[w],P=v-d[S],k=!t.middlewareData.shift;let _=C,E=P;if(m){const O=v-d.left-d.right;E=h||k?ni(P,O):O}else{const O=b-d.top-d.bottom;_=h||k?ni(C,O):O}if(k&&!h){const O=Ls(d.left,0),R=Ls(d.right,0),M=Ls(d.top,0),D=Ls(d.bottom,0);m?E=v-2*(O!==0||R!==0?O+R:Ls(d.left,d.right)):_=b-2*(M!==0||D!==0?M+D:Ls(d.top,d.bottom))}await a({...t,availableWidth:E,availableHeight:_});const I=await o.getDimensions(s.floating);return v!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function ts(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ws(e){return ts(e).getComputedStyle(e)}function L_(e){return e instanceof ts(e).Node}function ri(e){return L_(e)?(e.nodeName||"").toLowerCase():"#document"}function js(e){return e instanceof ts(e).HTMLElement}function ua(e){return e instanceof ts(e).Element}function Bw(e){return typeof ShadowRoot<"u"&&(e instanceof ts(e).ShadowRoot||e instanceof ShadowRoot)}function wu(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function oU(e){return["table","td","th"].includes(ri(e))}function a0(e){const t=oy(),n=ws(e);return n.transform!=="none"||n.perspective!=="none"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oy(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Hh(e){return["html","body","#document"].includes(ri(e))}const i0=Math.min,Hl=Math.max,Ip=Math.round,uf=Math.floor,Gi=e=>({x:e,y:e});function F_(e){const t=ws(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=js(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,u=Ip(n)!==s||Ip(r)!==a;return u&&(n=s,r=a),{width:n,height:r,$:u}}function sy(e){return ua(e)?e:e.contextElement}function Wl(e){const t=sy(e);if(!js(t))return Gi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=F_(t);let a=(s?Ip(n.width):n.width)/r,u=(s?Ip(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),u&&Number.isFinite(u)||(u=1),{x:a,y:u}}const Hw=Gi(0);function B_(e,t,n){var r,o;if(t===void 0&&(t=!0),!oy())return Hw;const s=e?ts(e):window;return!n||t&&n!==s?Hw:{x:((r=s.visualViewport)==null?void 0:r.offsetLeft)||0,y:((o=s.visualViewport)==null?void 0:o.offsetTop)||0}}function qi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=sy(e);let a=Gi(1);t&&(r?ua(r)&&(a=Wl(r)):a=Wl(e));const u=B_(s,n,r);let d=(o.left+u.x)/a.x,f=(o.top+u.y)/a.y,h=o.width/a.x,m=o.height/a.y;if(s){const v=ts(s),b=r&&ua(r)?ts(r):r;let w=v.frameElement;for(;w&&r&&b!==v;){const S=Wl(w),C=w.getBoundingClientRect(),P=getComputedStyle(w),k=C.left+(w.clientLeft+parseFloat(P.paddingLeft))*S.x,_=C.top+(w.clientTop+parseFloat(P.paddingTop))*S.y;d*=S.x,f*=S.y,h*=S.x,m*=S.y,d+=k,f+=_,w=ts(w).frameElement}}return Kl({width:h,height:m,x:d,y:f})}function da(e){return((L_(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wh(e){return ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function H_(e){return qi(da(e)).left+Wh(e).scrollLeft}function Xl(e){if(ri(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bw(e)&&e.host||da(e);return Bw(t)?t.host:t}function W_(e){const t=Xl(e);return Hh(t)?e.ownerDocument?e.ownerDocument.body:e.body:js(t)&&wu(t)?t:W_(t)}function Op(e,t){var n;t===void 0&&(t=[]);const r=W_(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=ts(r);return o?t.concat(s,s.visualViewport||[],wu(r)?r:[]):t.concat(r,Op(r))}function Ww(e,t,n){let r;if(t==="viewport")r=function(o,s){const a=ts(o),u=da(o),d=a.visualViewport;let f=u.clientWidth,h=u.clientHeight,m=0,v=0;if(d){f=d.width,h=d.height;const b=oy();(!b||b&&s==="fixed")&&(m=d.offsetLeft,v=d.offsetTop)}return{width:f,height:h,x:m,y:v}}(e,n);else if(t==="document")r=function(o){const s=da(o),a=Wh(o),u=o.ownerDocument.body,d=Hl(s.scrollWidth,s.clientWidth,u.scrollWidth,u.clientWidth),f=Hl(s.scrollHeight,s.clientHeight,u.scrollHeight,u.clientHeight);let h=-a.scrollLeft+H_(o);const m=-a.scrollTop;return ws(u).direction==="rtl"&&(h+=Hl(s.clientWidth,u.clientWidth)-d),{width:d,height:f,x:h,y:m}}(da(e));else if(ua(t))r=function(o,s){const a=qi(o,!0,s==="fixed"),u=a.top+o.clientTop,d=a.left+o.clientLeft,f=js(o)?Wl(o):Gi(1);return{width:o.clientWidth*f.x,height:o.clientHeight*f.y,x:d*f.x,y:u*f.y}}(t,n);else{const o=B_(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Kl(r)}function V_(e,t){const n=Xl(e);return!(n===t||!ua(n)||Hh(n))&&(ws(n).position==="fixed"||V_(n,t))}function Vw(e,t){return js(e)&&ws(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Uw(e,t){const n=ts(e);if(!js(e))return n;let r=Vw(e,t);for(;r&&oU(r)&&ws(r).position==="static";)r=Vw(r,t);return r&&(ri(r)==="html"||ri(r)==="body"&&ws(r).position==="static"&&!a0(r))?n:r||function(o){let s=Xl(o);for(;js(s)&&!Hh(s);){if(a0(s))return s;s=Xl(s)}return null}(e)||n}function sU(e,t,n){const r=js(t),o=da(t),s=n==="fixed",a=qi(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=Gi(0);if(r||!r&&!s)if((ri(t)!=="body"||wu(o))&&(u=Wh(t)),js(t)){const f=qi(t,!0,s,t);d.x=f.x+t.clientLeft,d.y=f.y+t.clientTop}else o&&(d.x=H_(o));return{x:a.left+u.scrollLeft-d.x,y:a.top+u.scrollTop-d.y,width:a.width,height:a.height}}const aU={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=n==="clippingAncestors"?function(f,h){const m=h.get(f);if(m)return m;let v=Op(f).filter(C=>ua(C)&&ri(C)!=="body"),b=null;const w=ws(f).position==="fixed";let S=w?Xl(f):f;for(;ua(S)&&!Hh(S);){const C=ws(S),P=a0(S);P||C.position!=="fixed"||(b=null),(w?!P&&!b:!P&&C.position==="static"&&b&&["absolute","fixed"].includes(b.position)||wu(S)&&!P&&V_(f,S))?v=v.filter(k=>k!==S):b=C,S=Xl(S)}return h.set(f,v),v}(t,this._c):[].concat(n),a=[...s,r],u=a[0],d=a.reduce((f,h)=>{const m=Ww(t,h,o);return f.top=Hl(m.top,f.top),f.right=i0(m.right,f.right),f.bottom=i0(m.bottom,f.bottom),f.left=Hl(m.left,f.left),f},Ww(t,u,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=js(n),s=da(n);if(n===s)return t;let a={scrollLeft:0,scrollTop:0},u=Gi(1);const d=Gi(0);if((o||!o&&r!=="fixed")&&((ri(n)!=="body"||wu(s))&&(a=Wh(n)),js(n))){const f=qi(n);u=Wl(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-a.scrollLeft*u.x+d.x,y:t.y*u.y-a.scrollTop*u.y+d.y}},isElement:ua,getDimensions:function(e){return F_(e)},getOffsetParent:Uw,getDocumentElement:da,getScale:Wl,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Uw,s=this.getDimensions;return{reference:sU(t,await o(n),r),floating:{x:0,y:0,...await s(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ws(e).direction==="rtl"};function iU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=!0,layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=sy(e),h=o||s?[...f?Op(f):[],...Op(t)]:[];h.forEach(S=>{o&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const m=f&&u?function(S,C){let P,k=null;const _=da(S);function E(){clearTimeout(P),k&&k.disconnect(),k=null}return function I(O,R){O===void 0&&(O=!1),R===void 0&&(R=1),E();const{left:M,top:D,width:$,height:A}=S.getBoundingClientRect();if(O||C(),!$||!A)return;const G=uf(D),L=uf(_.clientWidth-(M+$)),F=uf(_.clientHeight-(D+A)),W=uf(M);let X=!0;k=new IntersectionObserver(N=>{const V=N[0].intersectionRatio;if(V!==R){if(!X)return I();V?I(!1,V):P=setTimeout(()=>{I(!1,1e-7)},100)}X=!1},{rootMargin:-G+"px "+-L+"px "+-F+"px "+-W+"px",threshold:Hl(0,i0(1,R))||1}),k.observe(S)}(!0),E}(f,n):null;let v,b=null;a&&(b=new ResizeObserver(n),f&&!d&&b.observe(f),b.observe(t));let w=d?qi(e):null;return d&&function S(){const C=qi(e);!w||C.x===w.x&&C.y===w.y&&C.width===w.width&&C.height===w.height||n(),w=C,v=requestAnimationFrame(S)}(),n(),()=>{h.forEach(S=>{o&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),m&&m(),b&&b.disconnect(),b=null,d&&cancelAnimationFrame(v)}}const lU=(e,t,n)=>{const r=new Map,o={platform:aU,...n},s={...o.platform,_c:r};return qV(e,t,{...o,platform:s})},cU=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?Lw({element:t.current,padding:n}).fn(o):{}:t?Lw({element:t,padding:n}).fn(o):{}}}};var Rf=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Rp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Rp(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Rp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Gw(e){const t=p.useRef(e);return Rf(()=>{t.current=e}),t}function uU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:s,open:a}=e,[u,d]=p.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=p.useState(r);Rp(f,r)||h(r);const m=p.useRef(null),v=p.useRef(null),b=p.useRef(u),w=Gw(s),S=Gw(o),[C,P]=p.useState(null),[k,_]=p.useState(null),E=p.useCallback($=>{m.current!==$&&(m.current=$,P($))},[]),I=p.useCallback($=>{v.current!==$&&(v.current=$,_($))},[]),O=p.useCallback(()=>{if(!m.current||!v.current)return;const $={placement:t,strategy:n,middleware:f};S.current&&($.platform=S.current),lU(m.current,v.current,$).then(A=>{const G={...A,isPositioned:!0};R.current&&!Rp(b.current,G)&&(b.current=G,lc.flushSync(()=>{d(G)}))})},[f,t,n,S]);Rf(()=>{a===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,d($=>({...$,isPositioned:!1})))},[a]);const R=p.useRef(!1);Rf(()=>(R.current=!0,()=>{R.current=!1}),[]),Rf(()=>{if(C&&k){if(w.current)return w.current(C,k,O);O()}},[C,k,O,w]);const M=p.useMemo(()=>({reference:m,floating:v,setReference:E,setFloating:I}),[E,I]),D=p.useMemo(()=>({reference:C,floating:k}),[C,k]);return p.useMemo(()=>({...u,update:O,refs:M,elements:D,reference:E,floating:I}),[u,O,M,D,E,I])}var dU=typeof document<"u"?p.useLayoutEffect:p.useEffect;function fU(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const pU=p.createContext(null),hU=()=>p.useContext(pU);function mU(e){return(e==null?void 0:e.ownerDocument)||document}function gU(e){return mU(e).defaultView||window}function df(e){return e?e instanceof gU(e).Element:!1}const vU=A0["useInsertionEffect".toString()],yU=vU||(e=>e());function bU(e){const t=p.useRef(()=>{});return yU(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function xU(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=uU(e),s=hU(),a=p.useRef(null),u=p.useRef({}),d=p.useState(()=>fU())[0],[f,h]=p.useState(null),m=p.useCallback(P=>{const k=df(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;o.refs.setReference(k)},[o.refs]),v=p.useCallback(P=>{(df(P)||P===null)&&(a.current=P,h(P)),(df(o.refs.reference.current)||o.refs.reference.current===null||P!==null&&!df(P))&&o.refs.setReference(P)},[o.refs]),b=p.useMemo(()=>({...o.refs,setReference:v,setPositionReference:m,domReference:a}),[o.refs,v,m]),w=p.useMemo(()=>({...o.elements,domReference:f}),[o.elements,f]),S=bU(n),C=p.useMemo(()=>({...o,refs:b,elements:w,dataRef:u,nodeId:r,events:d,open:t,onOpenChange:S}),[o,r,d,t,S,b,w]);return dU(()=>{const P=s==null?void 0:s.nodesRef.current.find(k=>k.id===r);P&&(P.context=C)}),p.useMemo(()=>({...o,context:C,refs:b,reference:v,positionReference:m}),[o,b,C,v,m])}function SU({opened:e,floating:t,position:n,positionDependencies:r}){const[o,s]=p.useState(0);p.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return iU(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),xs(()=>{t.update()},r),xs(()=>{s(a=>a+1)},[e])}function wU(e){const t=[eU(e.offset)];return e.middlewares.shift&&t.push(tU({limiter:nU()})),e.middlewares.flip&&t.push(ZV()),e.middlewares.inline&&t.push(JV()),t.push(cU({element:e.arrowRef,padding:e.arrowOffset})),t}function CU(e){const[t,n]=Su({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var a;(a=e.onClose)==null||a.call(e),n(!1)},o=()=>{var a,u;t?((a=e.onClose)==null||a.call(e),n(!1)):((u=e.onOpen)==null||u.call(e),n(!0))},s=xU({placement:e.position,middleware:[...wU(e),...e.width==="target"?[rU({apply({rects:a}){var u,d;Object.assign((d=(u=s.refs.floating.current)==null?void 0:u.style)!=null?d:{},{width:`${a.reference.width}px`})}})]:[]]});return SU({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies,floating:s}),xs(()=>{var a;(a=e.onPositionChange)==null||a.call(e,s.placement)},[s.placement]),xs(()=>{var a,u;e.opened?(u=e.onOpen)==null||u.call(e):(a=e.onClose)==null||a.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:o}}const U_={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[PU,G_]=nB(U_.context);var kU=Object.defineProperty,_U=Object.defineProperties,jU=Object.getOwnPropertyDescriptors,Mp=Object.getOwnPropertySymbols,q_=Object.prototype.hasOwnProperty,Y_=Object.prototype.propertyIsEnumerable,qw=(e,t,n)=>t in e?kU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ff=(e,t)=>{for(var n in t||(t={}))q_.call(t,n)&&qw(e,n,t[n]);if(Mp)for(var n of Mp(t))Y_.call(t,n)&&qw(e,n,t[n]);return e},EU=(e,t)=>_U(e,jU(t)),IU=(e,t)=>{var n={};for(var r in e)q_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mp)for(var r of Mp(e))t.indexOf(r)<0&&Y_.call(e,r)&&(n[r]=e[r]);return n};const OU={refProp:"ref",popupType:"dialog"},K_=p.forwardRef((e,t)=>{const n=_r("PopoverTarget",OU,e),{children:r,refProp:o,popupType:s}=n,a=IU(n,["children","refProp","popupType"]);if(!jk(r))throw new Error(U_.children);const u=a,d=G_(),f=Nh(d.reference,r.ref,t),h=d.withRoles?{"aria-haspopup":s,"aria-expanded":d.opened,"aria-controls":d.getDropdownId(),id:d.getTargetId()}:{};return p.cloneElement(r,ff(EU(ff(ff(ff({},u),h),d.targetProps),{className:Ik(d.targetProps.className,u.className,r.props.className),[o]:f}),d.controlled?null:{onClick:d.onToggle}))});K_.displayName="@mantine/core/PopoverTarget";var RU=Qr((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${Le(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm} ${e.spacing.md}`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`${Le(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const MU=RU;var TU=Object.defineProperty,Yw=Object.getOwnPropertySymbols,DU=Object.prototype.hasOwnProperty,AU=Object.prototype.propertyIsEnumerable,Kw=(e,t,n)=>t in e?TU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wl=(e,t)=>{for(var n in t||(t={}))DU.call(t,n)&&Kw(e,n,t[n]);if(Yw)for(var n of Yw(t))AU.call(t,n)&&Kw(e,n,t[n]);return e};const Xw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function NU({transition:e,state:t,duration:n,timingFunction:r}){const o={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in rf?wl(wl(wl({transitionProperty:rf[e].transitionProperty},o),rf[e].common),rf[e][Xw[t]]):null:wl(wl(wl({transitionProperty:e.transitionProperty},o),e.common),e[Xw[t]])}function zU({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:s,onEntered:a,onExited:u}){const d=xa(),f=Ak(),h=d.respectReducedMotion?f:!1,[m,v]=p.useState(h?0:e),[b,w]=p.useState(r?"entered":"exited"),S=p.useRef(-1),C=P=>{const k=P?o:s,_=P?a:u;w(P?"pre-entering":"pre-exiting"),window.clearTimeout(S.current);const E=h?0:P?e:t;if(v(E),E===0)typeof k=="function"&&k(),typeof _=="function"&&_(),w(P?"entered":"exited");else{const I=window.setTimeout(()=>{typeof k=="function"&&k(),w(P?"entering":"exiting")},10);S.current=window.setTimeout(()=>{window.clearTimeout(I),typeof _=="function"&&_(),w(P?"entered":"exited")},E)}};return xs(()=>{C(r)},[r]),p.useEffect(()=>()=>window.clearTimeout(S.current),[]),{transitionDuration:m,transitionStatus:b,transitionTimingFunction:n||d.transitionTimingFunction}}function X_({keepMounted:e,transition:t,duration:n=250,exitDuration:r=n,mounted:o,children:s,timingFunction:a,onExit:u,onEntered:d,onEnter:f,onExited:h}){const{transitionDuration:m,transitionStatus:v,transitionTimingFunction:b}=zU({mounted:o,exitDuration:r,duration:n,timingFunction:a,onExit:u,onEntered:d,onEnter:f,onExited:h});return m===0?o?z.createElement(z.Fragment,null,s({})):e?s({display:"none"}):null:v==="exited"?e?s({display:"none"}):null:z.createElement(z.Fragment,null,s(NU({transition:t,duration:m,state:v,timingFunction:b})))}X_.displayName="@mantine/core/Transition";function Q_({children:e,active:t=!0,refProp:n="ref"}){const r=NB(t),o=Nh(r,e==null?void 0:e.ref);return jk(e)?p.cloneElement(e,{[n]:o}):e}Q_.displayName="@mantine/core/FocusTrap";var $U=Object.defineProperty,LU=Object.defineProperties,FU=Object.getOwnPropertyDescriptors,Qw=Object.getOwnPropertySymbols,BU=Object.prototype.hasOwnProperty,HU=Object.prototype.propertyIsEnumerable,Zw=(e,t,n)=>t in e?$U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Aa=(e,t)=>{for(var n in t||(t={}))BU.call(t,n)&&Zw(e,n,t[n]);if(Qw)for(var n of Qw(t))HU.call(t,n)&&Zw(e,n,t[n]);return e},pf=(e,t)=>LU(e,FU(t));function Jw(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function eC(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const WU={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function VU({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:s,arrowY:a,dir:u}){const[d,f="center"]=e.split("-"),h={width:Le(t),height:Le(t),transform:"rotate(45deg)",position:"absolute",[WU[d]]:Le(r)},m=Le(-t/2);return d==="left"?pf(Aa(Aa({},h),Jw(f,a,n,o)),{right:m,borderLeftColor:"transparent",borderBottomColor:"transparent"}):d==="right"?pf(Aa(Aa({},h),Jw(f,a,n,o)),{left:m,borderRightColor:"transparent",borderTopColor:"transparent"}):d==="top"?pf(Aa(Aa({},h),eC(f,s,n,o,u)),{bottom:m,borderTopColor:"transparent",borderLeftColor:"transparent"}):d==="bottom"?pf(Aa(Aa({},h),eC(f,s,n,o,u)),{top:m,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var UU=Object.defineProperty,GU=Object.defineProperties,qU=Object.getOwnPropertyDescriptors,Tp=Object.getOwnPropertySymbols,Z_=Object.prototype.hasOwnProperty,J_=Object.prototype.propertyIsEnumerable,tC=(e,t,n)=>t in e?UU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YU=(e,t)=>{for(var n in t||(t={}))Z_.call(t,n)&&tC(e,n,t[n]);if(Tp)for(var n of Tp(t))J_.call(t,n)&&tC(e,n,t[n]);return e},KU=(e,t)=>GU(e,qU(t)),XU=(e,t)=>{var n={};for(var r in e)Z_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tp)for(var r of Tp(e))t.indexOf(r)<0&&J_.call(e,r)&&(n[r]=e[r]);return n};const ej=p.forwardRef((e,t)=>{var n=e,{position:r,arrowSize:o,arrowOffset:s,arrowRadius:a,arrowPosition:u,visible:d,arrowX:f,arrowY:h}=n,m=XU(n,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const v=xa();return d?z.createElement("div",KU(YU({},m),{ref:t,style:VU({position:r,arrowSize:o,arrowOffset:s,arrowRadius:a,arrowPosition:u,dir:v.dir,arrowX:f,arrowY:h})})):null});ej.displayName="@mantine/core/FloatingArrow";var QU=Object.defineProperty,ZU=Object.defineProperties,JU=Object.getOwnPropertyDescriptors,Dp=Object.getOwnPropertySymbols,tj=Object.prototype.hasOwnProperty,nj=Object.prototype.propertyIsEnumerable,nC=(e,t,n)=>t in e?QU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cl=(e,t)=>{for(var n in t||(t={}))tj.call(t,n)&&nC(e,n,t[n]);if(Dp)for(var n of Dp(t))nj.call(t,n)&&nC(e,n,t[n]);return e},hf=(e,t)=>ZU(e,JU(t)),eG=(e,t)=>{var n={};for(var r in e)tj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Dp)for(var r of Dp(e))t.indexOf(r)<0&&nj.call(e,r)&&(n[r]=e[r]);return n};const tG={};function rj(e){var t;const n=_r("PopoverDropdown",tG,e),{style:r,className:o,children:s,onKeyDownCapture:a}=n,u=eG(n,["style","className","children","onKeyDownCapture"]),d=G_(),{classes:f,cx:h}=MU({radius:d.radius,shadow:d.shadow},{name:d.__staticSelector,classNames:d.classNames,styles:d.styles,unstyled:d.unstyled,variant:d.variant}),m=IB({opened:d.opened,shouldReturnFocus:d.returnFocus}),v=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog"}:{};return d.disabled?null:z.createElement(a_,hf(Cl({},d.portalProps),{withinPortal:d.withinPortal}),z.createElement(X_,hf(Cl({mounted:d.opened},d.transitionProps),{transition:d.transitionProps.transition||"fade",duration:(t=d.transitionProps.duration)!=null?t:150,keepMounted:d.keepMounted,exitDuration:typeof d.transitionProps.exitDuration=="number"?d.transitionProps.exitDuration:d.transitionProps.duration}),b=>{var w,S;return z.createElement(Q_,{active:d.trapFocus},z.createElement(yo,Cl(hf(Cl({},v),{tabIndex:-1,ref:d.floating,style:hf(Cl(Cl({},r),b),{zIndex:d.zIndex,top:(w=d.y)!=null?w:0,left:(S=d.x)!=null?S:0,width:d.width==="target"?void 0:Le(d.width)}),className:h(f.dropdown,o),onKeyDownCapture:oB(d.onClose,{active:d.closeOnEscape,onTrigger:m,onKeyDown:a}),"data-position":d.placement}),u),s,z.createElement(ej,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,className:f.arrow})))}))}rj.displayName="@mantine/core/PopoverDropdown";function nG(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}var rC=Object.getOwnPropertySymbols,rG=Object.prototype.hasOwnProperty,oG=Object.prototype.propertyIsEnumerable,sG=(e,t)=>{var n={};for(var r in e)rG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rC)for(var r of rC(e))t.indexOf(r)<0&&oG.call(e,r)&&(n[r]=e[r]);return n};const aG={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:K1("popover"),__staticSelector:"Popover",width:"max-content"};function gc(e){var t,n,r,o,s,a;const u=p.useRef(null),d=_r("Popover",aG,e),{children:f,position:h,offset:m,onPositionChange:v,positionDependencies:b,opened:w,transitionProps:S,width:C,middlewares:P,withArrow:k,arrowSize:_,arrowOffset:E,arrowRadius:I,arrowPosition:O,unstyled:R,classNames:M,styles:D,closeOnClickOutside:$,withinPortal:A,portalProps:G,closeOnEscape:L,clickOutsideEvents:F,trapFocus:W,onClose:X,onOpen:N,onChange:V,zIndex:H,radius:U,shadow:ne,id:ge,defaultOpened:le,__staticSelector:re,withRoles:K,disabled:ae,returnFocus:de,variant:xe,keepMounted:oe}=d,me=sG(d,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted"]),[fe,ke]=p.useState(null),[Ae,ve]=p.useState(null),Ie=Q1(ge),st=xa(),Fe=CU({middlewares:P,width:C,position:nG(st.dir,h),offset:typeof m=="number"?m+(k?_/2:0):m,arrowRef:u,arrowOffset:E,onPositionChange:v,positionDependencies:b,opened:w,defaultOpened:le,onChange:V,onOpen:N,onClose:X});kB(()=>Fe.opened&&$&&Fe.onClose(),F,[fe,Ae]);const Ke=p.useCallback(xt=>{ke(xt),Fe.floating.reference(xt)},[Fe.floating.reference]),_t=p.useCallback(xt=>{ve(xt),Fe.floating.floating(xt)},[Fe.floating.floating]);return z.createElement(PU,{value:{returnFocus:de,disabled:ae,controlled:Fe.controlled,reference:Ke,floating:_t,x:Fe.floating.x,y:Fe.floating.y,arrowX:(r=(n=(t=Fe.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(a=(s=(o=Fe.floating)==null?void 0:o.middlewareData)==null?void 0:s.arrow)==null?void 0:a.y,opened:Fe.opened,arrowRef:u,transitionProps:S,width:C,withArrow:k,arrowSize:_,arrowOffset:E,arrowRadius:I,arrowPosition:O,placement:Fe.floating.placement,trapFocus:W,withinPortal:A,portalProps:G,zIndex:H,radius:U,shadow:ne,closeOnEscape:L,onClose:Fe.onClose,onToggle:Fe.onToggle,getTargetId:()=>`${Ie}-target`,getDropdownId:()=>`${Ie}-dropdown`,withRoles:K,targetProps:me,__staticSelector:re,classNames:M,styles:D,unstyled:R,variant:xe,keepMounted:oe}},f)}gc.Target=K_;gc.Dropdown=rj;gc.displayName="@mantine/core/Popover";var iG=Object.defineProperty,Ap=Object.getOwnPropertySymbols,oj=Object.prototype.hasOwnProperty,sj=Object.prototype.propertyIsEnumerable,oC=(e,t,n)=>t in e?iG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lG=(e,t)=>{for(var n in t||(t={}))oj.call(t,n)&&oC(e,n,t[n]);if(Ap)for(var n of Ap(t))sj.call(t,n)&&oC(e,n,t[n]);return e},cG=(e,t)=>{var n={};for(var r in e)oj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ap)for(var r of Ap(e))t.indexOf(r)<0&&sj.call(e,r)&&(n[r]=e[r]);return n};function uG(e){var t=e,{children:n,component:r="div",maxHeight:o=220,direction:s="column",id:a,innerRef:u,__staticSelector:d,styles:f,classNames:h,unstyled:m}=t,v=cG(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:b}=GV(null,{name:d,styles:f,classNames:h,unstyled:m});return z.createElement(gc.Dropdown,lG({p:0,onMouseDown:w=>w.preventDefault()},v),z.createElement("div",{style:{maxHeight:Le(o),display:"flex"}},z.createElement(yo,{component:r||"div",id:`${a}-items`,"aria-labelledby":`${a}-label`,role:"listbox",onMouseDown:w=>w.preventDefault(),style:{flex:1,overflowY:r!==Bh?"auto":void 0},"data-combobox-popover":!0,tabIndex:-1,ref:u},z.createElement("div",{className:b.itemsWrapper,style:{flexDirection:s}},n))))}function Ka({opened:e,transitionProps:t={transition:"fade",duration:0},shadow:n,withinPortal:r,portalProps:o,children:s,__staticSelector:a,onDirectionChange:u,switchDirectionOnFlip:d,zIndex:f,dropdownPosition:h,positionDependencies:m=[],classNames:v,styles:b,unstyled:w,readOnly:S,variant:C}){return z.createElement(gc,{unstyled:w,classNames:v,styles:b,width:"target",withRoles:!1,opened:e,middlewares:{flip:h==="flip",shift:!1},position:h==="flip"?"bottom":h,positionDependencies:m,zIndex:f,__staticSelector:a,withinPortal:r,portalProps:o,transitionProps:t,shadow:n,disabled:S,onPositionChange:P=>d&&(u==null?void 0:u(P==="top"?"column-reverse":"column")),variant:C},s)}Ka.Target=gc.Target;Ka.Dropdown=uG;var dG=Object.defineProperty,fG=Object.defineProperties,pG=Object.getOwnPropertyDescriptors,Np=Object.getOwnPropertySymbols,aj=Object.prototype.hasOwnProperty,ij=Object.prototype.propertyIsEnumerable,sC=(e,t,n)=>t in e?dG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mf=(e,t)=>{for(var n in t||(t={}))aj.call(t,n)&&sC(e,n,t[n]);if(Np)for(var n of Np(t))ij.call(t,n)&&sC(e,n,t[n]);return e},hG=(e,t)=>fG(e,pG(t)),mG=(e,t)=>{var n={};for(var r in e)aj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Np)for(var r of Np(e))t.indexOf(r)<0&&ij.call(e,r)&&(n[r]=e[r]);return n};function gG(e,t,n){const r=_r(e,t,n),{label:o,description:s,error:a,required:u,classNames:d,styles:f,className:h,unstyled:m,__staticSelector:v,sx:b,errorProps:w,labelProps:S,descriptionProps:C,wrapperProps:P,id:k,size:_,style:E,inputContainer:I,inputWrapperOrder:O,withAsterisk:R,variant:M}=r,D=mG(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant"]),$=Q1(k),{systemStyles:A,rest:G}=zh(D),L=mf({label:o,description:s,error:a,required:u,classNames:d,className:h,__staticSelector:v,sx:b,errorProps:w,labelProps:S,descriptionProps:C,unstyled:m,styles:f,id:$,size:_,style:E,inputContainer:I,inputWrapperOrder:O,withAsterisk:R,variant:M},P);return hG(mf({},G),{classNames:d,styles:f,unstyled:m,wrapperProps:mf(mf({},L),A),inputProps:{required:u,classNames:d,styles:f,unstyled:m,id:$,size:_,__staticSelector:v,error:a,variant:M}})}var vG=Qr((e,t,{size:n})=>({label:{display:"inline-block",fontSize:At({size:n,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const yG=vG;var bG=Object.defineProperty,zp=Object.getOwnPropertySymbols,lj=Object.prototype.hasOwnProperty,cj=Object.prototype.propertyIsEnumerable,aC=(e,t,n)=>t in e?bG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xG=(e,t)=>{for(var n in t||(t={}))lj.call(t,n)&&aC(e,n,t[n]);if(zp)for(var n of zp(t))cj.call(t,n)&&aC(e,n,t[n]);return e},SG=(e,t)=>{var n={};for(var r in e)lj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zp)for(var r of zp(e))t.indexOf(r)<0&&cj.call(e,r)&&(n[r]=e[r]);return n};const wG={labelElement:"label",size:"sm"},ay=p.forwardRef((e,t)=>{const n=_r("InputLabel",wG,e),{labelElement:r,children:o,required:s,size:a,classNames:u,styles:d,unstyled:f,className:h,htmlFor:m,__staticSelector:v,variant:b,onMouseDown:w}=n,S=SG(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector","variant","onMouseDown"]),{classes:C,cx:P}=yG(null,{name:["InputWrapper",v],classNames:u,styles:d,unstyled:f,variant:b,size:a});return z.createElement(yo,xG({component:r,ref:t,className:P(C.label,h),htmlFor:r==="label"?m:void 0,onMouseDown:k=>{w==null||w(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()}},S),o,s&&z.createElement("span",{className:C.required,"aria-hidden":!0}," *"))});ay.displayName="@mantine/core/InputLabel";var CG=Qr((e,t,{size:n})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:`calc(${At({size:n,sizes:e.fontSizes})} - ${Le(2)})`,lineHeight:1.2,display:"block"}}));const PG=CG;var kG=Object.defineProperty,$p=Object.getOwnPropertySymbols,uj=Object.prototype.hasOwnProperty,dj=Object.prototype.propertyIsEnumerable,iC=(e,t,n)=>t in e?kG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_G=(e,t)=>{for(var n in t||(t={}))uj.call(t,n)&&iC(e,n,t[n]);if($p)for(var n of $p(t))dj.call(t,n)&&iC(e,n,t[n]);return e},jG=(e,t)=>{var n={};for(var r in e)uj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$p)for(var r of $p(e))t.indexOf(r)<0&&dj.call(e,r)&&(n[r]=e[r]);return n};const EG={size:"sm"},iy=p.forwardRef((e,t)=>{const n=_r("InputError",EG,e),{children:r,className:o,classNames:s,styles:a,unstyled:u,size:d,__staticSelector:f,variant:h}=n,m=jG(n,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:v,cx:b}=PG(null,{name:["InputWrapper",f],classNames:s,styles:a,unstyled:u,variant:h,size:d});return z.createElement(ql,_G({className:b(v.error,o),ref:t},m),r)});iy.displayName="@mantine/core/InputError";var IG=Qr((e,t,{size:n})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:`calc(${At({size:n,sizes:e.fontSizes})} - ${Le(2)})`,lineHeight:1.2,display:"block"}}));const OG=IG;var RG=Object.defineProperty,Lp=Object.getOwnPropertySymbols,fj=Object.prototype.hasOwnProperty,pj=Object.prototype.propertyIsEnumerable,lC=(e,t,n)=>t in e?RG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MG=(e,t)=>{for(var n in t||(t={}))fj.call(t,n)&&lC(e,n,t[n]);if(Lp)for(var n of Lp(t))pj.call(t,n)&&lC(e,n,t[n]);return e},TG=(e,t)=>{var n={};for(var r in e)fj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lp)for(var r of Lp(e))t.indexOf(r)<0&&pj.call(e,r)&&(n[r]=e[r]);return n};const DG={size:"sm"},ly=p.forwardRef((e,t)=>{const n=_r("InputDescription",DG,e),{children:r,className:o,classNames:s,styles:a,unstyled:u,size:d,__staticSelector:f,variant:h}=n,m=TG(n,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:v,cx:b}=OG(null,{name:["InputWrapper",f],classNames:s,styles:a,unstyled:u,variant:h,size:d});return z.createElement(ql,MG({color:"dimmed",className:b(v.description,o),ref:t,unstyled:u},m),r)});ly.displayName="@mantine/core/InputDescription";const hj=p.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),AG=hj.Provider,NG=()=>p.useContext(hj);function zG(e,{hasDescription:t,hasError:n}){const r=e.findIndex(d=>d==="input"),o=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&o==="description"||n&&o==="error"}}var $G=Object.defineProperty,LG=Object.defineProperties,FG=Object.getOwnPropertyDescriptors,cC=Object.getOwnPropertySymbols,BG=Object.prototype.hasOwnProperty,HG=Object.prototype.propertyIsEnumerable,uC=(e,t,n)=>t in e?$G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WG=(e,t)=>{for(var n in t||(t={}))BG.call(t,n)&&uC(e,n,t[n]);if(cC)for(var n of cC(t))HG.call(t,n)&&uC(e,n,t[n]);return e},VG=(e,t)=>LG(e,FG(t)),UG=Qr(e=>({root:VG(WG({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const GG=UG;var qG=Object.defineProperty,YG=Object.defineProperties,KG=Object.getOwnPropertyDescriptors,Fp=Object.getOwnPropertySymbols,mj=Object.prototype.hasOwnProperty,gj=Object.prototype.propertyIsEnumerable,dC=(e,t,n)=>t in e?qG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Na=(e,t)=>{for(var n in t||(t={}))mj.call(t,n)&&dC(e,n,t[n]);if(Fp)for(var n of Fp(t))gj.call(t,n)&&dC(e,n,t[n]);return e},fC=(e,t)=>YG(e,KG(t)),XG=(e,t)=>{var n={};for(var r in e)mj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fp)for(var r of Fp(e))t.indexOf(r)<0&&gj.call(e,r)&&(n[r]=e[r]);return n};const QG={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},vj=p.forwardRef((e,t)=>{const n=_r("InputWrapper",QG,e),{className:r,label:o,children:s,required:a,id:u,error:d,description:f,labelElement:h,labelProps:m,descriptionProps:v,errorProps:b,classNames:w,styles:S,size:C,inputContainer:P,__staticSelector:k,unstyled:_,inputWrapperOrder:E,withAsterisk:I,variant:O}=n,R=XG(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk","variant"]),{classes:M,cx:D}=GG(null,{classNames:w,styles:S,name:["InputWrapper",k],unstyled:_,variant:O,size:C}),$={classNames:w,styles:S,unstyled:_,size:C,variant:O,__staticSelector:k},A=typeof I=="boolean"?I:a,G=u?`${u}-error`:b==null?void 0:b.id,L=u?`${u}-description`:v==null?void 0:v.id,W=`${!!d&&typeof d!="boolean"?G:""} ${f?L:""}`,X=W.trim().length>0?W.trim():void 0,N=o&&z.createElement(ay,Na(Na({key:"label",labelElement:h,id:u?`${u}-label`:void 0,htmlFor:u,required:A},$),m),o),V=f&&z.createElement(ly,fC(Na(Na({key:"description"},v),$),{size:(v==null?void 0:v.size)||$.size,id:(v==null?void 0:v.id)||L}),f),H=z.createElement(p.Fragment,{key:"input"},P(s)),U=typeof d!="boolean"&&d&&z.createElement(iy,fC(Na(Na({},b),$),{size:(b==null?void 0:b.size)||$.size,key:"error",id:(b==null?void 0:b.id)||G}),d),ne=E.map(ge=>{switch(ge){case"label":return N;case"input":return H;case"description":return V;case"error":return U;default:return null}});return z.createElement(AG,{value:Na({describedBy:X},zG(E,{hasDescription:!!V,hasError:!!U}))},z.createElement(yo,Na({className:D(M.root,r),ref:t},R),ne))});vj.displayName="@mantine/core/InputWrapper";var ZG=Object.defineProperty,Bp=Object.getOwnPropertySymbols,yj=Object.prototype.hasOwnProperty,bj=Object.prototype.propertyIsEnumerable,pC=(e,t,n)=>t in e?ZG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JG=(e,t)=>{for(var n in t||(t={}))yj.call(t,n)&&pC(e,n,t[n]);if(Bp)for(var n of Bp(t))bj.call(t,n)&&pC(e,n,t[n]);return e},eq=(e,t)=>{var n={};for(var r in e)yj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bp)for(var r of Bp(e))t.indexOf(r)<0&&bj.call(e,r)&&(n[r]=e[r]);return n};const tq={},xj=p.forwardRef((e,t)=>{const n=_r("InputPlaceholder",tq,e),{sx:r}=n,o=eq(n,["sx"]);return z.createElement(yo,JG({component:"span",sx:[s=>s.fn.placeholderStyles(),...kk(r)],ref:t},o))});xj.displayName="@mantine/core/InputPlaceholder";var nq=Object.defineProperty,rq=Object.defineProperties,oq=Object.getOwnPropertyDescriptors,hC=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,aq=Object.prototype.propertyIsEnumerable,mC=(e,t,n)=>t in e?nq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gf=(e,t)=>{for(var n in t||(t={}))sq.call(t,n)&&mC(e,n,t[n]);if(hC)for(var n of hC(t))aq.call(t,n)&&mC(e,n,t[n]);return e},qg=(e,t)=>rq(e,oq(t));const qo={xs:Le(30),sm:Le(36),md:Le(42),lg:Le(50),xl:Le(60)},iq=["default","filled","unstyled"];function lq({theme:e,variant:t}){return iq.includes(t)?t==="default"?{border:`${Le(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:`${Le(1)} solid transparent`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:Le(28),outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}:null}var cq=Qr((e,{multiline:t,radius:n,invalid:r,rightSectionWidth:o,withRightSection:s,iconWidth:a,offsetBottom:u,offsetTop:d,pointer:f},{variant:h,size:m})=>{const v=e.fn.variant({variant:"filled",color:"red"}).background,b=h==="default"||h==="filled"?{minHeight:At({size:m,sizes:qo}),paddingLeft:`calc(${At({size:m,sizes:qo})}  / 3)`,paddingRight:s?o||At({size:m,sizes:qo}):`calc(${At({size:m,sizes:qo})}  / 3)`,borderRadius:e.fn.radius(n)}:h==="unstyled"&&s?{paddingRight:o||At({size:m,sizes:qo})}:null;return{wrapper:{position:"relative",marginTop:d?`calc(${e.spacing.xs} / 2)`:void 0,marginBottom:u?`calc(${e.spacing.xs} / 2)`:void 0,"&:has(input:disabled)":{"& .mantine-Input-rightSection":{display:"none"}}},input:qg(gf(gf(qg(gf({},e.fn.fontStyles()),{height:t?h==="unstyled"?void 0:"auto":At({size:m,sizes:qo}),WebkitTapHighlightColor:"transparent",lineHeight:t?e.lineHeight:`calc(${At({size:m,sizes:qo})} - ${Le(2)})`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:At({size:m,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),lq({theme:e,variant:h})),b),{"&:disabled, &[data-disabled]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed",pointerEvents:"none","&::placeholder":{color:e.colors.dark[2]}},"&[data-invalid]":{color:v,borderColor:v,"&::placeholder":{opacity:1,color:v}},"&[data-with-icon]":{paddingLeft:typeof a=="number"?Le(a):At({size:m,sizes:qo})},"&::placeholder":qg(gf({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:a?Le(a):At({size:m,sizes:qo}),color:r?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o||At({size:m,sizes:qo})}}});const uq=cq;var dq=Object.defineProperty,fq=Object.defineProperties,pq=Object.getOwnPropertyDescriptors,Hp=Object.getOwnPropertySymbols,Sj=Object.prototype.hasOwnProperty,wj=Object.prototype.propertyIsEnumerable,gC=(e,t,n)=>t in e?dq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vf=(e,t)=>{for(var n in t||(t={}))Sj.call(t,n)&&gC(e,n,t[n]);if(Hp)for(var n of Hp(t))wj.call(t,n)&&gC(e,n,t[n]);return e},vC=(e,t)=>fq(e,pq(t)),hq=(e,t)=>{var n={};for(var r in e)Sj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hp)for(var r of Hp(e))t.indexOf(r)<0&&wj.call(e,r)&&(n[r]=e[r]);return n};const mq={size:"sm",variant:"default"},tl=p.forwardRef((e,t)=>{const n=_r("Input",mq,e),{className:r,error:o,required:s,disabled:a,variant:u,icon:d,style:f,rightSectionWidth:h,iconWidth:m,rightSection:v,rightSectionProps:b,radius:w,size:S,wrapperProps:C,classNames:P,styles:k,__staticSelector:_,multiline:E,sx:I,unstyled:O,pointer:R}=n,M=hq(n,["className","error","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:D,offsetTop:$,describedBy:A}=NG(),{classes:G,cx:L}=uq({radius:w,multiline:E,invalid:!!o,rightSectionWidth:h?Le(h):void 0,iconWidth:m,withRightSection:!!v,offsetBottom:D,offsetTop:$,pointer:R},{classNames:P,styles:k,name:["Input",_],unstyled:O,variant:u,size:S}),{systemStyles:F,rest:W}=zh(M);return z.createElement(yo,vf(vf({className:L(G.wrapper,r),sx:I,style:f},F),C),d&&z.createElement("div",{className:G.icon},d),z.createElement(yo,vC(vf({component:"input"},W),{ref:t,required:s,"aria-invalid":!!o,"aria-describedby":A,disabled:a,"data-disabled":a||void 0,"data-with-icon":!!d||void 0,"data-invalid":!!o||void 0,className:G.input})),v&&z.createElement("div",vC(vf({},b),{className:G.rightSection}),v))});tl.displayName="@mantine/core/Input";tl.Wrapper=vj;tl.Label=ay;tl.Description=ly;tl.Error=iy;tl.Placeholder=xj;const Wp=tl,Cj={xs:Le(16),sm:Le(22),md:Le(26),lg:Le(30),xl:Le(36)},gq={xs:Le(10),sm:Le(12),md:Le(14),lg:Le(16),xl:Le(18)};var vq=Qr((e,{disabled:t,radius:n,readOnly:r},{size:o,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:t?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:t?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:At({size:o,sizes:Cj}),paddingLeft:`calc(${At({size:o,sizes:e.spacing})} / 1.5)`,paddingRight:t||r?At({size:o,sizes:e.spacing}):0,fontWeight:500,fontSize:At({size:o,sizes:gq}),borderRadius:At({size:n,sizes:e.radius}),cursor:t?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${Le(10)})`},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${At({size:o,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const yq=vq;var bq=Object.defineProperty,Vp=Object.getOwnPropertySymbols,Pj=Object.prototype.hasOwnProperty,kj=Object.prototype.propertyIsEnumerable,yC=(e,t,n)=>t in e?bq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xq=(e,t)=>{for(var n in t||(t={}))Pj.call(t,n)&&yC(e,n,t[n]);if(Vp)for(var n of Vp(t))kj.call(t,n)&&yC(e,n,t[n]);return e},Sq=(e,t)=>{var n={};for(var r in e)Pj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vp)for(var r of Vp(e))t.indexOf(r)<0&&kj.call(e,r)&&(n[r]=e[r]);return n};const wq={xs:16,sm:22,md:24,lg:26,xl:30};function _j(e){var t=e,{label:n,classNames:r,styles:o,className:s,onRemove:a,disabled:u,readOnly:d,size:f,radius:h="sm",variant:m,unstyled:v}=t,b=Sq(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:w,cx:S}=yq({disabled:u,readOnly:d,radius:h},{name:"MultiSelect",classNames:r,styles:o,unstyled:v,size:f,variant:m});return z.createElement("div",xq({className:S(w.defaultValue,s)},b),z.createElement("span",{className:w.defaultValueLabel},n),!u&&!d&&z.createElement(d_,{"aria-hidden":!0,onMouseDown:a,size:wq[f],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:w.defaultValueRemove,tabIndex:-1,unstyled:v}))}_j.displayName="@mantine/core/MultiSelect/DefaultValue";function Cq({data:e,searchable:t,limit:n,searchValue:r,filter:o,value:s,disableSelectedItemFiltering:a}){if(!t&&s.length===0)return e;if(!t){const d=[];for(let f=0;f<e.length;f+=1)(a||!s.some(h=>h===e[f].value&&!e[f].disabled))&&d.push(e[f]);return d}const u=[];for(let d=0;d<e.length&&(o(r,!a&&s.some(f=>f===e[d].value&&!e[d].disabled),e[d])&&u.push(e[d]),!(u.length>=n));d+=1);return u}var Pq=Object.defineProperty,Up=Object.getOwnPropertySymbols,jj=Object.prototype.hasOwnProperty,Ej=Object.prototype.propertyIsEnumerable,bC=(e,t,n)=>t in e?Pq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xC=(e,t)=>{for(var n in t||(t={}))jj.call(t,n)&&bC(e,n,t[n]);if(Up)for(var n of Up(t))Ej.call(t,n)&&bC(e,n,t[n]);return e},kq=(e,t)=>{var n={};for(var r in e)jj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Up)for(var r of Up(e))t.indexOf(r)<0&&Ej.call(e,r)&&(n[r]=e[r]);return n};const _q={xs:Le(14),sm:Le(18),md:Le(20),lg:Le(24),xl:Le(28)};function jq(e){var t=e,{size:n,error:r,style:o}=t,s=kq(t,["size","error","style"]);const a=xa(),u=At({size:n,sizes:_q});return z.createElement("svg",xC({width:u,height:u,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:xC({color:r?a.colors.red[6]:a.colors.gray[6]},o),"data-chevron":!0},s),z.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Eq=Object.defineProperty,Iq=Object.defineProperties,Oq=Object.getOwnPropertyDescriptors,SC=Object.getOwnPropertySymbols,Rq=Object.prototype.hasOwnProperty,Mq=Object.prototype.propertyIsEnumerable,wC=(e,t,n)=>t in e?Eq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tq=(e,t)=>{for(var n in t||(t={}))Rq.call(t,n)&&wC(e,n,t[n]);if(SC)for(var n of SC(t))Mq.call(t,n)&&wC(e,n,t[n]);return e},Dq=(e,t)=>Iq(e,Oq(t));function Ij({shouldClear:e,clearButtonProps:t,onClear:n,size:r,error:o}){return e?z.createElement(d_,Dq(Tq({},t),{variant:"transparent",onClick:n,size:r,onMouseDown:s=>s.preventDefault()})):z.createElement(jq,{error:o,size:r})}Ij.displayName="@mantine/core/SelectRightSection";var Aq=Object.defineProperty,Nq=Object.defineProperties,zq=Object.getOwnPropertyDescriptors,Gp=Object.getOwnPropertySymbols,Oj=Object.prototype.hasOwnProperty,Rj=Object.prototype.propertyIsEnumerable,CC=(e,t,n)=>t in e?Aq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yg=(e,t)=>{for(var n in t||(t={}))Oj.call(t,n)&&CC(e,n,t[n]);if(Gp)for(var n of Gp(t))Rj.call(t,n)&&CC(e,n,t[n]);return e},PC=(e,t)=>Nq(e,zq(t)),$q=(e,t)=>{var n={};for(var r in e)Oj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gp)for(var r of Gp(e))t.indexOf(r)<0&&Rj.call(e,r)&&(n[r]=e[r]);return n};function Mj(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:o,theme:s}=t,a=$q(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:o,styles:n};const u=typeof n=="function"?n(s):n;return{rightSection:!a.readOnly&&!(a.disabled&&a.shouldClear)&&z.createElement(Ij,Yg({},a)),styles:PC(Yg({},u),{rightSection:PC(Yg({},u==null?void 0:u.rightSection),{pointerEvents:a.shouldClear?void 0:"none"})})}}var Lq=Object.defineProperty,Fq=Object.defineProperties,Bq=Object.getOwnPropertyDescriptors,kC=Object.getOwnPropertySymbols,Hq=Object.prototype.hasOwnProperty,Wq=Object.prototype.propertyIsEnumerable,_C=(e,t,n)=>t in e?Lq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vq=(e,t)=>{for(var n in t||(t={}))Hq.call(t,n)&&_C(e,n,t[n]);if(kC)for(var n of kC(t))Wq.call(t,n)&&_C(e,n,t[n]);return e},Uq=(e,t)=>Fq(e,Bq(t)),Gq=Qr((e,{invalid:t},{size:n})=>({wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3],color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${At({size:n,sizes:qo})} - ${Le(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:At({size:n,sizes:qo})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${Le(2)}) calc(${e.spacing.xs} / 2)`},searchInput:Uq(Vq({},e.fn.fontStyles()),{flex:1,minWidth:Le(60),backgroundColor:"transparent",border:0,outline:0,fontSize:At({size:n,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:At({size:n,sizes:Cj}),"&::placeholder":{opacity:1,color:t?e.colors.red[e.fn.primaryShade()]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}));const qq=Gq;var Yq=Object.defineProperty,Kq=Object.defineProperties,Xq=Object.getOwnPropertyDescriptors,qp=Object.getOwnPropertySymbols,Tj=Object.prototype.hasOwnProperty,Dj=Object.prototype.propertyIsEnumerable,jC=(e,t,n)=>t in e?Yq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pl=(e,t)=>{for(var n in t||(t={}))Tj.call(t,n)&&jC(e,n,t[n]);if(qp)for(var n of qp(t))Dj.call(t,n)&&jC(e,n,t[n]);return e},EC=(e,t)=>Kq(e,Xq(t)),Qq=(e,t)=>{var n={};for(var r in e)Tj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qp)for(var r of qp(e))t.indexOf(r)<0&&Dj.call(e,r)&&(n[r]=e[r]);return n};function Zq(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function Jq(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function IC(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const eY={size:"sm",valueComponent:_j,itemComponent:J1,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:Zq,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:Jq,switchDirectionOnFlip:!1,zIndex:K1("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},Aj=p.forwardRef((e,t)=>{const n=_r("MultiSelect",eY,e),{className:r,style:o,required:s,label:a,description:u,size:d,error:f,classNames:h,styles:m,wrapperProps:v,value:b,defaultValue:w,data:S,onChange:C,valueComponent:P,itemComponent:k,id:_,transitionProps:E,maxDropdownHeight:I,shadow:O,nothingFound:R,onFocus:M,onBlur:D,searchable:$,placeholder:A,filter:G,limit:L,clearSearchOnChange:F,clearable:W,clearSearchOnBlur:X,variant:N,onSearchChange:V,searchValue:H,disabled:U,initiallyOpened:ne,radius:ge,icon:le,rightSection:re,rightSectionWidth:K,creatable:ae,getCreateLabel:de,shouldCreate:xe,onCreate:oe,sx:me,dropdownComponent:fe,onDropdownClose:ke,onDropdownOpen:Ae,maxSelectedValues:ve,withinPortal:Ie,switchDirectionOnFlip:st,zIndex:Fe,selectOnBlur:Ke,name:_t,dropdownPosition:xt,errorProps:Fn,labelProps:Q,descriptionProps:we,form:te,positionDependencies:pe,onKeyDown:Ne,unstyled:Xe,inputContainer:yt,inputWrapperOrder:Xt,readOnly:an,withAsterisk:Pn,clearButtonProps:gr,hoverOnSearchChange:ln,disableSelectedItemFiltering:qn}=n,Oe=Qq(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:et,cx:it,theme:ut}=qq({invalid:!!f},{name:"MultiSelect",classNames:h,styles:m,unstyled:Xe,size:d,variant:N}),{systemStyles:Nt,rest:vr}=zh(Oe),cn=p.useRef(),bn=p.useRef({}),Sr=Q1(_),[kn,jn]=p.useState(ne),[as,un]=p.useState(-1),[Ao,No]=p.useState("column"),[$n,is]=Su({value:H,defaultValue:"",finalValue:void 0,onChange:V}),[Pa,jr]=p.useState(!1),{scrollIntoView:zo,targetRef:Qs,scrollableRef:ka}=Nk({duration:0,offset:5,cancelable:!1,isList:!0}),ls=ae&&typeof de=="function";let Y=null;const J=S.map(je=>typeof je=="string"?{label:je,value:je}:je),ue=_k({data:J}),[be,Se]=Su({value:IC(b,S),defaultValue:IC(w,S),finalValue:[],onChange:C}),Qe=p.useRef(!!ve&&ve<be.length),pt=je=>{if(!an){const ht=be.filter(Mt=>Mt!==je);Se(ht),ve&&ht.length<ve&&(Qe.current=!1)}},zt=je=>{is(je.currentTarget.value),!U&&!Qe.current&&$&&jn(!0)},lt=je=>{typeof M=="function"&&M(je),!U&&!Qe.current&&$&&jn(!0)},He=Cq({data:ue,searchable:$,searchValue:$n,limit:L,filter:G,value:be,disableSelectedItemFiltering:qn});ls&&xe($n,ue)&&(Y=de($n),He.push({label:$n,value:$n,creatable:!0}));const qe=Math.min(as,He.length-1),Ce=(je,ht,Mt)=>{let Tt=je;for(;Mt(Tt);)if(Tt=ht(Tt),!He[Tt].disabled)return Tt;return je};xs(()=>{un(ln&&$n?0:-1)},[$n,ln]),xs(()=>{!U&&be.length>S.length&&jn(!1),ve&&be.length<ve&&(Qe.current=!1),ve&&be.length>=ve&&(Qe.current=!0,jn(!1))},[be]);const We=je=>{if(!an)if(F&&is(""),be.includes(je.value))pt(je.value);else{if(je.creatable&&typeof oe=="function"){const ht=oe(je.value);typeof ht<"u"&&ht!==null&&Se(typeof ht=="string"?[...be,ht]:[...be,ht.value])}else Se([...be,je.value]);be.length===ve-1&&(Qe.current=!0,jn(!1)),He.length===1&&jn(!1)}},St=je=>{typeof D=="function"&&D(je),Ke&&He[qe]&&kn&&We(He[qe]),X&&is(""),jn(!1)},Ct=je=>{if(Pa||(Ne==null||Ne(je),an)||je.key!=="Backspace"&&ve&&Qe.current)return;const ht=Ao==="column",Mt=()=>{un($t=>{var dn;const Vt=Ce($t,Qt=>Qt+1,Qt=>Qt<He.length-1);return kn&&(Qs.current=bn.current[(dn=He[Vt])==null?void 0:dn.value],zo({alignment:ht?"end":"start"})),Vt})},Tt=()=>{un($t=>{var dn;const Vt=Ce($t,Qt=>Qt-1,Qt=>Qt>0);return kn&&(Qs.current=bn.current[(dn=He[Vt])==null?void 0:dn.value],zo({alignment:ht?"start":"end"})),Vt})};switch(je.key){case"ArrowUp":{je.preventDefault(),jn(!0),ht?Tt():Mt();break}case"ArrowDown":{je.preventDefault(),jn(!0),ht?Mt():Tt();break}case"Enter":{je.preventDefault(),He[qe]&&kn?We(He[qe]):jn(!0);break}case" ":{$||(je.preventDefault(),He[qe]&&kn?We(He[qe]):jn(!0));break}case"Backspace":{be.length>0&&$n.length===0&&(Se(be.slice(0,-1)),jn(!0),ve&&(Qe.current=!1));break}case"Home":{if(!$){je.preventDefault(),kn||jn(!0);const $t=He.findIndex(dn=>!dn.disabled);un($t),zo({alignment:ht?"end":"start"})}break}case"End":{if(!$){je.preventDefault(),kn||jn(!0);const $t=He.map(dn=>!!dn.disabled).lastIndexOf(!1);un($t),zo({alignment:ht?"end":"start"})}break}case"Escape":jn(!1)}},Ot=be.map(je=>{let ht=ue.find(Mt=>Mt.value===je&&!Mt.disabled);return!ht&&ls&&(ht={value:je,label:je}),ht}).filter(je=>!!je).map((je,ht)=>z.createElement(P,EC(Pl({},je),{variant:N,disabled:U,className:et.value,readOnly:an,onRemove:Mt=>{Mt.preventDefault(),Mt.stopPropagation(),pt(je.value)},key:je.value,size:d,styles:m,classNames:h,radius:ge,index:ht}))),Lt=je=>be.includes(je),Ut=()=>{var je;is(""),Se([]),(je=cn.current)==null||je.focus(),ve&&(Qe.current=!1)},Ft=!an&&(He.length>0?kn:kn&&!!R);return xs(()=>{const je=Ft?Ae:ke;typeof je=="function"&&je()},[Ft]),z.createElement(Wp.Wrapper,Pl(Pl({required:s,id:Sr,label:a,error:f,description:u,size:d,className:r,style:o,classNames:h,styles:m,__staticSelector:"MultiSelect",sx:me,errorProps:Fn,descriptionProps:we,labelProps:Q,inputContainer:yt,inputWrapperOrder:Xt,unstyled:Xe,withAsterisk:Pn,variant:N},Nt),v),z.createElement(Ka,{opened:Ft,transitionProps:E,shadow:"sm",withinPortal:Ie,__staticSelector:"MultiSelect",onDirectionChange:No,switchDirectionOnFlip:st,zIndex:Fe,dropdownPosition:xt,positionDependencies:[...pe,$n],classNames:h,styles:m,unstyled:Xe,variant:N},z.createElement(Ka.Target,null,z.createElement("div",{className:et.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":kn&&Ft?`${Sr}-items`:null,"aria-controls":Sr,"aria-expanded":kn,onMouseLeave:()=>un(-1),tabIndex:-1},z.createElement("input",{type:"hidden",name:_t,value:be.join(","),form:te,disabled:U}),z.createElement(Wp,Pl({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:d,variant:N,disabled:U,error:f,required:s,radius:ge,icon:le,unstyled:Xe,onMouseDown:je=>{var ht;je.preventDefault(),!U&&!Qe.current&&jn(!kn),(ht=cn.current)==null||ht.focus()},classNames:EC(Pl({},h),{input:it({[et.input]:!$},h==null?void 0:h.input)})},Mj({theme:ut,rightSection:re,rightSectionWidth:K,styles:m,size:d,shouldClear:W&&be.length>0,onClear:Ut,error:f,disabled:U,clearButtonProps:gr,readOnly:an})),z.createElement("div",{className:et.values,"data-clearable":W||void 0},Ot,z.createElement("input",Pl({ref:Nh(t,cn),type:"search",id:Sr,className:it(et.searchInput,{[et.searchInputPointer]:!$,[et.searchInputInputHidden]:!kn&&be.length>0||!$&&be.length>0,[et.searchInputEmpty]:be.length===0}),onKeyDown:Ct,value:$n,onChange:zt,onFocus:lt,onBlur:St,readOnly:!$||Qe.current||an,placeholder:be.length===0?A:void 0,disabled:U,"data-mantine-stop-propagation":kn,autoComplete:"off",onCompositionStart:()=>jr(!0),onCompositionEnd:()=>jr(!1)},vr)))))),z.createElement(Ka.Dropdown,{component:fe||Bh,maxHeight:I,direction:Ao,id:Sr,innerRef:ka,__staticSelector:"MultiSelect",classNames:h,styles:m},z.createElement(Z1,{data:He,hovered:qe,classNames:h,styles:m,uuid:Sr,__staticSelector:"MultiSelect",onItemHover:un,onItemSelect:We,itemsRefs:bn,itemComponent:k,size:d,nothingFound:R,isItemSelected:Lt,creatable:ae&&!!Y,createLabel:Y,unstyled:Xe,variant:N}))))});Aj.displayName="@mantine/core/MultiSelect";function tY({data:e,searchable:t,limit:n,searchValue:r,filter:o,value:s,filterDataOnExactSearchMatch:a}){if(!t)return e;const u=s!=null&&e.find(f=>f.value===s)||null;if(u&&!a&&(u==null?void 0:u.label)===r){if(n){if(n>=e.length)return e;const f=e.indexOf(u),h=f+n,m=h-e.length;return m>0?e.slice(f-m):e.slice(f,h)}return e}const d=[];for(let f=0;f<e.length&&(o(r,e[f])&&d.push(e[f]),!(d.length>=n));f+=1);return d}var nY=Qr(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const rY=nY;var oY=Object.defineProperty,sY=Object.defineProperties,aY=Object.getOwnPropertyDescriptors,Yp=Object.getOwnPropertySymbols,Nj=Object.prototype.hasOwnProperty,zj=Object.prototype.propertyIsEnumerable,OC=(e,t,n)=>t in e?oY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t)=>{for(var n in t||(t={}))Nj.call(t,n)&&OC(e,n,t[n]);if(Yp)for(var n of Yp(t))zj.call(t,n)&&OC(e,n,t[n]);return e},Kg=(e,t)=>sY(e,aY(t)),iY=(e,t)=>{var n={};for(var r in e)Nj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yp)for(var r of Yp(e))t.indexOf(r)<0&&zj.call(e,r)&&(n[r]=e[r]);return n};function lY(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function cY(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const uY={required:!1,size:"sm",shadow:"sm",itemComponent:J1,transitionProps:{transition:"fade",duration:0},initiallyOpened:!1,filter:lY,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:cY,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:K1("popover"),positionDependencies:[],dropdownPosition:"flip"},$j=p.forwardRef((e,t)=>{const n=gG("Select",uY,e),{inputProps:r,wrapperProps:o,shadow:s,data:a,value:u,defaultValue:d,onChange:f,itemComponent:h,onKeyDown:m,onBlur:v,onFocus:b,transitionProps:w,initiallyOpened:S,unstyled:C,classNames:P,styles:k,filter:_,maxDropdownHeight:E,searchable:I,clearable:O,nothingFound:R,limit:M,disabled:D,onSearchChange:$,searchValue:A,rightSection:G,rightSectionWidth:L,creatable:F,getCreateLabel:W,shouldCreate:X,selectOnBlur:N,onCreate:V,dropdownComponent:H,onDropdownClose:U,onDropdownOpen:ne,withinPortal:ge,portalProps:le,switchDirectionOnFlip:re,zIndex:K,name:ae,dropdownPosition:de,allowDeselect:xe,placeholder:oe,filterDataOnExactSearchMatch:me,form:fe,positionDependencies:ke,readOnly:Ae,clearButtonProps:ve,hoverOnSearchChange:Ie}=n,st=iY(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transitionProps","initiallyOpened","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","portalProps","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","form","positionDependencies","readOnly","clearButtonProps","hoverOnSearchChange"]),{classes:Fe,cx:Ke,theme:_t}=rY(),[xt,Fn]=p.useState(S),[Q,we]=p.useState(-1),te=p.useRef(),pe=p.useRef({}),[Ne,Xe]=p.useState("column"),yt=Ne==="column",{scrollIntoView:Xt,targetRef:an,scrollableRef:Pn}=Nk({duration:0,offset:5,cancelable:!1,isList:!0}),gr=xe===void 0?O:xe,ln=J=>{if(xt!==J){Fn(J);const ue=J?ne:U;typeof ue=="function"&&ue()}},qn=F&&typeof W=="function";let Oe=null;const et=a.map(J=>typeof J=="string"?{label:J,value:J}:J),it=_k({data:et}),[ut,Nt,vr]=Su({value:u,defaultValue:d,finalValue:null,onChange:f}),cn=it.find(J=>J.value===ut),[bn,Sr]=Su({value:A,defaultValue:(cn==null?void 0:cn.label)||"",finalValue:void 0,onChange:$}),kn=J=>{Sr(J),I&&typeof $=="function"&&$(J)},jn=()=>{var J;Ae||(Nt(null),vr||kn(""),(J=te.current)==null||J.focus())};p.useEffect(()=>{const J=it.find(ue=>ue.value===ut);J?kn(J.label):(!qn||!ut)&&kn("")},[ut]),p.useEffect(()=>{cn&&(!I||!xt)&&kn(cn.label)},[cn==null?void 0:cn.label]);const as=J=>{if(!Ae)if(gr&&(cn==null?void 0:cn.value)===J.value)Nt(null),ln(!1);else{if(J.creatable&&typeof V=="function"){const ue=V(J.value);typeof ue<"u"&&ue!==null&&Nt(typeof ue=="string"?ue:ue.value)}else Nt(J.value);vr||kn(J.label),we(-1),ln(!1),te.current.focus()}},un=tY({data:it,searchable:I,limit:M,searchValue:bn,filter:_,filterDataOnExactSearchMatch:me,value:ut});qn&&X(bn,un)&&(Oe=W(bn),un.push({label:bn,value:bn,creatable:!0}));const Ao=(J,ue,be)=>{let Se=J;for(;be(Se);)if(Se=ue(Se),!un[Se].disabled)return Se;return J};xs(()=>{we(Ie&&bn?0:-1)},[bn,Ie]);const No=ut?un.findIndex(J=>J.value===ut):0,$n=!Ae&&(un.length>0?xt:xt&&!!R),is=()=>{we(J=>{var ue;const be=Ao(J,Se=>Se-1,Se=>Se>0);return an.current=pe.current[(ue=un[be])==null?void 0:ue.value],$n&&Xt({alignment:yt?"start":"end"}),be})},Pa=()=>{we(J=>{var ue;const be=Ao(J,Se=>Se+1,Se=>Se<un.length-1);return an.current=pe.current[(ue=un[be])==null?void 0:ue.value],$n&&Xt({alignment:yt?"end":"start"}),be})},jr=()=>window.setTimeout(()=>{var J;an.current=pe.current[(J=un[No])==null?void 0:J.value],Xt({alignment:yt?"end":"start"})},50);xs(()=>{$n&&jr()},[$n]);const zo=J=>{switch(typeof m=="function"&&m(J),J.key){case"ArrowUp":{J.preventDefault(),xt?yt?is():Pa():(we(No),ln(!0),jr());break}case"ArrowDown":{J.preventDefault(),xt?yt?Pa():is():(we(No),ln(!0),jr());break}case"Home":{if(!I){J.preventDefault(),xt||ln(!0);const ue=un.findIndex(be=>!be.disabled);we(ue),$n&&Xt({alignment:yt?"end":"start"})}break}case"End":{if(!I){J.preventDefault(),xt||ln(!0);const ue=un.map(be=>!!be.disabled).lastIndexOf(!1);we(ue),$n&&Xt({alignment:yt?"end":"start"})}break}case"Escape":{J.preventDefault(),ln(!1),we(-1);break}case" ":{I||(J.preventDefault(),un[Q]&&xt?as(un[Q]):(ln(!0),we(No),jr()));break}case"Enter":I||J.preventDefault(),un[Q]&&xt&&(J.preventDefault(),as(un[Q]))}},Qs=J=>{typeof v=="function"&&v(J);const ue=it.find(be=>be.value===ut);N&&un[Q]&&xt&&as(un[Q]),kn((ue==null?void 0:ue.label)||""),ln(!1)},ka=J=>{typeof b=="function"&&b(J),I&&ln(!0)},ls=J=>{Ae||(kn(J.currentTarget.value),O&&J.currentTarget.value===""&&Nt(null),we(-1),ln(!0))},Y=()=>{Ae||(ln(!xt),ut&&!xt&&we(No))};return z.createElement(Wp.Wrapper,Kg(Fc({},o),{__staticSelector:"Select"}),z.createElement(Ka,{opened:$n,transitionProps:w,shadow:s,withinPortal:ge,portalProps:le,__staticSelector:"Select",onDirectionChange:Xe,switchDirectionOnFlip:re,zIndex:K,dropdownPosition:de,positionDependencies:[...ke,bn],classNames:P,styles:k,unstyled:C,variant:r.variant},z.createElement(Ka.Target,null,z.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":$n?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":$n,onMouseLeave:()=>we(-1),tabIndex:-1},z.createElement("input",{type:"hidden",name:ae,value:ut||"",form:fe,disabled:D}),z.createElement(Wp,Fc(Kg(Fc(Fc({autoComplete:"off",type:"search"},r),st),{ref:Nh(t,te),onKeyDown:zo,__staticSelector:"Select",value:bn,placeholder:oe,onChange:ls,"aria-autocomplete":"list","aria-controls":$n?`${r.id}-items`:null,"aria-activedescendant":Q>=0?`${r.id}-${Q}`:null,onMouseDown:Y,onBlur:Qs,onFocus:ka,readOnly:!I||Ae,disabled:D,"data-mantine-stop-propagation":$n,name:null,classNames:Kg(Fc({},P),{input:Ke({[Fe.input]:!I},P==null?void 0:P.input)})}),Mj({theme:_t,rightSection:G,rightSectionWidth:L,styles:k,size:r.size,shouldClear:O&&!!cn,onClear:jn,error:o.error,clearButtonProps:ve,disabled:D,readOnly:Ae}))))),z.createElement(Ka.Dropdown,{component:H||Bh,maxHeight:E,direction:Ne,id:r.id,innerRef:Pn,__staticSelector:"Select",classNames:P,styles:k},z.createElement(Z1,{data:un,hovered:Q,classNames:P,styles:k,isItemSelected:J=>J===ut,uuid:r.id,__staticSelector:"Select",onItemHover:we,onItemSelect:as,itemsRefs:pe,itemComponent:h,size:r.size,nothingFound:R,creatable:qn&&!!Oe,createLabel:Oe,"aria-label":o.label,unstyled:C,variant:r.variant}))))});$j.displayName="@mantine/core/Select";const Lj=()=>{const[e,t,n,r,o,s,a,u,d,f,h,m,v,b,w,S,C,P,k,_,E,I,O,R,M,D,$,A,G,L,F,W,X,N,V,H,U,ne]=Xi("colors",["base.50","base.100","base.150","base.200","base.250","base.300","base.350","base.400","base.450","base.500","base.550","base.600","base.650","base.700","base.750","base.800","base.850","base.900","base.950","accent.50","accent.100","accent.150","accent.200","accent.250","accent.300","accent.350","accent.400","accent.450","accent.500","accent.550","accent.600","accent.650","accent.700","accent.750","accent.800","accent.850","accent.900","accent.950"]);return{base50:e,base100:t,base150:n,base200:r,base250:o,base300:s,base350:a,base400:u,base450:d,base500:f,base550:h,base600:m,base650:v,base700:b,base750:w,base800:S,base850:C,base900:P,base950:k,accent50:_,accent100:E,accent150:I,accent200:O,accent250:R,accent300:M,accent350:D,accent400:$,accent450:A,accent500:G,accent550:L,accent600:F,accent650:W,accent700:X,accent750:N,accent800:V,accent850:H,accent900:U,accent950:ne}},dY=e=>{const{searchable:t=!0,tooltip:n,...r}=e,{base50:o,base100:s,base200:a,base300:u,base400:d,base500:f,base600:h,base700:m,base800:v,base900:b,accent200:w,accent300:S,accent400:C,accent500:P,accent600:k}=Lj(),{colorMode:_}=bo(),[E]=Xi("shadows",["dark-lg"]);return i.jsx(Gn,{label:n,placement:"top",hasArrow:!0,children:i.jsx($j,{searchable:t,styles:()=>({label:{color:Re(m,u)(_),fontWeight:"normal"},input:{backgroundColor:Re(o,b)(_),borderWidth:"2px",borderColor:Re(a,v)(_),color:Re(b,s)(_),paddingRight:24,fontWeight:600,"&:hover":{borderColor:Re(u,h)(_)},"&:focus":{borderColor:Re(S,k)(_)},"&:is(:focus, :hover)":{borderColor:Re(d,f)(_)},"&:focus-within":{borderColor:Re(w,k)(_)},"&[data-disabled]":{backgroundColor:Re(u,m)(_),color:Re(h,d)(_),cursor:"not-allowed"}},value:{backgroundColor:Re(s,b)(_),color:Re(b,s)(_),button:{color:Re(b,s)(_)},"&:hover":{backgroundColor:Re(u,m)(_),cursor:"pointer"}},dropdown:{backgroundColor:Re(a,v)(_),borderColor:Re(a,v)(_),boxShadow:E},item:{backgroundColor:Re(a,v)(_),color:Re(v,a)(_),padding:6,"&[data-hovered]":{color:Re(b,s)(_),backgroundColor:Re(u,m)(_)},"&[data-active]":{backgroundColor:Re(u,m)(_),"&:hover":{color:Re(b,s)(_),backgroundColor:Re(u,m)(_)}},"&[data-selected]":{backgroundColor:Re(C,k)(_),color:Re(o,s)(_),fontWeight:600,"&:hover":{backgroundColor:Re(P,P)(_),color:Re("white",o)(_)}},"&[data-disabled]":{color:Re(f,h)(_),cursor:"not-allowed"}},rightSection:{width:32,button:{color:Re(b,s)(_)}}}),...r})})},mr=p.memo(dY);function fY(){const e=B(o=>o.postprocessing.facetoolType),t=se(),{t:n}=ye(),r=o=>t(o8(o));return i.jsx(mr,{label:n("parameters.type"),data:r8.concat(),value:e,onChange:r})}function pY(){const e=B(o=>o.system.isGFPGANAvailable),t=B(o=>o.postprocessing.facetoolStrength),{t:n}=ye(),r=se();return i.jsx(vt,{isDisabled:!e,label:n("parameters.strength"),step:.05,min:0,max:1,onChange:o=>r(Mx(o)),handleReset:()=>r(Mx(.75)),value:t,withReset:!0,withSliderMarks:!0,withInput:!0})}function hY(){const e=B(o=>o.system.isGFPGANAvailable),t=B(o=>o.postprocessing.codeformerFidelity),{t:n}=ye(),r=se();return i.jsx(vt,{isDisabled:!e,label:n("parameters.codeformerFidelity"),step:.05,min:0,max:1,onChange:o=>r(Tx(o)),handleReset:()=>r(Tx(1)),value:t,withReset:!0,withSliderMarks:!0,withInput:!0})}const mY=()=>{const e=B(t=>t.postprocessing.facetoolType);return i.jsxs(kr,{gap:2,alignItems:"stretch",children:[i.jsx(fY,{}),i.jsx(pY,{}),e==="codeformer"&&i.jsx(hY,{})]})};function gY(){const e=B(o=>o.system.isESRGANAvailable),t=B(o=>o.postprocessing.upscalingDenoising),{t:n}=ye(),r=se();return i.jsx(vt,{label:n("parameters.denoisingStrength"),value:t,min:0,max:1,step:.01,onChange:o=>{r(Dx(o))},handleReset:()=>r(Dx(.75)),withSliderMarks:!0,withInput:!0,withReset:!0,isDisabled:!e})}function vY(){const e=B(o=>o.system.isESRGANAvailable),t=B(o=>o.postprocessing.upscalingStrength),{t:n}=ye(),r=se();return i.jsx(vt,{label:`${n("parameters.upscale")} ${n("parameters.strength")}`,value:t,min:0,max:1,step:.05,onChange:o=>r(Ax(o)),handleReset:()=>r(Ax(.75)),withSliderMarks:!0,withInput:!0,withReset:!0,isDisabled:!e})}function yY(){const e=B(s=>s.system.isESRGANAvailable),t=B(s=>s.postprocessing.upscalingLevel),{t:n}=ye(),r=se(),o=s=>r(a8(Number(s)));return i.jsx(mr,{disabled:!e,label:n("parameters.scale"),value:String(t),onChange:o,data:s8})}const bY=()=>i.jsxs(kr,{gap:2,alignItems:"stretch",children:[i.jsx(yY,{}),i.jsx(gY,{}),i.jsx(vY,{})]}),xY=Pe([wn],({system:e})=>{const{isProcessing:t,isConnected:n}=e;return n&&!t}),SY=e=>{const{onClick:t,isDisabled:n}=e,{t:r}=ye(),o=B(xY);return i.jsx(Me,{onClick:t,icon:i.jsx(vo,{}),tooltip:`${r("gallery.deleteImage")} (Del)`,"aria-label":`${r("gallery.deleteImage")} (Del)`,isDisabled:n||!o,colorScheme:"error"})},wY=Pe([wn,Dr],({gallery:e,system:t,postprocessing:n,ui:r,lightbox:o},s)=>{const{isProcessing:a,isConnected:u,isGFPGANAvailable:d,isESRGANAvailable:f,shouldConfirmOnDelete:h,progressImage:m}=t,{upscalingLevel:v,facetoolStrength:b}=n,{isLightboxOpen:w}=o,{shouldShowImageDetails:S,shouldHidePreview:C,shouldShowProgressInViewer:P}=r,k=e.selection[e.selection.length-1];return{canDeleteImage:u&&!a,shouldConfirmOnDelete:h,isProcessing:a,isConnected:u,isGFPGANAvailable:d,isESRGANAvailable:f,upscalingLevel:v,facetoolStrength:b,shouldDisableToolbarButtons:!!m||!k,shouldShowImageDetails:S,activeTabName:s,isLightboxOpen:w,shouldHidePreview:C,shouldShowProgressInViewer:P,lastSelectedImage:k}},{memoizeOptions:{resultEqualityCheck:Wt}}),Fj=e=>{var ne,ge,le;const t=se(),{isProcessing:n,isConnected:r,isGFPGANAvailable:o,isESRGANAvailable:s,upscalingLevel:a,facetoolStrength:u,shouldDisableToolbarButtons:d,shouldShowImageDetails:f,isLightboxOpen:h,activeTabName:m,shouldHidePreview:v,lastSelectedImage:b,shouldShowProgressInViewer:w}=B(wY),S=hr("lightbox").isFeatureEnabled,C=hr("unifiedCanvas").isFeatureEnabled,P=hr("upscaling").isFeatureEnabled,k=hr("faceRestore").isFeatureEnabled,_=Iu(),{t:E}=ye(),{recallBothPrompts:I,recallSeed:O,recallAllParameters:R}=U1(),{currentData:M}=Ws(b??ga.skipToken),D=p.useCallback(()=>{const K=(()=>{if(M)return M.image_url.startsWith("http")?M.image_url:window.location.toString()+M.image_url})();if(!K){_({title:E("toast.problemCopyingImageLink"),status:"error",duration:2500,isClosable:!0});return}navigator.clipboard.writeText(K).then(()=>{_({title:E("toast.imageLinkCopied"),status:"success",duration:2500,isClosable:!0})})},[_,E,M]),$=p.useCallback(()=>{R(M)},[M,R]);Ge("a",()=>{},[M,R]);const A=p.useCallback(()=>{var re;O((re=M==null?void 0:M.metadata)==null?void 0:re.seed)},[M,O]);Ge("s",A,[M]);const G=p.useCallback(()=>{var re,K;I((re=M==null?void 0:M.metadata)==null?void 0:re.positive_conditioning,(K=M==null?void 0:M.metadata)==null?void 0:K.negative_conditioning)},[M,I]);Ge("p",G,[M]);const L=p.useCallback(()=>{t(g3()),t(Ff(M))},[t,M]);Ge("shift+i",L,[M]);const F=p.useCallback(()=>{},[]),W=p.useCallback(()=>{M&&t(M0(M))},[t,M]);Ge("Shift+U",()=>{F()},{enabled:()=>!!(P&&s&&!d&&r&&!n&&a)},[P,M,s,d,r,n,a]);const X=p.useCallback(()=>{},[]);Ge("Shift+R",()=>{X()},{enabled:()=>!!(k&&o&&!d&&r&&!n&&u)},[k,M,o,d,r,n,u]);const N=p.useCallback(()=>t(_3(!f)),[t,f]),V=p.useCallback(()=>{M&&(t(v3()),h&&t(cu(!1)),t(y3(M)),t(_s()),m!=="unifiedCanvas"&&t(_i("unifiedCanvas")),_({title:E("toast.sentToUnifiedCanvas"),status:"success",duration:2500,isClosable:!0}))},[M,h,t,m,_,E]);Ge("i",()=>{M?N():_({title:E("toast.metadataLoadFailed"),status:"error",duration:2500,isClosable:!0})},[M,f,_]);const H=p.useCallback(()=>{t(j3(!w))},[t,w]),U=p.useCallback(()=>{t(cu(!h))},[t,h]);return i.jsx(i.Fragment,{children:i.jsxs(q,{sx:{flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:2},...e,children:[i.jsxs(br,{isAttached:!0,isDisabled:d,children:[i.jsx(ia,{triggerComponent:i.jsx(Me,{"aria-label":`${E("parameters.sendTo")}...`,tooltip:`${E("parameters.sendTo")}...`,isDisabled:!M,icon:i.jsx(dL,{})}),children:i.jsxs(q,{sx:{flexDirection:"column",rowGap:2},children:[i.jsx(Kt,{size:"sm",onClick:L,leftIcon:i.jsx(ap,{}),id:"send-to-img2img",children:E("parameters.sendToImg2Img")}),C&&i.jsx(Kt,{size:"sm",onClick:V,leftIcon:i.jsx(ap,{}),id:"send-to-canvas",children:E("parameters.sendToUnifiedCanvas")}),i.jsx(Kt,{size:"sm",onClick:D,leftIcon:i.jsx(pc,{}),children:E("parameters.copyImageToLink")}),i.jsx(Ri,{download:!0,href:M==null?void 0:M.image_url,target:"_blank",children:i.jsx(Kt,{leftIcon:i.jsx(z1,{}),size:"sm",w:"100%",children:E("parameters.downloadImage")})})]})}),S&&i.jsx(Me,{icon:i.jsx($1,{}),tooltip:h?`${E("parameters.closeViewer")} (Z)`:`${E("parameters.openInViewer")} (Z)`,"aria-label":h?`${E("parameters.closeViewer")} (Z)`:`${E("parameters.openInViewer")} (Z)`,isChecked:h,onClick:U,isDisabled:d})]}),i.jsxs(br,{isAttached:!0,isDisabled:d,children:[i.jsx(Me,{icon:i.jsx(aL,{}),tooltip:`${E("parameters.usePrompt")} (P)`,"aria-label":`${E("parameters.usePrompt")} (P)`,isDisabled:!((ne=M==null?void 0:M.metadata)!=null&&ne.positive_conditioning),onClick:G}),i.jsx(Me,{icon:i.jsx(cL,{}),tooltip:`${E("parameters.useSeed")} (S)`,"aria-label":`${E("parameters.useSeed")} (S)`,isDisabled:!((ge=M==null?void 0:M.metadata)!=null&&ge.seed),onClick:A}),i.jsx(Me,{icon:i.jsx(B$,{}),tooltip:`${E("parameters.useAll")} (A)`,"aria-label":`${E("parameters.useAll")} (A)`,isDisabled:!["t2l","l2l","inpaint"].includes(String((le=M==null?void 0:M.metadata)==null?void 0:le.type)),onClick:$})]}),(P||k)&&i.jsxs(br,{isAttached:!0,isDisabled:d,children:[k&&i.jsx(ia,{triggerComponent:i.jsx(Me,{icon:i.jsx(Q$,{}),"aria-label":E("parameters.restoreFaces")}),children:i.jsxs(q,{sx:{flexDirection:"column",rowGap:4},children:[i.jsx(mY,{}),i.jsx(Kt,{isDisabled:!o||!M||!(r&&!n)||!u,onClick:X,children:E("parameters.restoreFaces")})]})}),P&&i.jsx(ia,{triggerComponent:i.jsx(Me,{icon:i.jsx(q$,{}),"aria-label":E("parameters.upscale")}),children:i.jsxs(q,{sx:{flexDirection:"column",gap:4},children:[i.jsx(bY,{}),i.jsx(Kt,{isDisabled:!s||!M||!(r&&!n)||!a,onClick:F,children:E("parameters.upscaleImage")})]})})]}),i.jsx(br,{isAttached:!0,isDisabled:d,children:i.jsx(Me,{icon:i.jsx(N1,{}),tooltip:`${E("parameters.info")} (I)`,"aria-label":`${E("parameters.info")} (I)`,isChecked:f,onClick:N})}),i.jsx(br,{isAttached:!0,isDisabled:d,children:i.jsx(Me,{"aria-label":E("settings.displayInProgress"),tooltip:E("settings.displayInProgress"),icon:i.jsx(Z$,{}),isChecked:w,onClick:H})}),i.jsx(br,{isAttached:!0,children:i.jsx(SY,{onClick:W,isDisabled:d})})]})})},Uo=({label:e,value:t,onClick:n,isLink:r,labelPosition:o,withCopy:s=!1})=>{const{t:a}=ye();return t?i.jsxs(q,{gap:2,children:[n&&i.jsx(Gn,{label:`Recall ${e}`,children:i.jsx($i,{"aria-label":a("accessibility.useThisParameter"),icon:i.jsx(Of,{}),size:"xs",variant:"ghost",fontSize:20,onClick:n})}),s&&i.jsx(Gn,{label:`Copy ${e}`,children:i.jsx($i,{"aria-label":`Copy ${e}`,icon:i.jsx(pc,{}),size:"xs",variant:"ghost",fontSize:14,onClick:()=>navigator.clipboard.writeText(t.toString())})}),i.jsxs(q,{direction:o?"column":"row",children:[i.jsxs(Ye,{fontWeight:"semibold",whiteSpace:"pre-wrap",pr:2,children:[e,":"]}),r?i.jsxs(Ri,{href:t.toString(),isExternal:!0,wordBreak:"break-all",children:[t.toString()," ",i.jsx(W1,{mx:"2px"})]}):i.jsx(Ye,{overflowY:"scroll",wordBreak:"break-all",children:t.toString()})]})]}):null},CY=({image:e})=>{const t=se(),{recallBothPrompts:n,recallPositivePrompt:r,recallNegativePrompt:o,recallSeed:s,recallInitialImage:a,recallCfgScale:u,recallModel:d,recallScheduler:f,recallSteps:h,recallWidth:m,recallHeight:v,recallStrength:b,recallAllParameters:w}=U1();Ge("esc",()=>{t(_3(!1))});const S=e==null?void 0:e.session_id,C=e==null?void 0:e.metadata,{t:P}=ye(),k=JSON.stringify(e,null,2);return i.jsxs(q,{sx:{padding:4,gap:1,flexDirection:"column",width:"full",height:"full",backdropFilter:"blur(20px)",bg:"whiteAlpha.600",_dark:{bg:"blackAlpha.600"},overflow:"scroll"},children:[i.jsxs(q,{gap:2,children:[i.jsx(Ye,{fontWeight:"semibold",children:"File:"}),i.jsxs(Ri,{href:e.image_url,isExternal:!0,maxW:"calc(100% - 3rem)",children:[e.image_name,i.jsx(W1,{mx:"2px"})]})]}),C&&Object.keys(C).length>0?i.jsxs(i.Fragment,{children:[C.type&&i.jsx(Uo,{label:"Invocation type",value:C.type}),S&&i.jsx(Uo,{label:"Session ID",value:S}),C.positive_conditioning&&i.jsx(Uo,{label:"Positive Prompt",labelPosition:"top",value:C.positive_conditioning,onClick:()=>r(C.positive_conditioning)}),C.negative_conditioning&&i.jsx(Uo,{label:"Negative Prompt",labelPosition:"top",value:C.negative_conditioning,onClick:()=>o(C.negative_conditioning)}),C.seed!==void 0&&i.jsx(Uo,{label:"Seed",value:C.seed,onClick:()=>s(C.seed)}),C.model!==void 0&&i.jsx(Uo,{label:"Model",value:C.model,onClick:()=>d(C.model)}),C.width&&i.jsx(Uo,{label:"Width",value:C.width,onClick:()=>m(C.width)}),C.height&&i.jsx(Uo,{label:"Height",value:C.height,onClick:()=>v(C.height)}),C.scheduler&&i.jsx(Uo,{label:"Scheduler",value:C.scheduler,onClick:()=>f(C.scheduler)}),C.steps&&i.jsx(Uo,{label:"Steps",value:C.steps,onClick:()=>h(C.steps)}),C.cfg_scale!==void 0&&i.jsx(Uo,{label:"CFG scale",value:C.cfg_scale,onClick:()=>u(C.cfg_scale)}),C.strength&&i.jsx(Uo,{label:"Image to image strength",value:C.strength,onClick:()=>b(C.strength)})]}):i.jsx(y6,{width:"100%",pt:10,children:i.jsx(Ye,{fontSize:"lg",fontWeight:"semibold",children:"No metadata available"})}),i.jsxs(q,{gap:2,direction:"column",overflow:"auto",children:[i.jsxs(q,{gap:2,children:[i.jsx(Gn,{label:"Copy metadata JSON",children:i.jsx($i,{"aria-label":P("accessibility.copyMetadataJson"),icon:i.jsx(pc,{}),size:"xs",variant:"ghost",fontSize:14,onClick:()=>navigator.clipboard.writeText(k)})}),i.jsx(Ye,{fontWeight:"semibold",children:"Metadata JSON:"})]}),i.jsx(GP,{defer:!0,children:i.jsx(Ue,{sx:{padding:4,borderRadius:"base",bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},w:"full"},children:i.jsx("pre",{children:k})})})]})]})},Bj=p.memo(CY),RC={height:"100%",width:"15%",alignItems:"center",pointerEvents:"auto"},MC={color:"base.100"},PY=Pe([wn,w3],(e,t)=>{const n=e.gallery.selection[e.gallery.selection.length-1];if(!n||t.length===0)return{isOnFirstImage:!0,isOnLastImage:!0};const r=t.findIndex(m=>m.image_name===n),o=Vs(r+1,0,t.length-1),s=Vs(r-1,0,t.length-1),a=t[o].image_name,u=t[s].image_name,d=Nx(e,a),f=Nx(e,u),h=t.length;return{isOnFirstImage:r===0,isOnLastImage:!isNaN(r)&&r===h-1,nextImage:d,prevImage:f,nextImageId:a,prevImageId:u}},{memoizeOptions:{resultEqualityCheck:Wt}}),Hj=()=>{const e=se(),{t}=ye(),{isOnFirstImage:n,isOnLastImage:r,nextImageId:o,prevImageId:s}=B(PY),[a,u]=p.useState(!1),d=p.useCallback(()=>{u(!0)},[]),f=p.useCallback(()=>{u(!1)},[]),h=p.useCallback(()=>{s&&e(mv(s))},[e,s]),m=p.useCallback(()=>{o&&e(mv(o))},[e,o]);return Ge("left",()=>{h()},[s]),Ge("right",()=>{m()},[o]),i.jsxs(q,{sx:{justifyContent:"space-between",height:"100%",width:"100%",pointerEvents:"none"},children:[i.jsx(ha,{sx:{...RC,justifyContent:"flex-start"},onMouseOver:d,onMouseOut:f,children:a&&!n&&i.jsx($i,{"aria-label":t("accessibility.previousImage"),icon:i.jsx(z$,{size:64}),variant:"unstyled",onClick:h,boxSize:16,sx:MC})}),i.jsx(ha,{sx:{...RC,justifyContent:"flex-end"},onMouseOver:d,onMouseOut:f,children:a&&!r&&i.jsx($i,{"aria-label":t("accessibility.nextImage"),icon:i.jsx($$,{size:64}),variant:"unstyled",onClick:m,boxSize:16,sx:MC})})]})};var Jo=function(e,t){return Number(e.toFixed(t))},kY=function(e,t){return typeof e=="number"?e:t},Zn=function(e,t,n){n&&typeof n=="function"&&n(e,t)},_Y=function(e){return-Math.cos(e*Math.PI)/2+.5},jY=function(e){return e},EY=function(e){return e*e},IY=function(e){return e*(2-e)},OY=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},RY=function(e){return e*e*e},MY=function(e){return--e*e*e+1},TY=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},DY=function(e){return e*e*e*e},AY=function(e){return 1- --e*e*e*e},NY=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},zY=function(e){return e*e*e*e*e},$Y=function(e){return 1+--e*e*e*e*e},LY=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},Wj={easeOut:_Y,linear:jY,easeInQuad:EY,easeOutQuad:IY,easeInOutQuad:OY,easeInCubic:RY,easeOutCubic:MY,easeInOutCubic:TY,easeInQuart:DY,easeOutQuart:AY,easeInOutQuart:NY,easeInQuint:zY,easeOutQuint:$Y,easeInOutQuint:LY},Vj=function(e){typeof e=="number"&&cancelAnimationFrame(e)},Bs=function(e){e.mounted&&(Vj(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Uj(e,t,n,r){if(e.mounted){var o=new Date().getTime(),s=1;Bs(e),e.animation=function(){if(!e.mounted)return Vj(e.animation);var a=new Date().getTime()-o,u=a/n,d=Wj[t],f=d(u);a>=n?(r(s),e.animation=null):e.animation&&(r(f),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function FY(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function ii(e,t,n,r){var o=FY(t);if(!(!e.mounted||!o)){var s=e.setTransformState,a=e.transformState,u=a.scale,d=a.positionX,f=a.positionY,h=t.scale-u,m=t.positionX-d,v=t.positionY-f;n===0?s(t.scale,t.positionX,t.positionY):Uj(e,r,n,function(b){var w=u+h*b,S=d+m*b,C=f+v*b;s(w,S,C)})}}function BY(e,t,n){var r=e.offsetWidth,o=e.offsetHeight,s=t.offsetWidth,a=t.offsetHeight,u=s*n,d=a*n,f=r-u,h=o-d;return{wrapperWidth:r,wrapperHeight:o,newContentWidth:u,newDiffWidth:f,newContentHeight:d,newDiffHeight:h}}var HY=function(e,t,n,r,o,s,a){var u=e>t?n*(a?1:.5):0,d=r>o?s*(a?1:.5):0,f=e-t-u,h=u,m=r-o-d,v=d;return{minPositionX:f,maxPositionX:h,minPositionY:m,maxPositionY:v}},cy=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,o=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var s=BY(n,r,t),a=s.wrapperWidth,u=s.wrapperHeight,d=s.newContentWidth,f=s.newDiffWidth,h=s.newContentHeight,m=s.newDiffHeight,v=HY(a,d,f,u,h,m,!!o);return v},l0=function(e,t,n,r){return r?e<t?Jo(t,2):e>n?Jo(n,2):Jo(e,2):Jo(e,2)},Ql=function(e,t){var n=cy(e,t);return e.bounds=n,n};function Vh(e,t,n,r,o,s,a){var u=n.minPositionX,d=n.minPositionY,f=n.maxPositionX,h=n.maxPositionY,m=0,v=0;a&&(m=o,v=s);var b=l0(e,u-m,f+m,r),w=l0(t,d-v,h+v,r);return{x:b,y:w}}function Uh(e,t,n,r,o,s){var a=e.transformState,u=a.scale,d=a.positionX,f=a.positionY,h=r-u;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:f};var m=d-t*h,v=f-n*h,b=Vh(m,v,o,s,0,0,null);return b}function qu(e,t,n,r,o){var s=o?r:0,a=t-s;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=a?a:e}var TC=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,o=e.wrapperComponent,s=t.target,a=o==null?void 0:o.contains(s),u=r&&s&&a;if(!u)return!1;var d=Gh(s,n);return!d},DC=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,o=r.panning.disabled,s=t&&n&&!o;return!!s},WY=function(e,t){var n=e.transformState,r=n.positionX,o=n.positionY;e.isPanning=!0;var s=t.clientX,a=t.clientY;e.startCoords={x:s-r,y:a-o}},VY=function(e,t){var n=t.touches,r=e.transformState,o=r.positionX,s=r.positionY;e.isPanning=!0;var a=n.length===1;if(a){var u=n[0].clientX,d=n[0].clientY;e.startCoords={x:u-o,y:d-s}}};function UY(e){var t=e.transformState,n=t.positionX,r=t.positionY,o=t.scale,s=e.setup,a=s.disabled,u=s.limitToBounds,d=s.centerZoomedOut,f=e.wrapperComponent;if(!(a||!f||!e.bounds)){var h=e.bounds,m=h.maxPositionX,v=h.minPositionX,b=h.maxPositionY,w=h.minPositionY,S=n>m||n<v,C=r>b||r<w,P=n>m?f.offsetWidth:e.setup.minPositionX||0,k=r>b?f.offsetHeight:e.setup.minPositionY||0,_=Uh(e,P,k,o,e.bounds,u||d),E=_.x,I=_.y;return{scale:o,positionX:S?E:n,positionY:C?I:r}}}function GY(e,t,n,r,o){var s=e.setup.limitToBounds,a=e.wrapperComponent,u=e.bounds,d=e.transformState,f=d.scale,h=d.positionX,m=d.positionY;if(!(a===null||u===null||t===h&&n===m)){var v=Vh(t,n,u,s,r,o,a),b=v.x,w=v.y;e.setTransformState(f,b,w)}}var qY=function(e,t,n){var r=e.startCoords,o=e.transformState,s=e.setup.panning,a=s.lockAxisX,u=s.lockAxisY,d=o.positionX,f=o.positionY;if(!r)return{x:d,y:f};var h=t-r.x,m=n-r.y,v=a?d:h,b=u?f:m;return{x:v,y:b}},Kp=function(e,t){var n=e.setup,r=e.transformState,o=r.scale,s=n.minScale,a=n.disablePadding;return t>0&&o>=s&&!a?t:0},YY=function(e){var t=e.mounted,n=e.setup,r=n.disabled,o=n.velocityAnimation,s=e.transformState.scale,a=o.disabled,u=!a||s>1||!r||t;return!!u},KY=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,o=e.setup,s=o.disabled,a=o.velocityAnimation,u=e.transformState.scale,d=a.disabled,f=!d||u>1||!s||t;return!(!f||!n||!r)};function XY(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,o=n.animationTime,s=n.sensitivity;return r?o*t*s:o}function AC(e,t,n,r,o,s,a,u,d,f){if(o){if(t>a&&n>a){var h=a+(e-a)*f;return h>d?d:h<a?a:h}if(t<s&&n<s){var h=s+(e-s)*f;return h<u?u:h>s?s:h}}return r?t:l0(e,s,a,o)}function QY(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function ZY(e,t){var n=YY(e);if(n){var r=e.lastMousePosition,o=e.velocityTime,s=e.setup,a=e.wrapperComponent,u=s.velocityAnimation.equalToMove,d=Date.now();if(r&&o&&a){var f=QY(a,u),h=t.x-r.x,m=t.y-r.y,v=h/f,b=m/f,w=d-o,S=h*h+m*m,C=Math.sqrt(S)/w;e.velocity={velocityX:v,velocityY:b,total:C}}e.lastMousePosition=t,e.velocityTime=d}}function JY(e){var t=e.velocity,n=e.bounds,r=e.setup,o=e.wrapperComponent,s=KY(e);if(!(!s||!t||!n||!o)){var a=t.velocityX,u=t.velocityY,d=t.total,f=n.maxPositionX,h=n.minPositionX,m=n.maxPositionY,v=n.minPositionY,b=r.limitToBounds,w=r.alignmentAnimation,S=r.zoomAnimation,C=r.panning,P=C.lockAxisY,k=C.lockAxisX,_=S.animationType,E=w.sizeX,I=w.sizeY,O=w.velocityAlignmentTime,R=O,M=XY(e,d),D=Math.max(M,R),$=Kp(e,E),A=Kp(e,I),G=$*o.offsetWidth/100,L=A*o.offsetHeight/100,F=f+G,W=h-G,X=m+L,N=v-L,V=e.transformState,H=new Date().getTime();Uj(e,_,D,function(U){var ne=e.transformState,ge=ne.scale,le=ne.positionX,re=ne.positionY,K=new Date().getTime()-H,ae=K/R,de=Wj[w.animationType],xe=1-de(Math.min(1,ae)),oe=1-U,me=le+a*oe,fe=re+u*oe,ke=AC(me,V.positionX,le,k,b,h,f,W,F,xe),Ae=AC(fe,V.positionY,re,P,b,v,m,N,X,xe);(le!==me||re!==fe)&&e.setTransformState(ge,ke,Ae)})}}function NC(e,t){var n=e.transformState.scale;Bs(e),Ql(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?VY(e,t):WY(e,t)}function Gj(e){var t=e.transformState.scale,n=e.setup,r=n.minScale,o=n.alignmentAnimation,s=o.disabled,a=o.sizeX,u=o.sizeY,d=o.animationTime,f=o.animationType,h=s||t<r||!a&&!u;if(!h){var m=UY(e);m&&ii(e,m,d,f)}}function zC(e,t,n){var r=e.startCoords,o=e.setup,s=o.alignmentAnimation,a=s.sizeX,u=s.sizeY;if(r){var d=qY(e,t,n),f=d.x,h=d.y,m=Kp(e,a),v=Kp(e,u);ZY(e,{x:f,y:h}),GY(e,f,h,m,v)}}function eK(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,o=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var s=r==null?void 0:r.getBoundingClientRect(),a=o==null?void 0:o.getBoundingClientRect(),u=(s==null?void 0:s.width)||0,d=(s==null?void 0:s.height)||0,f=(a==null?void 0:a.width)||0,h=(a==null?void 0:a.height)||0,m=u<f||d<h,v=!t&&n&&(n==null?void 0:n.total)>.1&&m;v?JY(e):Gj(e)}}function uy(e,t,n,r){var o=e.setup,s=o.minScale,a=o.maxScale,u=o.limitToBounds,d=qu(Jo(t,2),s,a,0,!1),f=Ql(e,d),h=Uh(e,n,r,d,f,u),m=h.x,v=h.y;return{scale:d,positionX:m,positionY:v}}function qj(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,s=e.setup,a=s.minScale,u=s.limitToBounds,d=s.zoomAnimation,f=d.disabled,h=d.animationTime,m=d.animationType,v=f||r>=a;if((r>=1||u)&&Gj(e),!(v||!o||!e.mounted)){var b=t||o.offsetWidth/2,w=n||o.offsetHeight/2,S=uy(e,a,b,w);S&&ii(e,S,h,m)}}var Xa=function(){return Xa=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xa.apply(this,arguments)};function $C(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var yf={previousScale:1,scale:1,positionX:0,positionY:0},Bc={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Yj=function(e){var t,n,r,o;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:yf.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:yf.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:yf.positionX,positionY:(o=e.initialPositionY)!==null&&o!==void 0?o:yf.positionY}},LC=function(e){var t=Xa({},Bc);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",o=typeof Bc[n]<"u";if(o&&r){var s=Object.prototype.toString.call(Bc[n]),a=s==="[object Object]",u=s==="[object Array]";a?t[n]=Xa(Xa({},Bc[n]),e[n]):u?t[n]=$C($C([],Bc[n],!0),e[n],!0):t[n]=e[n]}}),t},Kj=function(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,s=e.setup,a=s.maxScale,u=s.minScale,d=s.zoomAnimation,f=d.size;if(!o)throw new Error("Wrapper is not mounted");var h=r+t*n,m=qu(Jo(h,3),u,a,f,!1);return m};function Xj(e,t,n,r,o){var s=e.wrapperComponent,a=e.transformState,u=a.scale,d=a.positionX,f=a.positionY;if(!s)return console.error("No WrapperComponent found");var h=s.offsetWidth,m=s.offsetHeight,v=(h/2-d)/u,b=(m/2-f)/u,w=Kj(e,t,n),S=uy(e,w,v,b);if(!S)return console.error("Error during zoom event. New transformation state was not calculated.");ii(e,S,r,o)}function Qj(e,t,n,r){var o=e.setup,s=e.wrapperComponent,a=o.limitToBounds,u=Yj(e.props),d=e.transformState,f=d.scale,h=d.positionX,m=d.positionY;if(s){var v=cy(e,u.scale),b=Vh(u.positionX,u.positionY,v,a,0,0,s),w={scale:u.scale,positionX:b.x,positionY:b.y};f===u.scale&&h===u.positionX&&m===u.positionY||(r==null||r(),ii(e,w,t,n))}}function tK(e,t,n,r){var o=e.getBoundingClientRect(),s=t.getBoundingClientRect(),a=n.getBoundingClientRect(),u=s.x*r.scale,d=s.y*r.scale;return{x:(o.x-a.x+u)/r.scale,y:(o.y-a.y+d)/r.scale}}function nK(e,t,n){var r=e.wrapperComponent,o=e.contentComponent,s=e.transformState,a=e.setup,u=a.limitToBounds,d=a.minScale,f=a.maxScale;if(!r||!o)return s;var h=r.getBoundingClientRect(),m=t.getBoundingClientRect(),v=tK(t,r,o,s),b=v.x,w=v.y,S=m.width/s.scale,C=m.height/s.scale,P=r.offsetWidth/S,k=r.offsetHeight/C,_=qu(n||Math.min(P,k),d,f,0,!1),E=(h.width-S*_)/2,I=(h.height-C*_)/2,O=(h.left-b)*_+E,R=(h.top-w)*_+I,M=cy(e,_),D=Vh(O,R,M,u,0,0,r),$=D.x,A=D.y;return{positionX:$,positionY:A,scale:_}}var rK=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Xj(e,1,t,n,r)}},oK=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Xj(e,-1,t,n,r)}},sK=function(e){return function(t,n,r,o,s){o===void 0&&(o=300),s===void 0&&(s="easeOut");var a=e.transformState,u=a.positionX,d=a.positionY,f=a.scale,h=e.wrapperComponent,m=e.contentComponent,v=e.setup.disabled;if(!(v||!h||!m)){var b={positionX:Number.isNaN(t)?u:t,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(r)?f:r};ii(e,b,o,s)}}},aK=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),Qj(e,t,n)}},iK=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var o=e.transformState,s=e.wrapperComponent,a=e.contentComponent;if(s&&a){var u=Zj(t||o.scale,s,a);ii(e,u,n,r)}}},lK=function(e){return function(t,n,r,o){r===void 0&&(r=600),o===void 0&&(o="easeOut"),Bs(e);var s=e.wrapperComponent,a=typeof t=="string"?document.getElementById(t):t;if(s&&a&&s.contains(a)){var u=nK(e,a,n);ii(e,u,r,o)}}},c0=function(e){return{instance:e,zoomIn:rK(e),zoomOut:oK(e),setTransform:sK(e),resetTransform:aK(e),centerView:iK(e),zoomToElement:lK(e)}},cK=function(e){return{instance:e,state:e.transformState}},Nn=function(e){var t={};return Object.assign(t,cK(e)),Object.assign(t,c0(e)),t},Xg=!1;function Qg(){try{var e={get passive(){return Xg=!0,!1}};return e}catch{return Xg=!1,Xg}}var Gh=function(e,t){var n=e.tagName.toUpperCase(),r=t.find(function(s){return s.toUpperCase()===n});if(r)return!0;var o=t.find(function(s){return e.classList.contains(s)});return!!o},u0=function(e){e&&clearTimeout(e)},uK=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},Zj=function(e,t,n){var r=n.offsetWidth*e,o=n.offsetHeight*e,s=(t.offsetWidth-r)/2,a=(t.offsetHeight-o)/2;return{scale:e,positionX:s,positionY:a}};function dK(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fK=function(e,t){var n=e.setup.wheel,r=n.disabled,o=n.wheelDisabled,s=n.touchPadDisabled,a=n.excluded,u=e.isInitialized,d=e.isPanning,f=t.target,h=u&&!d&&!r&&f;if(!h||o&&!t.ctrlKey||s&&t.ctrlKey)return!1;var m=Gh(f,a);return!m},pK=function(e){return e?e.deltaY<0?1:-1:0};function hK(e,t){var n=pK(e),r=kY(t,n);return r}function Jj(e,t,n){var r=t.getBoundingClientRect(),o=0,s=0;if("clientX"in e)o=(e.clientX-r.left)/n,s=(e.clientY-r.top)/n;else{var a=e.touches[0];o=(a.clientX-r.left)/n,s=(a.clientY-r.top)/n}return(Number.isNaN(o)||Number.isNaN(s))&&console.error("No mouse or touch offset found"),{x:o,y:s}}var mK=function(e,t,n,r,o){var s=e.transformState.scale,a=e.wrapperComponent,u=e.setup,d=u.maxScale,f=u.minScale,h=u.zoomAnimation,m=u.disablePadding,v=h.size,b=h.disabled;if(!a)throw new Error("Wrapper is not mounted");var w=s+t*n;if(o)return w;var S=r?!1:!b,C=qu(Jo(w,3),f,d,v,S&&!m);return C},gK=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,o=e.setup,s=o.maxScale,a=o.minScale;return n?r<s||r>a||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},vK=function(e,t){var n=e.setup.pinch,r=n.disabled,o=n.excluded,s=e.isInitialized,a=t.target,u=s&&!r&&a;if(!u)return!1;var d=Gh(a,o);return!d},yK=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,o=n&&!t&&r;return!!o},bK=function(e,t,n){var r=n.getBoundingClientRect(),o=e.touches,s=Jo(o[0].clientX-r.left,5),a=Jo(o[0].clientY-r.top,5),u=Jo(o[1].clientX-r.left,5),d=Jo(o[1].clientY-r.top,5);return{x:(s+u)/2/t,y:(a+d)/2/t}},eE=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},xK=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,o=e.setup,s=o.maxScale,a=o.minScale,u=o.zoomAnimation,d=o.disablePadding,f=u.size,h=u.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var m=t/r,v=m*n;return qu(Jo(v,2),a,s,f,!h&&!d)},SK=160,wK=100,CK=function(e,t){var n=e.props,r=n.onWheelStart,o=n.onZoomStart;e.wheelStopEventTimer||(Bs(e),Zn(Nn(e),t,r),Zn(Nn(e),t,o))},PK=function(e,t){var n=e.props,r=n.onWheel,o=n.onZoom,s=e.contentComponent,a=e.setup,u=e.transformState,d=u.scale,f=a.limitToBounds,h=a.centerZoomedOut,m=a.zoomAnimation,v=a.wheel,b=a.disablePadding,w=m.size,S=m.disabled,C=v.step;if(!s)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var P=hK(t,null),k=mK(e,P,C,!t.ctrlKey);if(d!==k){var _=Ql(e,k),E=Jj(t,s,d),I=S||w===0||h||b,O=f&&I,R=Uh(e,E.x,E.y,k,_,O),M=R.x,D=R.y;e.previousWheelEvent=t,e.setTransformState(k,M,D),Zn(Nn(e),t,r),Zn(Nn(e),t,o)}},kK=function(e,t){var n=e.props,r=n.onWheelStop,o=n.onZoomStop;u0(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(qj(e,t.x,t.y),e.wheelAnimationTimer=null)},wK);var s=gK(e,t);s&&(u0(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,Zn(Nn(e),t,r),Zn(Nn(e),t,o))},SK))},_K=function(e,t){var n=eE(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,Bs(e)},jK=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,o=e.transformState.scale,s=e.setup,a=s.limitToBounds,u=s.centerZoomedOut,d=s.zoomAnimation,f=d.disabled,h=d.size;if(!(r===null||!n)){var m=bK(t,o,n);if(!(!Number.isFinite(m.x)||!Number.isFinite(m.y))){var v=eE(t),b=xK(e,v);if(b!==o){var w=Ql(e,b),S=f||h===0||u,C=a&&S,P=Uh(e,m.x,m.y,b,w,C),k=P.x,_=P.y;e.pinchMidpoint=m,e.lastDistance=v,e.setTransformState(b,k,_)}}}},EK=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,qj(e,t==null?void 0:t.x,t==null?void 0:t.y)},tE=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;u0(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,Zn(Nn(e),t,n)},r)},IK=function(e,t){var n=e.props,r=n.onZoomStart,o=n.onZoom,s=e.setup.doubleClick,a=s.animationTime,u=s.animationType;Zn(Nn(e),t,r),Qj(e,a,u,function(){return Zn(Nn(e),t,o)}),tE(e,t)};function OK(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,o=e.transformState,s=e.contentComponent,a=o.scale,u=e.props,d=u.onZoomStart,f=u.onZoom,h=n.doubleClick,m=h.disabled,v=h.mode,b=h.step,w=h.animationTime,S=h.animationType;if(!m&&!r){if(v==="reset")return IK(e,t);if(!s)return console.error("No ContentComponent found");var C=v==="zoomOut"?-1:1,P=Kj(e,C,b);if(a!==P){Zn(Nn(e),t,d);var k=Jj(t,s,a),_=uy(e,P,k.x,k.y);if(!_)return console.error("Error during zoom event. New transformation state was not calculated.");Zn(Nn(e),t,f),ii(e,_,w,S),tE(e,t)}}}var RK=function(e,t){var n=e.isInitialized,r=e.setup,o=e.wrapperComponent,s=r.doubleClick,a=s.disabled,u=s.excluded,d=t.target,f=o==null?void 0:o.contains(d),h=n&&d&&f&&!a;if(!h)return!1;var m=Gh(d,u);return!m},MK=function(){function e(t){var n=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){Ql(n,n.transformState.scale),n.setup=LC(r)},this.initializeWindowEvents=function(){var r,o=Qg(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,a=s==null?void 0:s.defaultView;a==null||a.addEventListener("mousedown",n.onPanningStart,o),a==null||a.addEventListener("mousemove",n.onPanning,o),a==null||a.addEventListener("mouseup",n.onPanningStop,o),s==null||s.addEventListener("mouseleave",n.clearPanning,o),a==null||a.addEventListener("keyup",n.setKeyUnPressed,o),a==null||a.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,o,s=Qg(),a=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,u=a==null?void 0:a.defaultView;u==null||u.removeEventListener("mousedown",n.onPanningStart,s),u==null||u.removeEventListener("mousemove",n.onPanning,s),u==null||u.removeEventListener("mouseup",n.onPanningStop,s),a==null||a.removeEventListener("mouseleave",n.clearPanning,s),u==null||u.removeEventListener("keyup",n.setKeyUnPressed,s),u==null||u.removeEventListener("keydown",n.setKeyPressed,s),document.removeEventListener("mouseleave",n.clearPanning,s),Bs(n),(o=n.observer)===null||o===void 0||o.disconnect()},this.handleInitializeWrapperEvents=function(r){var o=Qg();r.addEventListener("wheel",n.onWheelZoom,o),r.addEventListener("dblclick",n.onDoubleClick,o),r.addEventListener("touchstart",n.onTouchPanningStart,o),r.addEventListener("touchmove",n.onTouchPanning,o),r.addEventListener("touchend",n.onTouchPanningStop,o)},this.handleInitialize=function(r){var o=n.setup.centerOnInit;n.applyTransformation(),n.onInitCallbacks.forEach(function(s){return s(Nn(n))}),o&&(n.setCenter(),n.observer=new ResizeObserver(function(){var s;n.onInitCallbacks.forEach(function(a){return a(Nn(n))}),n.setCenter(),(s=n.observer)===null||s===void 0||s.disconnect()}),n.observer.observe(r))},this.onWheelZoom=function(r){var o=n.setup.disabled;if(!o){var s=fK(n,r);if(s){var a=n.isPressingKeys(n.setup.wheel.activationKeys);a&&(CK(n,r),PK(n,r),kK(n,r))}}},this.onPanningStart=function(r){var o=n.setup.disabled,s=n.props.onPanningStart;if(!o){var a=TC(n,r);if(a){var u=n.isPressingKeys(n.setup.panning.activationKeys);u&&(r.preventDefault(),r.stopPropagation(),Bs(n),NC(n,r),Zn(Nn(n),r,s))}}},this.onPanning=function(r){var o=n.setup.disabled,s=n.props.onPanning;if(!o){var a=DC(n);if(a){var u=n.isPressingKeys(n.setup.panning.activationKeys);u&&(r.preventDefault(),r.stopPropagation(),zC(n,r.clientX,r.clientY),Zn(Nn(n),r,s))}}},this.onPanningStop=function(r){var o=n.props.onPanningStop;n.isPanning&&(eK(n),Zn(Nn(n),r,o))},this.onPinchStart=function(r){var o=n.setup.disabled,s=n.props,a=s.onPinchingStart,u=s.onZoomStart;if(!o){var d=vK(n,r);d&&(_K(n,r),Bs(n),Zn(Nn(n),r,a),Zn(Nn(n),r,u))}},this.onPinch=function(r){var o=n.setup.disabled,s=n.props,a=s.onPinching,u=s.onZoom;if(!o){var d=yK(n);d&&(r.preventDefault(),r.stopPropagation(),jK(n,r),Zn(Nn(n),r,a),Zn(Nn(n),r,u))}},this.onPinchStop=function(r){var o=n.props,s=o.onPinchingStop,a=o.onZoomStop;n.pinchStartScale&&(EK(n),Zn(Nn(n),r,s),Zn(Nn(n),r,a))},this.onTouchPanningStart=function(r){var o=n.setup.disabled,s=n.props.onPanningStart;if(!o){var a=TC(n,r);if(a){var u=n.lastTouch&&+new Date-n.lastTouch<200;if(u&&r.touches.length===1)n.onDoubleClick(r);else{n.lastTouch=+new Date,Bs(n);var d=r.touches,f=d.length===1,h=d.length===2;f&&(Bs(n),NC(n,r),Zn(Nn(n),r,s)),h&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var o=n.setup.disabled,s=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(o)return;var a=DC(n);if(!a)return;r.preventDefault(),r.stopPropagation();var u=r.touches[0];zC(n,u.clientX,u.clientY),Zn(Nn(n),r,s)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var o=n.setup.disabled;if(!o){var s=RK(n,r);s&&OK(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(o){return n.pressedKeys[o]}):!0},this.setTransformState=function(r,o,s){var a=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(o)&&!Number.isNaN(s)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=o,n.transformState.positionY=s,n.applyTransformation();var u=Nn(n);n.onChangeCallbacks.forEach(function(d){return d(u)}),Zn(u,{scale:r,positionX:o,positionY:s},a)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=Zj(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,o,s){return n.props.customTransform?n.props.customTransform(r,o,s):uK(r,o,s)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,o=r.scale,s=r.positionX,a=r.positionY,u=n.handleTransformStyles(s,a,o);n.contentComponent.style.transform=u}},this.getContext=function(){return Nn(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,o){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=o,Ql(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(o),n.initializeWindowEvents(),n.isInitialized=!0;var s=Nn(n);Zn(s,void 0,n.props.onInit)},this.props=t,this.setup=LC(this.props),this.transformState=Yj(this.props)}return e}(),qh=z.createContext(null),TK=function(e,t){return typeof e=="function"?e(t):e},DK=z.forwardRef(function(e,t){var n=p.useRef(new MK(e)).current,r=TK(e.children,c0(n));return p.useImperativeHandle(t,function(){return c0(n)},[n]),p.useEffect(function(){n.update(e)},[n,e]),z.createElement(qh.Provider,{value:n},r)});z.forwardRef(function(e,t){var n=p.useRef(null),r=p.useContext(qh);return p.useEffect(function(){return r.onChange(function(o){if(n.current){var s=0,a=0;n.current.style.transform=r.handleTransformStyles(s,a,1/o.instance.transformState.scale)}})},[r]),z.createElement("div",Xa({},e,{ref:dK([n,t])}))});function AK(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var NK=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,FC={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};AK(NK);var zK=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,o=e.contentClass,s=o===void 0?"":o,a=e.wrapperStyle,u=e.contentStyle,d=e.wrapperProps,f=d===void 0?{}:d,h=e.contentProps,m=h===void 0?{}:h,v=p.useContext(qh).init,b=p.useRef(null),w=p.useRef(null);return p.useEffect(function(){var S=b.current,C=w.current;S!==null&&C!==null&&v&&v(S,C)},[]),z.createElement("div",Xa({},f,{ref:b,className:"react-transform-wrapper ".concat(FC.wrapper," ").concat(r),style:a}),z.createElement("div",Xa({},m,{ref:w,className:"react-transform-component ".concat(FC.content," ").concat(s),style:u}),t))},nE=function(){var e=p.useContext(qh);if(!e)throw new Error("Transform context must be placed inside TransformWrapper");return e};const BC=1.5,dy="28rem",$K=()=>{const[e,t]=p.useState(0),[n,r]=p.useState(1),[o,s]=p.useState(1);return{rotation:e,scaleX:n,scaleY:o,flipHorizontally:()=>{r(n*-1)},flipVertically:()=>{s(o*-1)},rotateCounterClockwise:()=>{t(e===-270?0:e-90)},rotateClockwise:()=>{t(e===270?0:e+90)},reset:()=>{t(0),r(1),s(1)}}};function LK(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.5 9c-.42 0-.83.04-1.24.11L1.01 3 1 10l9 2-9 2 .01 7 8.07-3.46C9.59 21.19 12.71 24 16.5 24c4.14 0 7.5-3.36 7.5-7.5S20.64 9 16.5 9zm0 13c-3.03 0-5.5-2.47-5.5-5.5s2.47-5.5 5.5-5.5 5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5z"}},{tag:"path",attr:{d:"M18.27 14.03l-1.77 1.76-1.77-1.76-.7.7 1.76 1.77-1.76 1.77.7.7 1.77-1.76 1.77 1.76.7-.7-1.76-1.77 1.76-1.77z"}}]})(e)}function FK(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(e)}function BK(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"}}]})(e)}function HC(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"}}]})(e)}function HK(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"}}]})(e)}function WK(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"}}]})(e)}function VK(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}}]})(e)}const UK=({flipHorizontally:e,flipVertically:t,rotateCounterClockwise:n,rotateClockwise:r,reset:o})=>{const{zoomIn:s,zoomOut:a,resetTransform:u}=nE(),{t:d}=ye();return i.jsxs(br,{isAttached:!0,orientation:"vertical",children:[i.jsx(Me,{icon:i.jsx(i8,{}),"aria-label":d("accessibility.zoomIn"),tooltip:d("accessibility.zoomIn"),onClick:()=>s(),fontSize:20}),i.jsx(Me,{icon:i.jsx(l8,{}),"aria-label":d("accessibility.zoomOut"),tooltip:d("accessibility.zoomOut"),onClick:()=>a(),fontSize:20}),i.jsx(Me,{icon:i.jsx(c8,{}),"aria-label":d("accessibility.rotateCounterClockwise"),tooltip:d("accessibility.rotateCounterClockwise"),onClick:n,fontSize:20}),i.jsx(Me,{icon:i.jsx(u8,{}),"aria-label":d("accessibility.rotateClockwise"),tooltip:d("accessibility.rotateClockwise"),onClick:r,fontSize:20}),i.jsx(Me,{icon:i.jsx(HC,{}),"aria-label":d("accessibility.flipHorizontally"),tooltip:d("accessibility.flipHorizontally"),onClick:e,fontSize:20}),i.jsx(Me,{icon:i.jsx(HC,{style:{transform:"rotate(90deg)"}}),"aria-label":d("accessibility.flipVertically"),tooltip:d("accessibility.flipVertically"),onClick:t,fontSize:20}),i.jsx(Me,{icon:i.jsx(d8,{}),"aria-label":d("accessibility.reset"),tooltip:d("accessibility.reset"),onClick:()=>{u(),o()},fontSize:20})]})};function GK({image:e,alt:t,ref:n,styleClass:r,rotation:o,scaleX:s,scaleY:a}){const{centerView:u}=nE();return i.jsx(zK,{wrapperStyle:{width:"100%",height:"100%"},children:i.jsx("img",{style:{transform:`rotate(${o}deg) scaleX(${s})  scaleY(${a})`,width:"100%"},src:e.image_url,alt:t,ref:n,className:r||"",onLoad:()=>u(1,0,"easeOut")})})}const qK=Pe([gP,rs],(e,t)=>{const{currentImage:n}=e,{shouldShowImageDetails:r}=t;return{viewerImageToDisplay:n,shouldShowImageDetails:r}},{memoizeOptions:{resultEqualityCheck:Wt}});function YK(){const e=se(),t=B(v=>v.lightbox.isLightboxOpen),{rotation:n,scaleX:r,scaleY:o,flipHorizontally:s,flipVertically:a,rotateCounterClockwise:u,rotateClockwise:d,reset:f}=$K(),{viewerImageToDisplay:h,shouldShowImageDetails:m}=B(qK);return Ge("Esc",()=>{t&&e(cu(!1))},[t]),i.jsx(ns,{children:t&&i.jsx(To.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"easeInOut"},style:{display:"flex",width:"100vw",height:`calc(100vh - ${BC*4}px)`,position:"fixed",top:`${BC*4}px`,background:"var(--invokeai-colors-base-900)",zIndex:99},children:i.jsxs(DK,{centerOnInit:!0,minScale:.1,initialPositionX:50,initialPositionY:50,children:[i.jsxs(q,{sx:{flexDir:"column",position:"absolute",insetInlineStart:4,gap:4,zIndex:3,top:4},children:[i.jsx(Me,{icon:i.jsx(f8,{}),"aria-label":"Exit Viewer",className:"lightbox-close-btn",onClick:()=>{e(cu(!1))},fontSize:20}),i.jsx(UK,{flipHorizontally:s,flipVertically:a,rotateCounterClockwise:u,rotateClockwise:d,reset:f})]}),i.jsx(q,{sx:{position:"absolute",top:4,zIndex:3,insetInlineStart:"50%",transform:"translate(-50%, 0)"},children:i.jsx(Fj,{})}),h&&i.jsxs(i.Fragment,{children:[i.jsx(GK,{rotation:n,scaleX:r,scaleY:o,image:h,styleClass:"lightbox-image"}),m&&i.jsx(Bj,{image:h}),!m&&i.jsx(Ue,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"100vw",h:"100vh",px:16,pointerEvents:"none"},children:i.jsx(Hj,{})})]})]})},"lightbox")})}function WC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function VC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var KK=function(e,t){return typeof t=="boolean"?t:!e},XK=function(e){return p.useReducer(KK,e)};const QK=XK;var ZK=function(e,t){t===void 0&&(t=!0);var n=p.useState(!1),r=n[0],o=n[1];return p.useEffect(function(){var s=function(){return o(!0)},a=function(){return o(!1)};t&&e&&e.current&&(WC(e.current,"mouseover",s),WC(e.current,"mouseout",a));var u=e.current;return function(){t&&u&&(VC(u,"mouseover",s),VC(u,"mouseout",a))}},[t,e]),r};const JK=ZK,eX=Pe(ao,e=>{const{isConnected:t,isProcessing:n,statusTranslationKey:r,currentIteration:o,totalIterations:s,currentStatusHasSteps:a}=e;return{isConnected:t,isProcessing:n,currentIteration:o,totalIterations:s,statusTranslationKey:r,currentStatusHasSteps:a}},Rt),UC={ok:"green.400",working:"yellow.400",error:"red.400"},GC={ok:"green.600",working:"yellow.500",error:"red.500"},tX=()=>{const{isConnected:e,isProcessing:t,currentIteration:n,totalIterations:r,statusTranslationKey:o}=B(eX),{t:s}=ye(),a=p.useRef(null),u=p.useMemo(()=>t?"working":e?"ok":"error",[t,e]),d=p.useMemo(()=>{if(n&&r)return` (${n}/${r})`},[n,r]),f=JK(a);return i.jsxs(q,{ref:a,h:"full",px:2,alignItems:"center",gap:5,children:[i.jsx(ns,{children:f&&i.jsx(To.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.15}},exit:{opacity:0,transition:{delay:.8}},children:i.jsxs(Ye,{sx:{fontSize:"sm",fontWeight:"600",pb:"1px",userSelect:"none",color:GC[u],_dark:{color:UC[u]}},children:[s(o),d]})},"statusText")}),i.jsx(mo,{as:V$,sx:{boxSize:"0.5rem",color:GC[u],_dark:{color:UC[u]}}})]})},nX=()=>{const{colorMode:e,toggleColorMode:t}=bo(),{t:n}=ye();return i.jsx(Me,{"aria-label":n(e==="dark"?"common.lightMode":"common.darkMode"),tooltip:n(e==="dark"?"common.lightMode":"common.darkMode"),size:"sm",icon:e==="dark"?i.jsx(fL,{fontSize:19}):i.jsx(sL,{fontSize:18}),onClick:t,variant:"link"})};function rX(e){const{title:t,hotkey:n,description:r}=e;return i.jsxs(ha,{sx:{gridTemplateColumns:"auto max-content",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs(ha,{children:[i.jsx(Ye,{fontWeight:600,children:t}),r&&i.jsx(Ye,{sx:{fontSize:"sm"},variant:"subtext",children:r})]}),i.jsx(Ue,{sx:{fontSize:"sm",fontWeight:600,px:2,py:1},children:n})]})}function oX({children:e}){const{isOpen:t,onOpen:n,onClose:r}=Qa(),{t:o}=ye(),s=[{title:o("hotkeys.invoke.title"),desc:o("hotkeys.invoke.desc"),hotkey:"Ctrl+Enter"},{title:o("hotkeys.cancel.title"),desc:o("hotkeys.cancel.desc"),hotkey:"Shift+X"},{title:o("hotkeys.focusPrompt.title"),desc:o("hotkeys.focusPrompt.desc"),hotkey:"Alt+A"},{title:o("hotkeys.toggleOptions.title"),desc:o("hotkeys.toggleOptions.desc"),hotkey:"O"},{title:o("hotkeys.pinOptions.title"),desc:o("hotkeys.pinOptions.desc"),hotkey:"Shift+O"},{title:o("hotkeys.toggleViewer.title"),desc:o("hotkeys.toggleViewer.desc"),hotkey:"Z"},{title:o("hotkeys.toggleGallery.title"),desc:o("hotkeys.toggleGallery.desc"),hotkey:"G"},{title:o("hotkeys.maximizeWorkSpace.title"),desc:o("hotkeys.maximizeWorkSpace.desc"),hotkey:"F"},{title:o("hotkeys.changeTabs.title"),desc:o("hotkeys.changeTabs.desc"),hotkey:"1-5"},{title:o("hotkeys.consoleToggle.title"),desc:o("hotkeys.consoleToggle.desc"),hotkey:"`"}],a=[{title:o("hotkeys.setPrompt.title"),desc:o("hotkeys.setPrompt.desc"),hotkey:"P"},{title:o("hotkeys.setSeed.title"),desc:o("hotkeys.setSeed.desc"),hotkey:"S"},{title:o("hotkeys.setParameters.title"),desc:o("hotkeys.setParameters.desc"),hotkey:"A"},{title:o("hotkeys.restoreFaces.title"),desc:o("hotkeys.restoreFaces.desc"),hotkey:"Shift+R"},{title:o("hotkeys.upscale.title"),desc:o("hotkeys.upscale.desc"),hotkey:"Shift+U"},{title:o("hotkeys.showInfo.title"),desc:o("hotkeys.showInfo.desc"),hotkey:"I"},{title:o("hotkeys.sendToImageToImage.title"),desc:o("hotkeys.sendToImageToImage.desc"),hotkey:"Shift+I"},{title:o("hotkeys.deleteImage.title"),desc:o("hotkeys.deleteImage.desc"),hotkey:"Del"},{title:o("hotkeys.closePanels.title"),desc:o("hotkeys.closePanels.desc"),hotkey:"Esc"}],u=[{title:o("hotkeys.previousImage.title"),desc:o("hotkeys.previousImage.desc"),hotkey:"Arrow Left"},{title:o("hotkeys.nextImage.title"),desc:o("hotkeys.nextImage.desc"),hotkey:"Arrow Right"},{title:o("hotkeys.toggleGalleryPin.title"),desc:o("hotkeys.toggleGalleryPin.desc"),hotkey:"Shift+G"},{title:o("hotkeys.increaseGalleryThumbSize.title"),desc:o("hotkeys.increaseGalleryThumbSize.desc"),hotkey:"Shift+Up"},{title:o("hotkeys.decreaseGalleryThumbSize.title"),desc:o("hotkeys.decreaseGalleryThumbSize.desc"),hotkey:"Shift+Down"}],d=[{title:o("hotkeys.selectBrush.title"),desc:o("hotkeys.selectBrush.desc"),hotkey:"B"},{title:o("hotkeys.selectEraser.title"),desc:o("hotkeys.selectEraser.desc"),hotkey:"E"},{title:o("hotkeys.decreaseBrushSize.title"),desc:o("hotkeys.decreaseBrushSize.desc"),hotkey:"["},{title:o("hotkeys.increaseBrushSize.title"),desc:o("hotkeys.increaseBrushSize.desc"),hotkey:"]"},{title:o("hotkeys.decreaseBrushOpacity.title"),desc:o("hotkeys.decreaseBrushOpacity.desc"),hotkey:"Shift + ["},{title:o("hotkeys.increaseBrushOpacity.title"),desc:o("hotkeys.increaseBrushOpacity.desc"),hotkey:"Shift + ]"},{title:o("hotkeys.moveTool.title"),desc:o("hotkeys.moveTool.desc"),hotkey:"V"},{title:o("hotkeys.fillBoundingBox.title"),desc:o("hotkeys.fillBoundingBox.desc"),hotkey:"Shift + F"},{title:o("hotkeys.eraseBoundingBox.title"),desc:o("hotkeys.eraseBoundingBox.desc"),hotkey:"Delete / Backspace"},{title:o("hotkeys.colorPicker.title"),desc:o("hotkeys.colorPicker.desc"),hotkey:"C"},{title:o("hotkeys.toggleSnap.title"),desc:o("hotkeys.toggleSnap.desc"),hotkey:"N"},{title:o("hotkeys.quickToggleMove.title"),desc:o("hotkeys.quickToggleMove.desc"),hotkey:"Hold Space"},{title:o("hotkeys.toggleLayer.title"),desc:o("hotkeys.toggleLayer.desc"),hotkey:"Q"},{title:o("hotkeys.clearMask.title"),desc:o("hotkeys.clearMask.desc"),hotkey:"Shift+C"},{title:o("hotkeys.hideMask.title"),desc:o("hotkeys.hideMask.desc"),hotkey:"H"},{title:o("hotkeys.showHideBoundingBox.title"),desc:o("hotkeys.showHideBoundingBox.desc"),hotkey:"Shift+H"},{title:o("hotkeys.mergeVisible.title"),desc:o("hotkeys.mergeVisible.desc"),hotkey:"Shift+M"},{title:o("hotkeys.saveToGallery.title"),desc:o("hotkeys.saveToGallery.desc"),hotkey:"Shift+S"},{title:o("hotkeys.copyToClipboard.title"),desc:o("hotkeys.copyToClipboard.desc"),hotkey:"Ctrl+C"},{title:o("hotkeys.downloadImage.title"),desc:o("hotkeys.downloadImage.desc"),hotkey:"Shift+D"},{title:o("hotkeys.undoStroke.title"),desc:o("hotkeys.undoStroke.desc"),hotkey:"Ctrl+Z"},{title:o("hotkeys.redoStroke.title"),desc:o("hotkeys.redoStroke.desc"),hotkey:"Ctrl+Shift+Z, Ctrl+Y"},{title:o("hotkeys.resetView.title"),desc:o("hotkeys.resetView.desc"),hotkey:"R"},{title:o("hotkeys.previousStagingImage.title"),desc:o("hotkeys.previousStagingImage.desc"),hotkey:"Arrow Left"},{title:o("hotkeys.nextStagingImage.title"),desc:o("hotkeys.nextStagingImage.desc"),hotkey:"Arrow Right"},{title:o("hotkeys.acceptStagingImage.title"),desc:o("hotkeys.acceptStagingImage.desc"),hotkey:"Enter"}],f=h=>i.jsx(q,{flexDir:"column",gap:4,children:h.map((m,v)=>i.jsxs(q,{flexDir:"column",px:2,gap:4,children:[i.jsx(rX,{title:m.title,description:m.desc,hotkey:m.hotkey}),v<h.length-1&&i.jsx(Sa,{})]},v))});return i.jsxs(i.Fragment,{children:[p.cloneElement(e,{onClick:n}),i.jsxs(hu,{isOpen:t,onClose:r,children:[i.jsx(ei,{}),i.jsxs(mu,{children:[i.jsx(Ja,{children:o("hotkeys.keyboardShortcuts")}),i.jsx(a1,{}),i.jsx(ti,{children:i.jsx(y5,{allowMultiple:!0,children:i.jsxs(q,{flexDir:"column",gap:2,children:[i.jsxs(Yc,{children:[i.jsx(Gc,{children:i.jsxs(q,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[i.jsx("h2",{children:o("hotkeys.appHotkeys")}),i.jsx(qc,{})]})}),i.jsx(Kc,{children:f(s)})]}),i.jsxs(Yc,{children:[i.jsx(Gc,{children:i.jsxs(q,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[i.jsx("h2",{children:o("hotkeys.generalHotkeys")}),i.jsx(qc,{})]})}),i.jsx(Kc,{children:f(a)})]}),i.jsxs(Yc,{children:[i.jsx(Gc,{children:i.jsxs(q,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[i.jsx("h2",{children:o("hotkeys.galleryHotkeys")}),i.jsx(qc,{})]})}),i.jsx(Kc,{children:f(u)})]}),i.jsxs(Yc,{children:[i.jsx(Gc,{children:i.jsxs(q,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[i.jsx("h2",{children:o("hotkeys.unifiedCanvasHotkeys")}),i.jsx(qc,{})]})}),i.jsx(Kc,{children:f(d)})]})]})})}),i.jsx(Za,{})]})]})]})}const rE=()=>{const e=B(t=>t.system.app_version);return i.jsxs(q,{alignItems:"center",gap:3,ps:1,children:[i.jsx(ih,{src:p8,alt:"invoke-ai-logo",sx:{w:"32px",h:"32px",minW:"32px",minH:"32px",userSelect:"none"}}),i.jsxs(q,{sx:{gap:3},children:[i.jsxs(Ye,{sx:{fontSize:"xl",userSelect:"none"},children:["invoke ",i.jsx("strong",{children:"ai"})]}),i.jsx(Ye,{sx:{fontWeight:300,marginTop:1},variant:"subtext",children:e})]})]})},sX={ar:Cr.t("common.langArabic",{lng:"ar"}),nl:Cr.t("common.langDutch",{lng:"nl"}),en:Cr.t("common.langEnglish",{lng:"en"}),fr:Cr.t("common.langFrench",{lng:"fr"}),de:Cr.t("common.langGerman",{lng:"de"}),he:Cr.t("common.langHebrew",{lng:"he"}),it:Cr.t("common.langItalian",{lng:"it"}),ja:Cr.t("common.langJapanese",{lng:"ja"}),ko:Cr.t("common.langKorean",{lng:"ko"}),pl:Cr.t("common.langPolish",{lng:"pl"}),pt_BR:Cr.t("common.langBrPortuguese",{lng:"pt_BR"}),pt:Cr.t("common.langPortuguese",{lng:"pt"}),ru:Cr.t("common.langRussian",{lng:"ru"}),zh_CN:Cr.t("common.langSimplifiedChinese",{lng:"zh_CN"}),es:Cr.t("common.langSpanish",{lng:"es"}),uk:Cr.t("common.langUkranian",{lng:"ua"})};function aX(){const{t:e}=ye(),t=se(),n=B(E3);return i.jsxs(hh,{closeOnSelect:!1,children:[i.jsx(Gn,{label:e("common.languagePickerLabel"),hasArrow:!0,children:i.jsx(mh,{as:$i,icon:i.jsx(xL,{}),variant:"link","aria-label":e("common.languagePickerLabel"),fontSize:22,minWidth:8})}),i.jsx(Lu,{children:i.jsx(s1,{value:n,children:qs(sX,(r,o)=>i.jsx(pu,{value:o,onClick:()=>t(h8(o)),children:r},o))})})]})}const iX=e=>{const{searchable:t=!0,tooltip:n,inputRef:r,...o}=e,{base50:s,base100:a,base200:u,base300:d,base400:f,base500:h,base600:m,base700:v,base800:b,base900:w,accent200:S,accent300:C,accent400:P,accent500:k,accent600:_}=Lj(),[E]=Xi("shadows",["dark-lg"]),{colorMode:I}=bo();return i.jsx(Gn,{label:n,placement:"top",hasArrow:!0,isOpen:!0,children:i.jsx(Aj,{ref:r,searchable:t,styles:()=>({label:{color:Re(v,d)(I),fontWeight:"normal"},searchInput:{":placeholder":{color:Re(d,v)(I)}},input:{backgroundColor:Re(s,w)(I),borderWidth:"2px",borderColor:Re(u,b)(I),color:Re(w,a)(I),paddingRight:24,fontWeight:600,"&:hover":{borderColor:Re(d,m)(I)},"&:focus":{borderColor:Re(C,_)(I)},"&:is(:focus, :hover)":{borderColor:Re(f,h)(I)},"&:focus-within":{borderColor:Re(S,_)(I)},"&[data-disabled]":{backgroundColor:Re(d,v)(I),color:Re(m,f)(I),cursor:"not-allowed"}},value:{backgroundColor:Re(u,b)(I),color:Re(w,a)(I),button:{color:Re(w,a)(I)},"&:hover":{backgroundColor:Re(d,v)(I),cursor:"pointer"}},dropdown:{backgroundColor:Re(u,b)(I),borderColor:Re(u,b)(I),boxShadow:E},item:{backgroundColor:Re(u,b)(I),color:Re(b,u)(I),padding:6,"&[data-hovered]":{color:Re(w,a)(I),backgroundColor:Re(d,v)(I)},"&[data-active]":{backgroundColor:Re(d,v)(I),"&:hover":{color:Re(w,a)(I),backgroundColor:Re(d,v)(I)}},"&[data-selected]":{backgroundColor:Re(P,_)(I),color:Re(s,a)(I),fontWeight:600,"&:hover":{backgroundColor:Re(k,k)(I),color:Re("white",s)(I)}},"&[data-disabled]":{color:Re(h,m)(I),cursor:"not-allowed"}},rightSection:{width:24,padding:20,button:{color:Re(w,a)(I)}}}),...o})})},Yh=p.memo(iX),lX=qs(I3,e=>({value:e,label:O3[e]})).sort((e,t)=>e.label.localeCompare(t.label));function cX(){const e=se(),{t}=ye(),n=B(o=>o.ui.favoriteSchedulers),r=p.useCallback(o=>{e(m8(o))},[e]);return i.jsx(Yh,{label:t("settings.favoriteSchedulers"),value:n,data:lX,onChange:r,clearable:!0,searchable:!0,maxSelectedValues:99,placeholder:t("settings.favoriteSchedulersPlaceholder")})}const uX=Pe([ao,rs],(e,t)=>{const{shouldConfirmOnDelete:n,shouldDisplayGuides:r,enableImageDebugging:o,consoleLogLevel:s,shouldLogToConsole:a,shouldAntialiasProgressImage:u}=e,{shouldUseCanvasBetaLayout:d,shouldUseSliders:f,shouldShowProgressInViewer:h,shouldShowAdvancedOptions:m}=t;return{shouldConfirmOnDelete:n,shouldDisplayGuides:r,enableImageDebugging:o,shouldUseCanvasBetaLayout:d,shouldUseSliders:f,shouldShowProgressInViewer:h,consoleLogLevel:s,shouldLogToConsole:a,shouldAntialiasProgressImage:u,shouldShowAdvancedOptions:m}},{memoizeOptions:{resultEqualityCheck:Wt}}),dX=({children:e,config:t})=>{const n=se(),{t:r}=ye(),o=(t==null?void 0:t.shouldShowBetaLayout)??!0,s=(t==null?void 0:t.shouldShowDeveloperSettings)??!0,a=(t==null?void 0:t.shouldShowResetWebUiText)??!0,u=(t==null?void 0:t.shouldShowAdvancedOptionsSettings)??!0;p.useEffect(()=>{s||n(zx(!1))},[s,n]);const{isOpen:d,onOpen:f,onClose:h}=Qa(),{isOpen:m,onOpen:v,onClose:b}=Qa(),{shouldConfirmOnDelete:w,shouldDisplayGuides:S,enableImageDebugging:C,shouldUseCanvasBetaLayout:P,shouldUseSliders:k,shouldShowProgressInViewer:_,consoleLogLevel:E,shouldLogToConsole:I,shouldAntialiasProgressImage:O,shouldShowAdvancedOptions:R}=B(uX),M=p.useCallback(()=>{Object.keys(window.localStorage).forEach(A=>{(g8.includes(A)||A.startsWith(v8))&&localStorage.removeItem(A)}),h(),v()},[h,v]),D=p.useCallback(A=>{n(y8(A))},[n]),$=p.useCallback(A=>{n(zx(A.target.checked))},[n]);return i.jsxs(i.Fragment,{children:[p.cloneElement(e,{onClick:f}),i.jsxs(hu,{isOpen:d,onClose:h,size:"xl",isCentered:!0,children:[i.jsx(ei,{}),i.jsxs(mu,{children:[i.jsx(Ja,{children:r("common.settingsLabel")}),i.jsx(a1,{}),i.jsx(ti,{children:i.jsxs(q,{sx:{gap:4,flexDirection:"column"},children:[i.jsxs(Hc,{children:[i.jsx(sa,{size:"sm",children:r("settings.general")}),i.jsx(In,{label:r("settings.confirmOnDelete"),isChecked:w,onChange:A=>n(k3(A.target.checked))}),u&&i.jsx(In,{label:r("settings.showAdvancedOptions"),isChecked:R,onChange:A=>n(b8(A.target.checked))})]}),i.jsxs(Hc,{children:[i.jsx(sa,{size:"sm",children:r("settings.generation")}),i.jsx(cX,{})]}),i.jsxs(Hc,{children:[i.jsx(sa,{size:"sm",children:r("settings.ui")}),i.jsx(In,{label:r("settings.displayHelpIcons"),isChecked:S,onChange:A=>n(x8(A.target.checked))}),o&&i.jsx(In,{label:r("settings.useCanvasBeta"),isChecked:P,onChange:A=>n(S8(A.target.checked))}),i.jsx(In,{label:r("settings.useSlidersForAll"),isChecked:k,onChange:A=>n(w8(A.target.checked))}),i.jsx(In,{label:r("settings.showProgressInViewer"),isChecked:_,onChange:A=>n(j3(A.target.checked))}),i.jsx(In,{label:r("settings.antialiasProgressImages"),isChecked:O,onChange:A=>n(C8(A.target.checked))})]}),s&&i.jsxs(Hc,{children:[i.jsx(sa,{size:"sm",children:r("settings.developer")}),i.jsx(In,{label:r("settings.shouldLogToConsole"),isChecked:I,onChange:$}),i.jsx(mr,{disabled:!I,label:r("settings.consoleLogLevel"),onChange:D,value:E,data:P8.concat()}),i.jsx(In,{label:r("settings.enableImageDebugging"),isChecked:C,onChange:A=>n(k8(A.target.checked))})]}),i.jsxs(Hc,{children:[i.jsx(sa,{size:"sm",children:r("settings.resetWebUI")}),i.jsx(Kt,{colorScheme:"error",onClick:M,children:r("settings.resetWebUI")}),a&&i.jsxs(i.Fragment,{children:[i.jsx(Ye,{children:r("settings.resetWebUIDesc1")}),i.jsx(Ye,{children:r("settings.resetWebUIDesc2")})]})]})]})}),i.jsx(Za,{children:i.jsx(Kt,{onClick:h,children:r("common.close")})})]})]}),i.jsxs(hu,{closeOnOverlayClick:!1,isOpen:m,onClose:b,isCentered:!0,children:[i.jsx(ei,{backdropFilter:"blur(40px)"}),i.jsxs(mu,{children:[i.jsx(Ja,{}),i.jsx(ti,{children:i.jsx(q,{justifyContent:"center",children:i.jsx(Ye,{fontSize:"lg",children:i.jsx(Ye,{children:r("settings.resetComplete")})})})}),i.jsx(Za,{})]})]})]})},Hc=e=>i.jsx(q,{layerStyle:"second",sx:{flexDirection:"column",gap:2,p:4,borderRadius:"base"},children:e.children}),fX=()=>{const{t:e}=ye(),t=hr("localization").isFeatureEnabled,n=hr("bugLink").isFeatureEnabled,r=hr("discordLink").isFeatureEnabled,o=hr("githubLink").isFeatureEnabled;return i.jsxs(q,{sx:{gap:2,alignItems:"center"},children:[i.jsx(rE,{}),i.jsx(Qi,{}),i.jsx(tX,{}),i.jsx(oX,{children:i.jsx(Me,{"aria-label":e("common.hotkeysLabel"),tooltip:e("common.hotkeysLabel"),size:"sm",variant:"link","data-variant":"link",fontSize:20,icon:i.jsx(tL,{})})}),t&&i.jsx(aX,{}),n&&i.jsx(Ri,{isExternal:!0,href:"http://github.com/invoke-ai/InvokeAI/issues",marginBottom:"-0.25rem",children:i.jsx(Me,{"aria-label":e("common.reportBugLabel"),tooltip:e("common.reportBugLabel"),variant:"link","data-variant":"link",fontSize:20,size:"sm",icon:i.jsx(H$,{})})}),o&&i.jsx(Ri,{isExternal:!0,href:"http://github.com/invoke-ai/InvokeAI",marginBottom:"-0.25rem",children:i.jsx(Me,{"aria-label":e("common.githubLabel"),tooltip:e("common.githubLabel"),variant:"link","data-variant":"link",fontSize:20,size:"sm",icon:i.jsx(A$,{})})}),r&&i.jsx(Ri,{isExternal:!0,href:"https://discord.gg/ZmtBAhwWhy",marginBottom:"-0.25rem",children:i.jsx(Me,{"aria-label":e("common.discordLabel"),tooltip:e("common.discordLabel"),variant:"link","data-variant":"link",fontSize:20,size:"sm",icon:i.jsx(D$,{})})}),i.jsx(nX,{}),i.jsx(dX,{children:i.jsx(Me,{"aria-label":e("common.settingsLabel"),tooltip:e("common.settingsLabel"),variant:"link","data-variant":"link",fontSize:22,size:"sm",icon:i.jsx(FK,{})})})]})},pX=p.memo(fX),hX=Pe(ao,e=>{const{isUploading:t}=e;let n="";return t&&(n="Uploading..."),{tooltip:n,shouldShow:t}}),mX=()=>{const{shouldShow:e,tooltip:t}=B(hX);return e?i.jsx(q,{sx:{alignItems:"center",justifyContent:"center",color:"base.600"},children:i.jsx(Gn,{label:t,placement:"right",hasArrow:!0,children:i.jsx(Ou,{})})}):null},gX=p.memo(mX),li=e=>e.config,{createElement:Zl,createContext:vX,forwardRef:oE,useCallback:$a,useContext:sE,useEffect:fa,useImperativeHandle:aE,useLayoutEffect:yX,useMemo:bX,useRef:Xo,useState:iu}=A0,qC=A0["useId".toString()],xX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xp=xX?yX:()=>{},SX=typeof qC=="function"?qC:()=>null;let wX=0;function fy(e=null){const t=SX(),n=Xo(e||t||null);return n.current===null&&(n.current=""+wX++),n.current}const Kh=vX(null);Kh.displayName="PanelGroupContext";function iE({children:e=null,className:t="",collapsedSize:n=0,collapsible:r=!1,defaultSize:o=null,forwardedRef:s,id:a=null,maxSize:u=100,minSize:d=10,onCollapse:f=null,onResize:h=null,order:m=null,style:v={},tagName:b="div"}){const w=sE(Kh);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const S=fy(a),{collapsePanel:C,expandPanel:P,getPanelStyle:k,registerPanel:_,resizePanel:E,unregisterPanel:I}=w,O=Xo({onCollapse:f,onResize:h});if(fa(()=>{O.current.onCollapse=f,O.current.onResize=h}),d<0||d>100)throw Error(`Panel minSize must be between 0 and 100, but was ${d}`);if(u<0||u>100)throw Error(`Panel maxSize must be between 0 and 100, but was ${u}`);if(o!==null){if(o<0||o>100)throw Error(`Panel defaultSize must be between 0 and 100, but was ${o}`);d>o&&!r&&(console.error(`Panel minSize ${d} cannot be greater than defaultSize ${o}`),o=d)}const R=k(S,o),M=Xo({size:YC(R)}),D=Xo({callbacksRef:O,collapsedSize:n,collapsible:r,defaultSize:o,id:S,maxSize:u,minSize:d,order:m});return Xp(()=>{M.current.size=YC(R),D.current.callbacksRef=O,D.current.collapsedSize=n,D.current.collapsible=r,D.current.defaultSize=o,D.current.id=S,D.current.maxSize=u,D.current.minSize=d,D.current.order=m}),Xp(()=>(_(S,D),()=>{I(S)}),[m,S,_,I]),aE(s,()=>({collapse:()=>C(S),expand:()=>P(S),getCollapsed(){return M.current.size===0},getSize(){return M.current.size},resize:$=>E(S,$)}),[C,P,S,E]),Zl(b,{children:e,className:t,"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-id":S,"data-panel-size":parseFloat(""+R.flexGrow).toFixed(1),id:`data-panel-id-${S}`,style:{...R,...v}})}const Cu=oE((e,t)=>Zl(iE,{...e,forwardedRef:t}));iE.displayName="Panel";Cu.displayName="forwardRef(Panel)";function YC(e){const{flexGrow:t}=e;return typeof t=="string"?parseFloat(t):t}const Yi=10;function Xc(e,t,n,r,o,s,a,u){const{sizes:d}=u||{},f=d||s;if(o===0)return f;const h=Yo(t),m=f.concat();let v=0;{const S=o<0?r:n,C=h.findIndex(E=>E.current.id===S),P=h[C],k=f[C],_=KC(P,Math.abs(o),k,e);if(k===_)return f;_===0&&k>0&&a.set(S,k),o=o<0?k-_:_-k}let b=o<0?n:r,w=h.findIndex(S=>S.current.id===b);for(;;){const S=h[w],C=f[w],P=Math.abs(o)-Math.abs(v),k=KC(S,0-P,C,e);if(C!==k&&(k===0&&C>0&&a.set(S.current.id,C),v+=C-k,m[w]=k,v.toPrecision(Yi).localeCompare(Math.abs(o).toPrecision(Yi),void 0,{numeric:!0})>=0))break;if(o<0){if(--w<0)break}else if(++w>=h.length)break}return v===0?f:(b=o<0?r:n,w=h.findIndex(S=>S.current.id===b),m[w]=f[w]+v,m)}function kl(e,t,n){t.forEach((r,o)=>{const{callbacksRef:s,collapsedSize:a,collapsible:u,id:d}=e[o].current,f=n[d];if(f!==r){n[d]=r;const{onCollapse:h,onResize:m}=s.current;m&&m(r,f),u&&h&&((f==null||f===a)&&r!==a?h(!1):f!==a&&r===a&&h(!0))}})}function Zg(e,t){if(t.length<2)return[null,null];const n=t.findIndex(a=>a.current.id===e);if(n<0)return[null,null];const r=n===t.length-1,o=r?t[n-1].current.id:e,s=r?e:t[n+1].current.id;return[o,s]}function lE(e,t,n){if(e.size===1)return"100";const o=Yo(e).findIndex(a=>a.current.id===t),s=n[o];return s==null?"0":s.toPrecision(Yi)}function CX(e){const t=document.querySelector(`[data-panel-id="${e}"]`);return t||null}function py(e){const t=document.querySelector(`[data-panel-group-id="${e}"]`);return t||null}function Xh(e){const t=document.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function PX(e){return cE().findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===e)??null}function cE(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function uE(e){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function hy(e,t,n){var d,f,h,m;const r=Xh(t),o=uE(e),s=r?o.indexOf(r):-1,a=((f=(d=n[s])==null?void 0:d.current)==null?void 0:f.id)??null,u=((m=(h=n[s+1])==null?void 0:h.current)==null?void 0:m.id)??null;return[a,u]}function Yo(e){return Array.from(e.values()).sort((t,n)=>{const r=t.current.order,o=n.current.order;return r==null&&o==null?0:r==null?-1:o==null?1:r-o})}function KC(e,t,n,r){var h;const o=n+t,{collapsedSize:s,collapsible:a,maxSize:u,minSize:d}=e.current;if(a){if(n>s){if(o<=d/2+s)return s}else if(!((h=r==null?void 0:r.type)==null?void 0:h.startsWith("key"))&&o<d)return s}return Math.min(u,Math.max(d,o))}function dE(e,t="Assertion failed!"){if(!e)throw console.error(t),Error(t)}function kX({committedValuesRef:e,groupId:t,panels:n,setSizes:r,sizes:o,panelSizeBeforeCollapse:s}){fa(()=>{const{direction:a,panels:u}=e.current,d=py(t),{height:f,width:h}=d.getBoundingClientRect(),v=uE(t).map(b=>{const w=b.getAttribute("data-panel-resize-handle-id"),S=Yo(u),[C,P]=hy(t,w,S);if(C==null||P==null)return()=>{};let k=0,_=100,E=0,I=0;S.forEach(A=>{A.current.id===C?(_=A.current.maxSize,k=A.current.minSize):(E+=A.current.minSize,I+=A.current.maxSize)});const O=Math.min(_,100-E),R=Math.max(k,(S.length-1)*100-I),M=lE(u,C,o);b.setAttribute("aria-valuemax",""+Math.round(O)),b.setAttribute("aria-valuemin",""+Math.round(R)),b.setAttribute("aria-valuenow",""+Math.round(parseInt(M)));const D=A=>{if(!A.defaultPrevented)switch(A.key){case"Enter":{A.preventDefault();const G=S.findIndex(L=>L.current.id===C);if(G>=0){const L=S[G],F=o[G];if(F!=null){let W=0;F.toPrecision(Yi)<=L.current.minSize.toPrecision(Yi)?W=a==="horizontal"?h:f:W=-(a==="horizontal"?h:f);const X=Xc(A,u,C,P,W,o,s.current,null);o!==X&&r(X)}}break}}};b.addEventListener("keydown",D);const $=CX(C);return $!=null&&b.setAttribute("aria-controls",$.id),()=>{b.removeAttribute("aria-valuemax"),b.removeAttribute("aria-valuemin"),b.removeAttribute("aria-valuenow"),b.removeEventListener("keydown",D),$!=null&&b.removeAttribute("aria-controls")}});return()=>{v.forEach(b=>b())}},[e,t,n,s,r,o])}function _X({disabled:e,handleId:t,resizeHandler:n}){fa(()=>{if(e||n==null)return;const r=Xh(t);if(r==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const a=cE(),u=PX(t);dE(u!==null);const d=s.shiftKey?u>0?u-1:a.length-1:u+1<a.length?u+1:0;a[d].focus();break}}};return r.addEventListener("keydown",o),()=>{r.removeEventListener("keydown",o)}},[e,t,n])}function jX(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function fE(e,t,n,r=0,o=null){const s=n==="horizontal";let a=0;if(d0(e))a=s?e.clientX:e.clientY;else if(f0(e)){const h=e.touches[0];a=s?h.screenX:h.screenY}else return 0;const u=Xh(t),d=o||u.getBoundingClientRect(),f=s?d.left:d.top;return a-f-r}function EX(e,t,n,r,o,s,a){const{dragOffset:u=0,dragHandleRect:d,sizes:f}=a||{},h=f||s;if(IX(e)){const m=o==="horizontal",b=py(t).getBoundingClientRect(),w=m?b.width:b.height,S=e.shiftKey?10:100,C=w/S;let P=0;switch(e.key){case"ArrowDown":P=m?0:C;break;case"ArrowLeft":P=m?-C:0;break;case"ArrowRight":P=m?C:0;break;case"ArrowUp":P=m?0:-C;break;case"End":P=w;break;case"Home":P=-w;break}const[k,_]=hy(t,n,r),E=P<0?k:_,I=r.findIndex(R=>R.current.id===E),O=r[I];if(O.current.collapsible){const R=h[I];(R===0||R.toPrecision(Yi)===O.current.minSize.toPrecision(Yi))&&(P=P<0?-O.current.minSize*w:O.current.minSize*w)}return P}else return fE(e,n,o,u,d)}function IX(e){return e.type==="keydown"}function d0(e){return e.type.startsWith("mouse")}function f0(e){return e.type.startsWith("touch")}let p0=null,Ei=null;function pE(e){switch(e){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function OX(){Ei!==null&&(document.head.removeChild(Ei),p0=null,Ei=null)}function Jg(e){if(p0===e)return;p0=e;const t=pE(e);Ei===null&&(Ei=document.createElement("style"),document.head.appendChild(Ei)),Ei.innerHTML=`*{cursor: ${t}!important;}`}function RX(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function hE(e){return e.map(t=>{const{minSize:n,order:r}=t.current;return r?`${r}:${n}`:`${n}`}).sort((t,n)=>t.localeCompare(n)).join(",")}function mE(e,t){try{const n=t.getItem(`PanelGroup:sizes:${e}`);if(n){const r=JSON.parse(n);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function MX(e,t,n){const r=mE(e,n);if(r){const o=hE(t);return r[o]??null}return null}function TX(e,t,n,r){const o=hE(t),s=mE(e,r)||{};s[o]=n;try{r.setItem(`PanelGroup:sizes:${e}`,JSON.stringify(s))}catch(a){console.error(a)}}const ev={};function XC(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}const Qc={getItem:e=>(XC(Qc),Qc.getItem(e)),setItem:(e,t)=>{XC(Qc),Qc.setItem(e,t)}};function gE({autoSaveId:e,children:t=null,className:n="",direction:r,disablePointerEventsDuringResize:o=!1,forwardedRef:s,id:a=null,onLayout:u,storage:d=Qc,style:f={},tagName:h="div"}){const m=fy(a),[v,b]=iu(null),[w,S]=iu(new Map),C=Xo(null),P=Xo({onLayout:u});fa(()=>{P.current.onLayout=u});const k=Xo({}),[_,E]=iu([]),I=Xo(new Map),O=Xo(0),R=Xo({direction:r,panels:w,sizes:_});aE(s,()=>({getLayout:()=>{const{sizes:N}=R.current;return N},setLayout:N=>{const V=N.reduce((ge,le)=>ge+le,0);dE(V===100,"Panel sizes must add up to 100%");const{panels:H}=R.current,U=k.current,ne=Yo(H);E(N),kl(ne,N,U)}}),[]),Xp(()=>{R.current.direction=r,R.current.panels=w,R.current.sizes=_}),kX({committedValuesRef:R,groupId:m,panels:w,setSizes:E,sizes:_,panelSizeBeforeCollapse:I}),fa(()=>{const{onLayout:N}=P.current,{panels:V,sizes:H}=R.current;if(H.length>0){N&&N(H);const U=k.current,ne=Yo(V);kl(ne,H,U)}},[_]),Xp(()=>{if(R.current.sizes.length===w.size)return;let V=null;if(e){const H=Yo(w);V=MX(e,H,d)}if(V!=null)E(V);else{const H=Yo(w);let U=0,ne=0,ge=0;if(H.forEach(le=>{ge+=le.current.minSize,le.current.defaultSize===null?U++:ne+=le.current.defaultSize}),ne>100)throw new Error("Default panel sizes cannot exceed 100%");if(H.length>1&&U===0&&ne!==100)throw new Error("Invalid default sizes specified for panels");if(ge>100)throw new Error("Minimum panel sizes cannot exceed 100%");E(H.map(le=>le.current.defaultSize===null?(100-ne)/U:le.current.defaultSize))}},[e,w,d]),fa(()=>{if(e){if(_.length===0||_.length!==w.size)return;const N=Yo(w);ev[e]||(ev[e]=RX(TX,100)),ev[e](e,N,_,d)}},[e,w,_,d]);const M=$a((N,V)=>{const{panels:H}=R.current;return H.size===0?{flexBasis:0,flexGrow:V??void 0,flexShrink:1,overflow:"hidden"}:{flexBasis:0,flexGrow:lE(H,N,_),flexShrink:1,overflow:"hidden",pointerEvents:o&&v!==null?"none":void 0}},[v,o,_]),D=$a((N,V)=>{S(H=>{if(H.has(N))return H;const U=new Map(H);return U.set(N,V),U})},[]),$=$a(N=>H=>{H.preventDefault();const{direction:U,panels:ne,sizes:ge}=R.current,le=Yo(ne),[re,K]=hy(m,N,le);if(re==null||K==null)return;let ae=EX(H,m,N,le,U,ge,C.current);if(ae===0)return;const xe=py(m).getBoundingClientRect(),oe=U==="horizontal";document.dir==="rtl"&&oe&&(ae=-ae);const me=oe?xe.width:xe.height,fe=ae/me*100,ke=Xc(H,ne,re,K,fe,ge,I.current,C.current),Ae=!jX(ge,ke);if((d0(H)||f0(H))&&O.current!=fe&&Jg(Ae?oe?"horizontal":"vertical":oe?ae<0?"horizontal-min":"horizontal-max":ae<0?"vertical-min":"vertical-max"),Ae){const ve=k.current;E(ke),kl(le,ke,ve)}O.current=fe},[m]),A=$a(N=>{S(V=>{if(!V.has(N))return V;const H=new Map(V);return H.delete(N),H})},[]),G=$a(N=>{const{panels:V,sizes:H}=R.current,U=V.get(N);if(U==null)return;const{collapsedSize:ne,collapsible:ge}=U.current;if(!ge)return;const le=Yo(V),re=le.indexOf(U);if(re<0)return;const K=H[re];if(K===ne)return;I.current.set(N,K);const[ae,de]=Zg(N,le);if(ae==null||de==null)return;const oe=re===le.length-1?K:ne-K,me=Xc(null,V,ae,de,oe,H,I.current,null);if(H!==me){const fe=k.current;E(me),kl(le,me,fe)}},[]),L=$a(N=>{const{panels:V,sizes:H}=R.current,U=V.get(N);if(U==null)return;const{collapsedSize:ne,minSize:ge}=U.current,le=I.current.get(N)||ge;if(!le)return;const re=Yo(V),K=re.indexOf(U);if(K<0||H[K]!==ne)return;const[de,xe]=Zg(N,re);if(de==null||xe==null)return;const me=K===re.length-1?ne-le:le,fe=Xc(null,V,de,xe,me,H,I.current,null);if(H!==fe){const ke=k.current;E(fe),kl(re,fe,ke)}},[]),F=$a((N,V)=>{const{panels:H,sizes:U}=R.current,ne=H.get(N);if(ne==null)return;const{collapsedSize:ge,collapsible:le,maxSize:re,minSize:K}=ne.current,ae=Yo(H),de=ae.indexOf(ne);if(de<0)return;const xe=U[de];if(xe===V)return;le&&V===ge||(V=Math.min(re,Math.max(K,V)));const[oe,me]=Zg(N,ae);if(oe==null||me==null)return;const ke=de===ae.length-1?xe-V:V-xe,Ae=Xc(null,H,oe,me,ke,U,I.current,null);if(U!==Ae){const ve=k.current;E(Ae),kl(ae,Ae,ve)}},[]),W=bX(()=>({activeHandleId:v,collapsePanel:G,direction:r,expandPanel:L,getPanelStyle:M,groupId:m,registerPanel:D,registerResizeHandle:$,resizePanel:F,startDragging:(N,V)=>{if(b(N),d0(V)||f0(V)){const H=Xh(N);C.current={dragHandleRect:H.getBoundingClientRect(),dragOffset:fE(V,N,r),sizes:R.current.sizes}}},stopDragging:()=>{OX(),b(null),C.current=null},unregisterPanel:A}),[v,G,r,L,M,m,D,$,F,A]),X={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Zl(Kh.Provider,{children:Zl(h,{children:t,className:n,"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":m,style:{...X,...f}}),value:W})}const my=oE((e,t)=>Zl(gE,{...e,forwardedRef:t}));gE.displayName="PanelGroup";my.displayName="forwardRef(PanelGroup)";function h0({children:e=null,className:t="",disabled:n=!1,id:r=null,onDragging:o,style:s={},tagName:a="div"}){const u=Xo(null),d=Xo({onDragging:o});fa(()=>{d.current.onDragging=o});const f=sE(Kh);if(f===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId:h,direction:m,groupId:v,registerResizeHandle:b,startDragging:w,stopDragging:S}=f,C=fy(r),P=h===C,[k,_]=iu(!1),[E,I]=iu(null),O=$a(()=>{u.current.blur(),S();const{onDragging:D}=d.current;D&&D(!1)},[S]);fa(()=>{if(n)I(null);else{const M=b(C);I(()=>M)}},[n,C,b]),fa(()=>{if(n||E==null||!P)return;const M=G=>{E(G)},D=G=>{E(G)},A=u.current.ownerDocument;return A.body.addEventListener("contextmenu",O),A.body.addEventListener("mousemove",M),A.body.addEventListener("touchmove",M),A.body.addEventListener("mouseleave",D),window.addEventListener("mouseup",O),window.addEventListener("touchend",O),()=>{A.body.removeEventListener("contextmenu",O),A.body.removeEventListener("mousemove",M),A.body.removeEventListener("touchmove",M),A.body.removeEventListener("mouseleave",D),window.removeEventListener("mouseup",O),window.removeEventListener("touchend",O)}},[m,n,P,E,O]),_X({disabled:n,handleId:C,resizeHandler:E});const R={cursor:pE(m),touchAction:"none",userSelect:"none"};return Zl(a,{children:e,className:t,"data-resize-handle-active":P?"pointer":k?"keyboard":void 0,"data-panel-group-direction":m,"data-panel-group-id":v,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":C,onBlur:()=>_(!1),onFocus:()=>_(!0),onMouseDown:M=>{w(C,M.nativeEvent);const{onDragging:D}=d.current;D&&D(!0)},onMouseUp:O,onTouchCancel:O,onTouchEnd:O,onTouchStart:M=>{w(C,M.nativeEvent);const{onDragging:D}=d.current;D&&D(!0)},ref:u,role:"separator",style:{...R,...s},tabIndex:0})}h0.displayName="PanelResizeHandle";const DX=(e,t,n,r="horizontal")=>{const o=p.useRef(null),[s,a]=p.useState(t),u=p.useCallback(()=>{var f,h;const d=(f=o.current)==null?void 0:f.getSize();d!==void 0&&d<s&&((h=o.current)==null||h.resize(s))},[s]);return p.useLayoutEffect(()=>{const d=document.querySelector(`[data-panel-group-id="${n}"]`),f=document.querySelectorAll("[data-panel-resize-handle-id]");if(!d)return;const h=new ResizeObserver(()=>{let m=r==="horizontal"?d.getBoundingClientRect().width:d.getBoundingClientRect().height;f.forEach(v=>{m-=r==="horizontal"?v.getBoundingClientRect().width:v.getBoundingClientRect().height}),a(e/m*100)});return h.observe(d),f.forEach(m=>{h.observe(m)}),window.addEventListener("resize",u),()=>{h.disconnect(),window.removeEventListener("resize",u)}},[n,u,s,e,r]),{ref:o,minSizePct:s}},AX=Pe([wn],e=>{const{initialImage:t}=e.generation,{asInitialImage:n,imageNames:r}=e.batch;return{initialImage:t,useBatchAsInitialImage:n,isResetButtonDisabled:n?r.length===0:!t}},Rt),NX=()=>{const{initialImage:e}=B(AX),{currentData:t,isLoading:n,isError:r,isSuccess:o}=Ws((e==null?void 0:e.imageName)??ga.skipToken),s=p.useMemo(()=>{if(t)return{id:"initial-image",payloadType:"IMAGE_DTO",payload:{imageDTO:t}}},[t]),a=p.useMemo(()=>({id:"initial-image",actionType:"SET_INITIAL_IMAGE"}),[]);return i.jsx(Vi,{imageDTO:t,droppableData:a,draggableData:s,isUploadDisabled:!0,fitContainer:!0,dropLabel:"Set as Initial Image",noContentFallback:i.jsx(Vu,{label:"No initial image selected"})})},zX=Pe([wn],e=>{const{initialImage:t}=e.generation,{asInitialImage:n,imageNames:r}=e.batch;return{initialImage:t,useBatchAsInitialImage:n,isResetButtonDisabled:n?r.length===0:!t}},Rt),$X=()=>{const{initialImage:e,useBatchAsInitialImage:t,isResetButtonDisabled:n}=B(zX),r=se(),{openUploader:o}=Ch();Ws((e==null?void 0:e.imageName)??ga.skipToken);const s=p.useMemo(()=>t?{type:"ADD_TO_BATCH"}:{type:"SET_INITIAL_IMAGE"},[t]),{getUploadButtonProps:a,getUploadInputProps:u}=ok({postUploadAction:s}),d=p.useCallback(()=>{r(t?_8():j8())},[r,t]),f=p.useCallback(()=>{o()},[o]);return p.useCallback(()=>{r(E8())},[r]),i.jsxs(q,{layerStyle:"first",sx:{position:"relative",flexDirection:"column",height:"full",width:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",p:4,gap:4},children:[i.jsxs(q,{sx:{w:"full",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:2},children:[i.jsx(Ye,{sx:{fontWeight:600,userSelect:"none",color:"base.700",_dark:{color:"base.200"}},children:"Initial Image"}),i.jsx(Qi,{}),i.jsx(Me,{tooltip:t?"Upload to Batch":"Upload Initial Image","aria-label":t?"Upload to Batch":"Upload Initial Image",icon:i.jsx(Oh,{}),onClick:f,...a()}),i.jsx(Me,{tooltip:t?"Reset Batch":"Reset Initial Image","aria-label":t?"Reset Batch":"Reset Initial Image",icon:i.jsx(B1,{}),onClick:d,isDisabled:n})]}),i.jsx(NX,{}),i.jsx("input",{...u()})]})},vE=e=>{const{sx:t}=e,n=se(),r=B(a=>a.ui.shouldPinParametersPanel),{t:o}=ye(),s=()=>{n(I8(!r)),n(_s())};return i.jsx(Me,{...e,tooltip:o("common.pinOptionsPanel"),"aria-label":o("common.pinOptionsPanel"),onClick:s,icon:r?i.jsx(qP,{}):i.jsx(YP,{}),variant:"ghost",size:"sm",sx:{color:"base.500",_hover:{color:"base.600"},_active:{color:"base.700"},_dark:{color:"base.500",_hover:{color:"base.400"},_active:{color:"base.300"}},...t}})},LX=Pe(rs,e=>{const{shouldPinParametersPanel:t,shouldShowParametersPanel:n}=e;return{shouldPinParametersPanel:t,shouldShowParametersPanel:n}}),FX=e=>{const{shouldPinParametersPanel:t,shouldShowParametersPanel:n}=B(LX);return t&&n?i.jsxs(Ue,{sx:{position:"relative",h:"full",w:dy,flexShrink:0},children:[i.jsx(q,{sx:{gap:2,flexDirection:"column",h:"full",w:"full",position:"absolute",overflowY:"auto"},children:e.children}),i.jsx(vE,{sx:{position:"absolute",top:0,insetInlineEnd:0}})]}):null},gy=p.memo(FX),BX=e=>{const{direction:t="horizontal",...n}=e,{colorMode:r}=bo();return t==="horizontal"?i.jsx(h0,{children:i.jsx(q,{sx:{w:6,h:"full",justifyContent:"center",alignItems:"center"},...n,children:i.jsx(Ue,{sx:{w:.5,h:"calc(100% - 4px)",bg:Re("base.100","base.850")(r)}})})}):i.jsx(h0,{children:i.jsx(q,{sx:{w:"full",h:6,justifyContent:"center",alignItems:"center"},...n,children:i.jsx(Ue,{sx:{w:"calc(100% - 4px)",h:.5,bg:Re("base.100","base.850")(r)}})})})},yE=p.memo(BX),HX=Pe([wn,O8],({ui:e,system:t},n)=>{const{shouldShowImageDetails:r,shouldHidePreview:o,shouldShowProgressInViewer:s}=e,{progressImage:a,shouldAntialiasProgressImage:u}=t;return{shouldShowImageDetails:r,shouldHidePreview:o,imageName:n,progressImage:a,shouldShowProgressInViewer:s,shouldAntialiasProgressImage:u}},{memoizeOptions:{resultEqualityCheck:Wt}}),WX=()=>{const{shouldShowImageDetails:e,imageName:t,progressImage:n,shouldShowProgressInViewer:r,shouldAntialiasProgressImage:o}=B(HX),{currentData:s,isLoading:a,isError:u,isSuccess:d}=Ws(t??ga.skipToken),f=p.useMemo(()=>{if(s)return{id:"current-image",payloadType:"IMAGE_DTO",payload:{imageDTO:s}}},[s]),h=p.useMemo(()=>({id:"current-image",actionType:"SET_CURRENT_IMAGE"}),[]);return i.jsxs(q,{sx:{width:"full",height:"full",alignItems:"center",justifyContent:"center",position:"relative"},children:[n&&r?i.jsx(ih,{src:n.dataURL,width:n.width,height:n.height,draggable:!1,sx:{objectFit:"contain",maxWidth:"full",maxHeight:"full",height:"auto",position:"absolute",borderRadius:"base",imageRendering:o?"auto":"pixelated"}}):i.jsx(Vi,{imageDTO:s,droppableData:h,draggableData:f,isUploadDisabled:!0,fitContainer:!0,dropLabel:"Set as Current Image"}),e&&s&&i.jsx(Ue,{sx:{position:"absolute",top:"0",width:"full",height:"full",borderRadius:"base",overflow:"scroll"},children:i.jsx(Bj,{image:s})}),!e&&s&&i.jsx(Ue,{sx:{position:"absolute",top:"0",width:"full",height:"full",pointerEvents:"none"},children:i.jsx(Hj,{})})]})},VX=p.memo(WX),UX=()=>i.jsxs(q,{sx:{position:"relative",flexDirection:"column",height:"100%",width:"100%",rowGap:4,alignItems:"center",justifyContent:"center"},children:[i.jsx(Fj,{}),i.jsx(VX,{})]}),bE=()=>i.jsx(Ue,{layerStyle:"first",sx:{position:"relative",width:"100%",height:"100%",p:4,borderRadius:"base"},children:i.jsx(q,{sx:{width:"100%",height:"100%"},children:i.jsx(UX,{})})}),GX=e=>{const{label:t,activeLabel:n,children:r,defaultIsOpen:o=!1}=e,{isOpen:s,onToggle:a}=Qa({defaultIsOpen:o}),{colorMode:u}=bo();return i.jsxs(Ue,{children:[i.jsxs(q,{onClick:a,sx:{alignItems:"center",p:2,px:4,gap:2,borderTopRadius:"base",borderBottomRadius:s?0:"base",bg:s?Re("base.200","base.750")(u):Re("base.150","base.800")(u),color:Re("base.900","base.100")(u),_hover:{bg:s?Re("base.250","base.700")(u):Re("base.200","base.750")(u)},fontSize:"sm",fontWeight:600,cursor:"pointer",transitionProperty:"common",transitionDuration:"normal",userSelect:"none"},children:[t,i.jsx(ns,{children:n&&i.jsx(To.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},exit:{opacity:0,transition:{duration:.1}},children:i.jsx(Ye,{sx:{color:"accent.500",_dark:{color:"accent.300"}},children:n})},"statusText")}),i.jsx(Qi,{}),i.jsx(V1,{sx:{w:"1rem",h:"1rem",transform:s?"rotate(0deg)":"rotate(180deg)",transitionProperty:"common",transitionDuration:"normal"}})]}),i.jsx(uh,{in:s,animateOpacity:!0,style:{overflow:"unset"},children:i.jsx(Ue,{sx:{p:4,borderBottomRadius:"base",bg:Re("base.100","base.800")(u)},children:r})})]})},wo=p.memo(GX),qX=Pe(wn,e=>{const{combinatorial:t,isEnabled:n}=e.dynamicPrompts;return{combinatorial:t,isDisabled:!n}},Rt),YX=()=>{const{combinatorial:e,isDisabled:t}=B(qX),n=se(),r=p.useCallback(()=>{n(R8())},[n]);return i.jsx(In,{isDisabled:t,label:"Combinatorial Generation",isChecked:e,onChange:r})},KX=Pe(wn,e=>{const{isEnabled:t}=e.dynamicPrompts;return{isEnabled:t}},Rt),XX=()=>{const e=se(),{isEnabled:t}=B(KX),n=p.useCallback(()=>{e(M8())},[e]);return i.jsx(In,{label:"Enable Dynamic Prompts",isChecked:t,onChange:n})},QX=Pe(wn,e=>{const{maxPrompts:t,combinatorial:n,isEnabled:r}=e.dynamicPrompts,{min:o,sliderMax:s,inputMax:a}=e.config.sd.dynamicPrompts.maxPrompts;return{maxPrompts:t,min:o,sliderMax:s,inputMax:a,isDisabled:!r||!n}},Rt),ZX=()=>{const{maxPrompts:e,min:t,sliderMax:n,inputMax:r,isDisabled:o}=B(QX),s=se(),a=p.useCallback(d=>{s(T8(d))},[s]),u=p.useCallback(()=>{s(D8())},[s]);return i.jsx(vt,{label:"Max Prompts",isDisabled:o,min:t,max:n,value:e,onChange:a,sliderNumberInputProps:{max:r},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:u})},JX=Pe(wn,e=>{const{isEnabled:t}=e.dynamicPrompts;return{activeLabel:t?"Enabled":void 0}},Rt),vy=()=>{const{activeLabel:e}=B(JX);return hr("dynamicPrompting").isFeatureEnabled?i.jsx(wo,{label:"Dynamic Prompts",activeLabel:e,children:i.jsxs(q,{sx:{gap:2,flexDir:"column"},children:[i.jsx(XX,{}),i.jsx(YX,{}),i.jsx(ZX,{})]})}):null},eQ=e=>{const t=se(),{lora:n}=e,r=p.useCallback(a=>{t(A8({id:n.id,weight:a}))},[t,n.id]),o=p.useCallback(()=>{t(N8(n.id))},[t,n.id]),s=p.useCallback(()=>{t(z8(n.id))},[t,n.id]);return i.jsxs(q,{sx:{gap:2.5,alignItems:"flex-end"},children:[i.jsx(vt,{label:n.name,value:n.weight,onChange:r,min:-1,max:2,step:.01,withInput:!0,withReset:!0,handleReset:o,withSliderMarks:!0,sliderMarks:[-1,0,1,2]}),i.jsx(Me,{size:"sm",onClick:s,tooltip:"Remove LoRA","aria-label":"Remove LoRA",icon:i.jsx(vo,{}),colorScheme:"error"})]})},tQ=p.memo(eQ),nQ=Pe(wn,({lora:e})=>{const{loras:t}=e;return{loras:t}},Rt),rQ=()=>{const{loras:e}=B(nQ);return qs(e,t=>i.jsx(tQ,{lora:t},t.name))},xE=p.forwardRef(({label:e,tooltip:t,description:n,disabled:r,...o},s)=>i.jsx(Gn,{label:t,placement:"top",hasArrow:!0,children:i.jsx(Ue,{ref:s,...o,children:i.jsxs(Ue,{children:[i.jsx(ql,{children:e}),n&&i.jsx(ql,{size:"xs",color:"base.600",children:n})]})})}));xE.displayName="IAIMantineSelectItemWithTooltip";const yy=p.memo(xE),QC=Mu({sortComparer:(e,t)=>e.name.localeCompare(t.name)}),ZC=Mu({sortComparer:(e,t)=>e.name.localeCompare(t.name)}),JC=Mu({sortComparer:(e,t)=>e.name.localeCompare(t.name)}),e4=Mu({sortComparer:(e,t)=>e.name.localeCompare(t.name)}),t4=Mu({sortComparer:(e,t)=>e.name.localeCompare(t.name)}),oQ=({base_model:e,type:t,name:n})=>`${e}/${t}/${n}`,Wc=e=>{const t=[];return e.forEach(n=>{const r={...L8(n),id:oQ(n)};t.push(r)}),t},SE=$8.injectEndpoints({endpoints:e=>({getMainModels:e.query({query:()=>({url:"models/",params:{model_type:"main"}}),providesTags:(t,n,r)=>{const o=[{id:"MainModel",type:Tc}];return t&&o.push(...t.ids.map(s=>({type:"MainModel",id:s}))),o},transformResponse:(t,n,r)=>{const o=Wc(t.models);return QC.setAll(QC.getInitialState(),o)}}),getLoRAModels:e.query({query:()=>({url:"models/",params:{model_type:"lora"}}),providesTags:(t,n,r)=>{const o=[{id:"LoRAModel",type:Tc}];return t&&o.push(...t.ids.map(s=>({type:"LoRAModel",id:s}))),o},transformResponse:(t,n,r)=>{const o=Wc(t.models);return ZC.setAll(ZC.getInitialState(),o)}}),getControlNetModels:e.query({query:()=>({url:"models/",params:{model_type:"controlnet"}}),providesTags:(t,n,r)=>{const o=[{id:"ControlNetModel",type:Tc}];return t&&o.push(...t.ids.map(s=>({type:"ControlNetModel",id:s}))),o},transformResponse:(t,n,r)=>{const o=Wc(t.models);return JC.setAll(JC.getInitialState(),o)}}),getVaeModels:e.query({query:()=>({url:"models/",params:{model_type:"vae"}}),providesTags:(t,n,r)=>{const o=[{id:"VaeModel",type:Tc}];return t&&o.push(...t.ids.map(s=>({type:"VaeModel",id:s}))),o},transformResponse:(t,n,r)=>{const o=Wc(t.models);return t4.setAll(t4.getInitialState(),o)}}),getTextualInversionModels:e.query({query:()=>({url:"models/",params:{model_type:"embedding"}}),providesTags:(t,n,r)=>{const o=[{id:"TextualInversionModel",type:Tc}];return t&&o.push(...t.ids.map(s=>({type:"TextualInversionModel",id:s}))),o},transformResponse:(t,n,r)=>{const o=Wc(t.models);return e4.setAll(e4.getInitialState(),o)}})})}),{useGetMainModelsQuery:Yu,useGetControlNetModelsQuery:Pae,useGetLoRAModelsQuery:wE,useGetTextualInversionModelsQuery:sQ,useGetVaeModelsQuery:CE}=SE,Kr={"sd-1":"Stable Diffusion 1.x","sd-2":"Stable Diffusion 2.x"},aQ=()=>{const e=se(),{t}=ye(),n=B(d=>d.generation.model),{data:r,isLoading:o}=Yu(),s=p.useMemo(()=>{if(!r)return[];const d=[];return oi(r.entities,(f,h)=>{f&&d.push({value:h,label:f.name,group:Kr[f.base_model]})}),d},[r]),a=p.useMemo(()=>r==null?void 0:r.entities[(n==null?void 0:n.id)||""],[r==null?void 0:r.entities,n]),u=p.useCallback(d=>{d&&e(pv(d))},[e]);return p.useEffect(()=>{if(o||a&&(r!=null&&r.ids.includes(a==null?void 0:a.id)))return;const d=r==null?void 0:r.ids[0];ah(d)&&u(d)},[u,o,r==null?void 0:r.ids,a]),o?i.jsx(mr,{label:t("modelManager.model"),placeholder:"Loading...",disabled:!0,data:[]}):i.jsx(mr,{tooltip:a==null?void 0:a.description,label:t("modelManager.model"),value:a==null?void 0:a.id,placeholder:s.length>0?"Select a model":"No models detected!",data:s,error:s.length===0,onChange:u})},iQ=p.memo(aQ),lQ=Pe(wn,({lora:e})=>({loras:e.loras}),Rt),cQ=()=>{const e=se(),{loras:t}=B(lQ),{data:n}=wE(),r=B(a=>a.generation.model),o=p.useMemo(()=>{if(!n)return[];const a=[];return oi(n.entities,(u,d)=>{if(!u||d in t)return;const f=(r==null?void 0:r.base_model)!==u.base_model;a.push({value:d,label:u.name,disabled:f,group:Kr[u.base_model],tooltip:f?`Incompatible base model: ${u.base_model}`:void 0})}),a.sort((u,d)=>u.disabled&&!d.disabled?1:-1)},[t,n,r==null?void 0:r.base_model]),s=p.useCallback(a=>{const u=n==null?void 0:n.entities[a[0]];u&&a[0]&&e(F8(u))},[e,n==null?void 0:n.entities]);return(n==null?void 0:n.ids.length)===0?i.jsx(q,{sx:{justifyContent:"center",p:2},children:i.jsx(Ye,{sx:{fontSize:"sm",color:"base.500",_dark:"base.700"},children:"No LoRAs Loaded"})}):i.jsx(Yh,{placeholder:o.length===0?"All LoRAs added":"Add LoRA",value:[],data:o,maxDropdownHeight:400,nothingFound:"No matching LoRAs",itemComponent:yy,disabled:o.length===0,filter:(a,u,d)=>{var f;return((f=d.label)==null?void 0:f.toLowerCase().includes(a.toLowerCase().trim()))||d.value.toLowerCase().includes(a.toLowerCase().trim())},onChange:s})},uQ=Pe(wn,e=>{const t=B8(e.lora.loras);return{activeLabel:t>0?`${t} Active`:void 0}},Rt),dQ=()=>{const{activeLabel:e}=B(uQ);return hr("lora").isFeatureEnabled?i.jsx(wo,{label:"LoRA",activeLabel:e,children:i.jsxs(q,{sx:{flexDir:"column",gap:2},children:[i.jsx(cQ,{}),i.jsx(rQ,{})]})}):null},by=p.memo(dQ),fQ=Pe(wn,e=>({activeLabel:e.generation.clipSkip>0?"Clip Skip":void 0}),Rt);function xy(){const{activeLabel:e}=B(fQ);return B(n=>n.ui.shouldShowAdvancedOptions)&&i.jsx(wo,{label:"Advanced",activeLabel:e,children:i.jsx(q,{sx:{flexDir:"column",gap:2},children:i.jsx(H8,{})})})}const pQ=e=>{const r=e.split(",").map(o=>o.split(":")).map(o=>({seed:Number(o[0]),weight:Number(o[1])}));return Sy(r)?r:!1},Sy=e=>typeof e=="string"?!!pQ(e):!!(e.length&&!e.some(t=>{const{seed:n,weight:r}=t,o=!isNaN(parseInt(n.toString(),10)),s=!isNaN(parseInt(r.toString(),10))&&r>=0&&r<=1;return!(o&&s)})),hQ=Pe([wn,Dr],(e,t)=>{const{generation:n,system:r,batch:o}=e,{shouldGenerateVariations:s,seedWeights:a,initialImage:u,seed:d}=n,{isProcessing:f,isConnected:h}=r,{isEnabled:m,asInitialImage:v,imageNames:b}=o;let w=!0;const S=[];t==="img2img"&&!u&&!(v&&b.length>1)&&(w=!1,S.push("No initial image selected"));const{isSuccess:C}=SE.endpoints.getMainModels.select()(e);return C||(w=!1,S.push("Models are not loaded")),f&&(w=!1,S.push("System Busy")),h||(w=!1,S.push("System Disconnected")),s&&(!(Sy(a)||a==="")||d===-1)&&(w=!1,S.push("Seed-Weights badly formatted.")),{isReady:w,reasonsWhyNotReady:S}},Rt),Br=()=>{const{isReady:e}=B(hQ);return e},mQ=Pe(li,e=>qs(W8,n=>({label:n.label,value:n.type})).filter(n=>!e.sd.disabledControlNetModels.includes(n.value))),gQ=e=>{const{controlNetId:t,model:n}=e,r=B(mQ),o=se(),s=Br(),a=p.useCallback(u=>{o(V8({controlNetId:t,model:u}))},[t,o]);return i.jsx(mr,{data:r,value:n,onChange:a,disabled:!s,tooltip:n})},vQ=p.memo(gQ),yQ=e=>{const{controlNetId:t,weight:n,mini:r=!1}=e,o=se(),s=p.useCallback(a=>{o(U8({controlNetId:t,weight:a}))},[t,o]);return i.jsx(vt,{label:"Weight",sliderFormLabelProps:{pb:2},value:n,onChange:s,min:-1,max:1,step:.01,withSliderMarks:!r,sliderMarks:[-1,0,1]})},bQ=p.memo(yQ),xQ=Pe(R3,e=>{const{pendingControlImages:t}=e;return{pendingControlImages:t}},Rt),SQ=e=>{const{height:t}=e,{controlNetId:n,controlImage:r,processedControlImage:o,processorType:s}=e.controlNet,a=se(),{pendingControlImages:u}=B(xQ),[d,f]=p.useState(!1),{currentData:h,isLoading:m,isError:v,isSuccess:b}=Ws(r??ga.skipToken),{currentData:w,isLoading:S,isError:C,isSuccess:P}=Ws(o??ga.skipToken),k=p.useCallback(()=>{a(G8({controlNetId:n,controlImage:null}))},[n,a]),_=p.useCallback(()=>{f(!0)},[]),E=p.useCallback(()=>{f(!1)},[]),I=p.useMemo(()=>{if(h)return{id:n,payloadType:"IMAGE_DTO",payload:{imageDTO:h}}},[h,n]),O=p.useMemo(()=>({id:n,actionType:"SET_CONTROLNET_IMAGE",context:{controlNetId:n}}),[n]),R=p.useMemo(()=>({type:"SET_CONTROLNET_IMAGE",controlNetId:n}),[n]),M=h&&w&&!d&&!u.includes(n)&&s!=="none";return i.jsxs(q,{onMouseEnter:_,onMouseLeave:E,sx:{position:"relative",w:"full",h:t,alignItems:"center",justifyContent:"center"},children:[i.jsx(Vi,{draggableData:I,droppableData:O,imageDTO:h,isDropDisabled:M,onClickReset:k,postUploadAction:R,resetTooltip:"Reset Control Image",withResetIcon:!!h}),i.jsx(Ue,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",opacity:M?1:0,transitionProperty:"common",transitionDuration:"normal",pointerEvents:"none"},children:i.jsx(Vi,{draggableData:I,droppableData:O,imageDTO:w,isUploadDisabled:!0,onClickReset:k,resetTooltip:"Reset Control Image",withResetIcon:!!h})}),u.includes(n)&&i.jsx(Ue,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",objectFit:"contain"},children:i.jsx(rk,{image:h})})]})},n4=p.memo(SQ),Es=()=>{const e=se();return p.useCallback((n,r)=>{e(q8({controlNetId:n,changes:r}))},[e])};function Is(e){return i.jsx(q,{sx:{flexDirection:"column",gap:2},children:e.children})}const r4=os.canny_image_processor.default,wQ=e=>{const{controlNetId:t,processorNode:n}=e,{low_threshold:r,high_threshold:o}=n,s=Br(),a=Es(),u=p.useCallback(m=>{a(t,{low_threshold:m})},[t,a]),d=p.useCallback(()=>{a(t,{low_threshold:r4.low_threshold})},[t,a]),f=p.useCallback(m=>{a(t,{high_threshold:m})},[t,a]),h=p.useCallback(()=>{a(t,{high_threshold:r4.high_threshold})},[t,a]);return i.jsxs(Is,{children:[i.jsx(vt,{isDisabled:!s,label:"Low Threshold",value:r,onChange:u,handleReset:d,withReset:!0,min:0,max:255,withInput:!0,withSliderMarks:!0}),i.jsx(vt,{isDisabled:!s,label:"High Threshold",value:o,onChange:f,handleReset:h,withReset:!0,min:0,max:255,withInput:!0,withSliderMarks:!0})]})},CQ=p.memo(wQ),o4=os.hed_image_processor.default,PQ=e=>{const{controlNetId:t,processorNode:{detect_resolution:n,image_resolution:r,scribble:o}}=e,s=Br(),a=Es(),u=p.useCallback(v=>{a(t,{detect_resolution:v})},[t,a]),d=p.useCallback(v=>{a(t,{image_resolution:v})},[t,a]),f=p.useCallback(v=>{a(t,{scribble:v.target.checked})},[t,a]),h=p.useCallback(()=>{a(t,{detect_resolution:o4.detect_resolution})},[t,a]),m=p.useCallback(()=>{a(t,{image_resolution:o4.image_resolution})},[t,a]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:n,onChange:u,handleReset:h,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!s}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:d,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!s}),i.jsx(In,{label:"Scribble",isChecked:o,onChange:f,isDisabled:!s})]})},kQ=p.memo(PQ),s4=os.lineart_image_processor.default,_Q=e=>{const{controlNetId:t,processorNode:n}=e,{image_resolution:r,detect_resolution:o,coarse:s}=n,a=Es(),u=Br(),d=p.useCallback(b=>{a(t,{detect_resolution:b})},[t,a]),f=p.useCallback(b=>{a(t,{image_resolution:b})},[t,a]),h=p.useCallback(()=>{a(t,{detect_resolution:s4.detect_resolution})},[t,a]),m=p.useCallback(()=>{a(t,{image_resolution:s4.image_resolution})},[t,a]),v=p.useCallback(b=>{a(t,{coarse:b.target.checked})},[t,a]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:o,onChange:d,handleReset:h,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!u}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:f,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!u}),i.jsx(In,{label:"Coarse",isChecked:s,onChange:v,isDisabled:!u})]})},jQ=p.memo(_Q),a4=os.lineart_anime_image_processor.default,EQ=e=>{const{controlNetId:t,processorNode:n}=e,{image_resolution:r,detect_resolution:o}=n,s=Es(),a=Br(),u=p.useCallback(m=>{s(t,{detect_resolution:m})},[t,s]),d=p.useCallback(m=>{s(t,{image_resolution:m})},[t,s]),f=p.useCallback(()=>{s(t,{detect_resolution:a4.detect_resolution})},[t,s]),h=p.useCallback(()=>{s(t,{image_resolution:a4.image_resolution})},[t,s]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:o,onChange:u,handleReset:f,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!a}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:d,handleReset:h,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!a})]})},IQ=p.memo(EQ),Vc=os.content_shuffle_image_processor.default,OQ=e=>{const{controlNetId:t,processorNode:n}=e,{image_resolution:r,detect_resolution:o,w:s,h:a,f:u}=n,d=Es(),f=Br(),h=p.useCallback(E=>{d(t,{detect_resolution:E})},[t,d]),m=p.useCallback(()=>{d(t,{detect_resolution:Vc.detect_resolution})},[t,d]),v=p.useCallback(E=>{d(t,{image_resolution:E})},[t,d]),b=p.useCallback(()=>{d(t,{image_resolution:Vc.image_resolution})},[t,d]),w=p.useCallback(E=>{d(t,{w:E})},[t,d]),S=p.useCallback(()=>{d(t,{w:Vc.w})},[t,d]),C=p.useCallback(E=>{d(t,{h:E})},[t,d]),P=p.useCallback(()=>{d(t,{h:Vc.h})},[t,d]),k=p.useCallback(E=>{d(t,{f:E})},[t,d]),_=p.useCallback(()=>{d(t,{f:Vc.f})},[t,d]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:o,onChange:h,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!f}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:v,handleReset:b,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!f}),i.jsx(vt,{label:"W",value:s,onChange:w,handleReset:S,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!f}),i.jsx(vt,{label:"H",value:a,onChange:C,handleReset:P,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!f}),i.jsx(vt,{label:"F",value:u,onChange:k,handleReset:_,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!f})]})},RQ=p.memo(OQ),i4=os.mediapipe_face_processor.default,MQ=e=>{const{controlNetId:t,processorNode:n}=e,{max_faces:r,min_confidence:o}=n,s=Es(),a=Br(),u=p.useCallback(m=>{s(t,{max_faces:m})},[t,s]),d=p.useCallback(m=>{s(t,{min_confidence:m})},[t,s]),f=p.useCallback(()=>{s(t,{max_faces:i4.max_faces})},[t,s]),h=p.useCallback(()=>{s(t,{min_confidence:i4.min_confidence})},[t,s]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Max Faces",value:r,onChange:u,handleReset:f,withReset:!0,min:1,max:20,withInput:!0,withSliderMarks:!0,isDisabled:!a}),i.jsx(vt,{label:"Min Confidence",value:o,onChange:d,handleReset:h,withReset:!0,min:0,max:1,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!a})]})},TQ=p.memo(MQ),l4=os.midas_depth_image_processor.default,DQ=e=>{const{controlNetId:t,processorNode:n}=e,{a_mult:r,bg_th:o}=n,s=Es(),a=Br(),u=p.useCallback(m=>{s(t,{a_mult:m})},[t,s]),d=p.useCallback(m=>{s(t,{bg_th:m})},[t,s]),f=p.useCallback(()=>{s(t,{a_mult:l4.a_mult})},[t,s]),h=p.useCallback(()=>{s(t,{bg_th:l4.bg_th})},[t,s]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"a_mult",value:r,onChange:u,handleReset:f,withReset:!0,min:0,max:20,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!a}),i.jsx(vt,{label:"bg_th",value:o,onChange:d,handleReset:h,withReset:!0,min:0,max:20,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!a})]})},AQ=p.memo(DQ),bf=os.mlsd_image_processor.default,NQ=e=>{const{controlNetId:t,processorNode:n}=e,{image_resolution:r,detect_resolution:o,thr_d:s,thr_v:a}=n,u=Es(),d=Br(),f=p.useCallback(P=>{u(t,{detect_resolution:P})},[t,u]),h=p.useCallback(P=>{u(t,{image_resolution:P})},[t,u]),m=p.useCallback(P=>{u(t,{thr_d:P})},[t,u]),v=p.useCallback(P=>{u(t,{thr_v:P})},[t,u]),b=p.useCallback(()=>{u(t,{detect_resolution:bf.detect_resolution})},[t,u]),w=p.useCallback(()=>{u(t,{image_resolution:bf.image_resolution})},[t,u]),S=p.useCallback(()=>{u(t,{thr_d:bf.thr_d})},[t,u]),C=p.useCallback(()=>{u(t,{thr_v:bf.thr_v})},[t,u]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:o,onChange:f,handleReset:b,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!d}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:h,handleReset:w,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!d}),i.jsx(vt,{label:"W",value:s,onChange:m,handleReset:S,withReset:!0,min:0,max:1,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!d}),i.jsx(vt,{label:"H",value:a,onChange:v,handleReset:C,withReset:!0,min:0,max:1,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!d})]})},zQ=p.memo(NQ),c4=os.normalbae_image_processor.default,$Q=e=>{const{controlNetId:t,processorNode:n}=e,{image_resolution:r,detect_resolution:o}=n,s=Es(),a=Br(),u=p.useCallback(m=>{s(t,{detect_resolution:m})},[t,s]),d=p.useCallback(m=>{s(t,{image_resolution:m})},[t,s]),f=p.useCallback(()=>{s(t,{detect_resolution:c4.detect_resolution})},[t,s]),h=p.useCallback(()=>{s(t,{image_resolution:c4.image_resolution})},[t,s]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:o,onChange:u,handleReset:f,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!a}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:d,handleReset:h,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!a})]})},LQ=p.memo($Q),u4=os.openpose_image_processor.default,FQ=e=>{const{controlNetId:t,processorNode:n}=e,{image_resolution:r,detect_resolution:o,hand_and_face:s}=n,a=Es(),u=Br(),d=p.useCallback(b=>{a(t,{detect_resolution:b})},[t,a]),f=p.useCallback(b=>{a(t,{image_resolution:b})},[t,a]),h=p.useCallback(()=>{a(t,{detect_resolution:u4.detect_resolution})},[t,a]),m=p.useCallback(()=>{a(t,{image_resolution:u4.image_resolution})},[t,a]),v=p.useCallback(b=>{a(t,{hand_and_face:b.target.checked})},[t,a]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:o,onChange:d,handleReset:h,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!u}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:f,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!u}),i.jsx(In,{label:"Hand and Face",isChecked:s,onChange:v,isDisabled:!u})]})},BQ=p.memo(FQ),d4=os.pidi_image_processor.default,HQ=e=>{const{controlNetId:t,processorNode:n}=e,{image_resolution:r,detect_resolution:o,scribble:s,safe:a}=n,u=Es(),d=Br(),f=p.useCallback(S=>{u(t,{detect_resolution:S})},[t,u]),h=p.useCallback(S=>{u(t,{image_resolution:S})},[t,u]),m=p.useCallback(()=>{u(t,{detect_resolution:d4.detect_resolution})},[t,u]),v=p.useCallback(()=>{u(t,{image_resolution:d4.image_resolution})},[t,u]),b=p.useCallback(S=>{u(t,{scribble:S.target.checked})},[t,u]),w=p.useCallback(S=>{u(t,{safe:S.target.checked})},[t,u]);return i.jsxs(Is,{children:[i.jsx(vt,{label:"Detect Resolution",value:o,onChange:f,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!d}),i.jsx(vt,{label:"Image Resolution",value:r,onChange:h,handleReset:v,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!d}),i.jsx(In,{label:"Scribble",isChecked:s,onChange:b}),i.jsx(In,{label:"Safe",isChecked:a,onChange:w,isDisabled:!d})]})},WQ=p.memo(HQ),VQ=e=>null,UQ=p.memo(VQ),GQ=e=>{const{controlNetId:t,processorNode:n}=e;return n.type==="canny_image_processor"?i.jsx(CQ,{controlNetId:t,processorNode:n}):n.type==="hed_image_processor"?i.jsx(kQ,{controlNetId:t,processorNode:n}):n.type==="lineart_image_processor"?i.jsx(jQ,{controlNetId:t,processorNode:n}):n.type==="content_shuffle_image_processor"?i.jsx(RQ,{controlNetId:t,processorNode:n}):n.type==="lineart_anime_image_processor"?i.jsx(IQ,{controlNetId:t,processorNode:n}):n.type==="mediapipe_face_processor"?i.jsx(TQ,{controlNetId:t,processorNode:n}):n.type==="midas_depth_image_processor"?i.jsx(AQ,{controlNetId:t,processorNode:n}):n.type==="mlsd_image_processor"?i.jsx(zQ,{controlNetId:t,processorNode:n}):n.type==="normalbae_image_processor"?i.jsx(LQ,{controlNetId:t,processorNode:n}):n.type==="openpose_image_processor"?i.jsx(BQ,{controlNetId:t,processorNode:n}):n.type==="pidi_image_processor"?i.jsx(WQ,{controlNetId:t,processorNode:n}):n.type==="zoe_depth_image_processor"?i.jsx(UQ,{controlNetId:t,processorNode:n}):null},qQ=p.memo(GQ),YQ=e=>{const{controlNetId:t,shouldAutoConfig:n}=e,r=se(),o=Br(),s=p.useCallback(()=>{r(Y8({controlNetId:t}))},[t,r]);return i.jsx(In,{label:"Auto configure processor","aria-label":"Auto configure processor",isChecked:n,onChange:s,isDisabled:!o})},KQ=p.memo(YQ),tv={mt:1.5,fontSize:"2xs",fontWeight:"500",color:"base.400"},f4=e=>`${Math.round(e*100)}%`,XQ=e=>{const{controlNetId:t,beginStepPct:n,mini:r=!1,endStepPct:o}=e,s=se();ye();const a=p.useCallback(u=>{s($x({controlNetId:t,beginStepPct:u[0]})),s(Lx({controlNetId:t,endStepPct:u[1]}))},[t,s]);return p.useCallback(()=>{s($x({controlNetId:t,beginStepPct:0})),s(Lx({controlNetId:t,endStepPct:1}))},[t,s]),i.jsxs(ar,{children:[i.jsx(pr,{children:"Begin / End Step Percentage"}),i.jsx(qa,{w:"100%",gap:2,alignItems:"center",children:i.jsxs(V6,{"aria-label":["Begin Step %","End Step %"],value:[n,o],onChange:a,min:0,max:1,step:.01,minStepsBetweenThumbs:5,children:[i.jsx(U6,{children:i.jsx(G6,{})}),i.jsx(Gn,{label:f4(n),placement:"top",hasArrow:!0,children:i.jsx(Dv,{index:0})}),i.jsx(Gn,{label:f4(o),placement:"top",hasArrow:!0,children:i.jsx(Dv,{index:1})}),!r&&i.jsxs(i.Fragment,{children:[i.jsx(jf,{value:0,sx:{insetInlineStart:"0 !important",insetInlineEnd:"unset !important",...tv},children:"0%"}),i.jsx(jf,{value:.5,sx:{...tv},children:"50%"}),i.jsx(jf,{value:1,sx:{insetInlineStart:"unset !important",insetInlineEnd:"0 !important",...tv},children:"100%"})]})]})})]})},QQ=p.memo(XQ),ZQ=[{label:"Balanced",value:"balanced"},{label:"Prompt",value:"more_prompt"},{label:"Control",value:"more_control"},{label:"Mega Control",value:"unbalanced"}];function JQ(e){const{controlNetId:t,controlMode:n=!1}=e,r=se(),{t:o}=ye(),s=p.useCallback(a=>{r(K8({controlNetId:t,controlMode:a}))},[t,r]);return i.jsx(mr,{label:o("parameters.controlNetControlMode"),data:ZQ,value:String(n),onChange:s})}const eZ=Pe(li,e=>qs(os,n=>({value:n.type,label:n.label})).sort((n,r)=>n.value==="none"?-1:r.value==="none"?1:n.label.localeCompare(r.label)).filter(n=>!e.sd.disabledControlNetProcessors.includes(n.value)),Rt),tZ=e=>{const{controlNetId:t,processorNode:n}=e,r=se(),o=Br(),s=B(eZ),a=p.useCallback(u=>{r(X8({controlNetId:t,processorType:u}))},[t,r]);return i.jsx(mr,{label:"Processor",value:n.type??"canny_image_processor",data:s,onChange:a,disabled:!o})},nZ=p.memo(tZ),rZ=e=>{const{controlNetId:t,isEnabled:n,model:r,weight:o,beginStepPct:s,endStepPct:a,controlMode:u,controlImage:d,processedControlImage:f,processorNode:h,processorType:m,shouldAutoConfig:v}=e.controlNet,b=se(),[w,S]=QK(!1),{colorMode:C}=bo(),P=p.useCallback(()=>{b(Q8({controlNetId:t}))},[t,b]),k=p.useCallback(()=>{b(M3({controlNetId:Ii(),controlNet:e.controlNet}))},[b,e.controlNet]),_=p.useCallback(()=>{b(Z8({controlNetId:t}))},[t,b]);return i.jsxs(q,{sx:{flexDir:"column",gap:2,p:3,bg:Re("base.200","base.850")(C),borderRadius:"base",position:"relative"},children:[i.jsxs(q,{sx:{gap:2},children:[i.jsx(In,{tooltip:"Toggle","aria-label":"Toggle",isChecked:n,onChange:_}),i.jsx(Ue,{sx:{w:"full",minW:0,opacity:n?1:.5,pointerEvents:n?"auto":"none",transitionProperty:"common",transitionDuration:"0.1s"},children:i.jsx(vQ,{controlNetId:t,model:r})}),i.jsx(Me,{size:"sm",tooltip:"Duplicate","aria-label":"Duplicate",onClick:k,icon:i.jsx(pc,{})}),i.jsx(Me,{size:"sm",tooltip:"Delete","aria-label":"Delete",colorScheme:"error",onClick:P,icon:i.jsx(vo,{})}),i.jsx(Me,{size:"sm","aria-label":"Show All Options",onClick:S,variant:"link",icon:i.jsx(V1,{sx:{boxSize:4,color:Re("base.700","base.300")(C),transform:w?"rotate(0deg)":"rotate(180deg)",transitionProperty:"common",transitionDuration:"normal"}})}),!v&&i.jsx(Ue,{sx:{position:"absolute",w:1.5,h:1.5,borderRadius:"full",bg:Re("error.700","error.200")(C),top:4,insetInlineEnd:4}})]}),n&&i.jsxs(i.Fragment,{children:[i.jsxs(q,{sx:{w:"full",flexDirection:"column"},children:[i.jsxs(q,{sx:{gap:4,w:"full"},children:[i.jsxs(q,{sx:{flexDir:"column",gap:3,w:"full",paddingInlineStart:1,paddingInlineEnd:w?1:0,pb:2,justifyContent:"space-between"},children:[i.jsx(bQ,{controlNetId:t,weight:o,mini:!w}),i.jsx(QQ,{controlNetId:t,beginStepPct:s,endStepPct:a,mini:!w})]}),!w&&i.jsx(q,{sx:{alignItems:"center",justifyContent:"center",h:24,w:24,aspectRatio:"1/1"},children:i.jsx(n4,{controlNet:e.controlNet,height:24})})]}),i.jsx(JQ,{controlNetId:t,controlMode:u})]}),w&&i.jsxs(i.Fragment,{children:[i.jsx(Ue,{mt:2,children:i.jsx(n4,{controlNet:e.controlNet,height:96})}),i.jsx(nZ,{controlNetId:t,processorNode:h}),i.jsx(qQ,{controlNetId:t,processorNode:h}),i.jsx(KQ,{controlNetId:t,shouldAutoConfig:v})]})]})]})},oZ=p.memo(rZ),sZ=Pe(wn,e=>{const{isEnabled:t}=e.controlNet;return{isEnabled:t}},Rt),aZ=()=>{const{isEnabled:e}=B(sZ),t=se(),n=p.useCallback(()=>{t(J8())},[t]);return i.jsx(In,{label:"Enable ControlNet",isChecked:e,onChange:n})},iZ=Pe(R3,e=>{const{controlNets:t,isEnabled:n}=e,r=eR(t),o=n&&r.length>0?`${r.length} Active`:void 0;return{controlNetsArray:qs(t),activeLabel:o}},Rt),lZ=()=>{ye();const{controlNetsArray:e,activeLabel:t}=B(iZ),n=hr("controlNet").isFeatureDisabled,r=se(),o=p.useCallback(()=>{r(M3({controlNetId:Ii()}))},[r]);return n?null:i.jsx(wo,{label:"ControlNet",activeLabel:t,children:i.jsxs(q,{sx:{flexDir:"column",gap:3},children:[i.jsx(aZ,{}),e.map((s,a)=>i.jsxs(p.Fragment,{children:[a>0&&i.jsx(Sa,{}),i.jsx(oZ,{controlNet:s})]},s.controlNetId)),i.jsx(Kt,{flexGrow:1,onClick:o,children:"Add ControlNet"})]})})},wy=p.memo(lZ),Cy=e=>{e.stopPropagation()},cZ=nt((e,t)=>i.jsx(K6,{ref:t,onPaste:Cy,...e})),PE=p.memo(cZ),uZ=e=>{const{onClick:t}=e;return i.jsx(Me,{size:"sm","aria-label":"Add Embedding",tooltip:"Add Embedding",icon:i.jsx(N1,{}),sx:{p:2,color:"base.500",_hover:{color:"base.600"},_active:{color:"base.700"},_dark:{color:"base.500",_hover:{color:"base.400"},_active:{color:"base.300"}}},variant:"link",onClick:t})},kE=p.memo(uZ),_E=e=>{const{onSelect:t,isOpen:n,onClose:r,children:o}=e,{data:s}=sQ(),a=p.useRef(null),u=B(h=>h.generation.model),d=p.useMemo(()=>{if(!s)return[];const h=[];return oi(s.entities,(m,v)=>{if(!m)return;const b=(u==null?void 0:u.base_model)!==m.base_model;h.push({value:m.name,label:m.name,group:Kr[m.base_model],disabled:b,tooltip:b?`Incompatible base model: ${m.base_model}`:void 0})}),h.sort((m,v)=>m.disabled&&!v.disabled?1:-1)},[s,u==null?void 0:u.base_model]),f=p.useCallback(h=>{h.length!==0&&t(h[0])},[t]);return i.jsxs(c1,{initialFocusRef:a,isOpen:n,onClose:r,placement:"bottom",openDelay:0,closeDelay:0,closeOnBlur:!0,returnFocusOnClose:!0,children:[i.jsx(l1,{children:o}),i.jsx(u1,{sx:{p:0,top:-1,shadow:"dark-lg",borderColor:"accent.300",borderWidth:"2px",borderStyle:"solid",_dark:{borderColor:"accent.400"}},children:i.jsx($6,{sx:{p:0,w:`calc(${dy} - 2rem )`},children:d.length===0?i.jsx(q,{sx:{justifyContent:"center",p:2},children:i.jsx(Ye,{sx:{fontSize:"sm",color:"base.500",_dark:"base.700"},children:"No Embeddings Loaded"})}):i.jsx(Yh,{inputRef:a,placeholder:"Add Embedding",value:[],data:d,maxDropdownHeight:400,nothingFound:"No Matching Embeddings",itemComponent:yy,disabled:d.length===0,filter:(h,m,v)=>{var b;return((b=v.label)==null?void 0:b.toLowerCase().includes(h.toLowerCase().trim()))||v.value.toLowerCase().includes(h.toLowerCase().trim())},onChange:f})})})]})},Py=()=>{const e=B(m=>m.generation.negativePrompt),t=p.useRef(null),{isOpen:n,onClose:r,onOpen:o}=Qa(),s=se(),{t:a}=ye(),u=p.useCallback(m=>{s(tu(m.target.value))},[s]),d=p.useCallback(m=>{m.key==="<"&&o()},[o]),f=p.useCallback(m=>{if(!t.current)return;const v=t.current.selectionStart;if(v===void 0)return;let b=e.slice(0,v);b[b.length-1]!=="<"&&(b+="<"),b+=`${m}>`;const w=b.length;b+=e.slice(v),lc.flushSync(()=>{s(tu(b))}),t.current.selectionEnd=w,r()},[s,r,e]),h=hr("embedding").isFeatureEnabled;return i.jsxs(ar,{children:[i.jsx(_E,{isOpen:n,onClose:r,onSelect:f,children:i.jsx(PE,{id:"negativePrompt",name:"negativePrompt",ref:t,value:e,placeholder:a("parameters.negativePromptPlaceholder"),onChange:u,resize:"vertical",fontSize:"sm",minH:16,...h&&{onKeyDown:d}})}),!n&&h&&i.jsx(Ue,{sx:{position:"absolute",top:0,insetInlineEnd:0},children:i.jsx(kE,{onClick:o})})]})},dZ=Pe([wn,Dr],({generation:e,ui:t},n)=>({shouldPinParametersPanel:t.shouldPinParametersPanel,prompt:e.positivePrompt,activeTabName:n}),{memoizeOptions:{resultEqualityCheck:Wt}}),ky=()=>{const e=se(),{prompt:t,shouldPinParametersPanel:n,activeTabName:r}=B(dZ),o=Br(),s=p.useRef(null),{isOpen:a,onClose:u,onOpen:d}=Qa(),{t:f}=ye(),h=p.useCallback(w=>{e(eu(w.target.value))},[e]);Ge("alt+a",()=>{var w;(w=s.current)==null||w.focus()},[]);const m=p.useCallback(w=>{if(!s.current)return;const S=s.current.selectionStart;if(S===void 0)return;let C=t.slice(0,S);C[C.length-1]!=="<"&&(C+="<"),C+=`${w}>`;const P=C.length;C+=t.slice(S),lc.flushSync(()=>{e(eu(C))}),s.current.selectionStart=P,s.current.selectionEnd=P,u()},[e,u,t]),v=hr("embedding").isFeatureEnabled,b=p.useCallback(w=>{w.key==="Enter"&&w.shiftKey===!1&&o&&(w.preventDefault(),e(N0()),e(z0(r))),v&&w.key==="<"&&d()},[o,e,r,d,v]);return i.jsxs(Ue,{position:"relative",children:[i.jsx(ar,{children:i.jsx(_E,{isOpen:a,onClose:u,onSelect:m,children:i.jsx(PE,{id:"prompt",name:"prompt",ref:s,value:t,placeholder:f("parameters.positivePromptPlaceholder"),onChange:h,onKeyDown:b,resize:"vertical",minH:32})})}),!a&&v&&i.jsx(Ue,{sx:{position:"absolute",top:n?6:0,insetInlineEnd:0},children:i.jsx(kE,{onClick:d})})]})},fZ=Pe(wn,e=>{const{shouldUseNoiseSettings:t,threshold:n}=e.generation;return{isDisabled:!t,threshold:n}},Rt);function pZ(){const e=se(),{threshold:t,isDisabled:n}=B(fZ),{t:r}=ye();return i.jsx(vt,{isDisabled:n,label:r("parameters.noiseThreshold"),min:0,max:20,step:.1,onChange:o=>e(Fx(o)),handleReset:()=>e(Fx(0)),value:t,withInput:!0,withReset:!0,withSliderMarks:!0})}const hZ=()=>{const e=se(),t=B(r=>r.generation.shouldUseNoiseSettings);ye();const n=r=>e(tR(r.target.checked));return i.jsx(In,{label:"Enable Noise Settings",isChecked:t,onChange:n})},mZ=Pe(wn,e=>{const{shouldUseNoiseSettings:t,perlin:n}=e.generation;return{isDisabled:!t,perlin:n}},Rt);function gZ(){const e=se(),{perlin:t,isDisabled:n}=B(mZ),{t:r}=ye();return i.jsx(vt,{isDisabled:n,label:r("parameters.perlinNoise"),min:0,max:1,step:.05,onChange:o=>e(Bx(o)),handleReset:()=>e(Bx(0)),value:t,withInput:!0,withReset:!0,withSliderMarks:!0})}const vZ=Pe(wn,e=>{const{shouldUseNoiseSettings:t}=e.generation;return{activeLabel:t?"Enabled":void 0}},Rt),yZ=()=>{const{t:e}=ye(),t=hr("noise").isFeatureEnabled,{activeLabel:n}=B(vZ);return t?i.jsx(wo,{label:e("parameters.noiseSettings"),activeLabel:n,children:i.jsxs(q,{sx:{gap:2,flexDirection:"column"},children:[i.jsx(hZ,{}),i.jsx(gZ,{}),i.jsx(pZ,{})]})}):null},jE=p.memo(yZ),bZ=Pe(Do,e=>{const{seamlessXAxis:t}=e;return{seamlessXAxis:t}},Rt),xZ=()=>{const{t:e}=ye(),{seamlessXAxis:t}=B(bZ),n=se(),r=p.useCallback(o=>{n(nR(o.target.checked))},[n]);return i.jsx(In,{label:e("parameters.seamlessXAxis"),"aria-label":e("parameters.seamlessXAxis"),isChecked:t,onChange:r})},SZ=p.memo(xZ),wZ=Pe(Do,e=>{const{seamlessYAxis:t}=e;return{seamlessYAxis:t}},Rt),CZ=()=>{const{t:e}=ye(),{seamlessYAxis:t}=B(wZ),n=se(),r=p.useCallback(o=>{n(rR(o.target.checked))},[n]);return i.jsx(In,{label:e("parameters.seamlessYAxis"),"aria-label":e("parameters.seamlessYAxis"),isChecked:t,onChange:r})},PZ=p.memo(CZ),kZ=(e,t)=>{if(e&&t)return"X & Y";if(e)return"X";if(t)return"Y"},_Z=Pe(Do,e=>{const{seamlessXAxis:t,seamlessYAxis:n}=e;return{activeLabel:kZ(t,n)}},Rt),jZ=()=>{const{t:e}=ye(),{activeLabel:t}=B(_Z);return hr("seamless").isFeatureEnabled?i.jsx(wo,{label:e("parameters.seamlessTiling"),activeLabel:t,children:i.jsxs(q,{sx:{gap:5},children:[i.jsx(Ue,{flexGrow:1,children:i.jsx(SZ,{})}),i.jsx(Ue,{flexGrow:1,children:i.jsx(PZ,{})})]})}):null},EE=p.memo(jZ);function EZ(){const e=B(o=>o.generation.horizontalSymmetrySteps),t=B(o=>o.generation.steps),n=se(),{t:r}=ye();return i.jsx(vt,{label:r("parameters.hSymmetryStep"),value:e,onChange:o=>n(Hx(o)),min:0,max:t,step:1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>n(Hx(0))})}function IZ(){const e=B(o=>o.generation.verticalSymmetrySteps),t=B(o=>o.generation.steps),n=se(),{t:r}=ye();return i.jsx(vt,{label:r("parameters.vSymmetryStep"),value:e,onChange:o=>n(Wx(o)),min:0,max:t,step:1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>n(Wx(0))})}function OZ(){const e=B(n=>n.generation.shouldUseSymmetry),t=se();return i.jsx(In,{label:"Enable Symmetry",isChecked:e,onChange:n=>t(oR(n.target.checked))})}const RZ=Pe(wn,e=>({activeLabel:e.generation.shouldUseSymmetry?"Enabled":void 0}),Rt),MZ=()=>{const{t:e}=ye(),{activeLabel:t}=B(RZ);return hr("symmetry").isFeatureEnabled?i.jsx(wo,{label:e("parameters.symmetry"),activeLabel:t,children:i.jsxs(q,{sx:{gap:2,flexDirection:"column"},children:[i.jsx(OZ,{}),i.jsx(EZ,{}),i.jsx(IZ,{})]})}):null},_y=p.memo(MZ);function TZ(){const e=B(o=>o.generation.variationAmount),t=B(o=>o.generation.shouldGenerateVariations),{t:n}=ye(),r=se();return i.jsx(vt,{label:n("parameters.variationAmount"),value:e,step:.01,min:0,max:1,isDisabled:!t,onChange:o=>r(Vx(o)),handleReset:()=>r(Vx(.1)),withInput:!0,withReset:!0,withSliderMarks:!0})}const DZ=()=>{const e=se(),t=B(r=>r.generation.shouldGenerateVariations);ye();const n=r=>e(sR(r.target.checked));return i.jsx(In,{label:"Enable Variations",isChecked:t,onChange:n})},AZ=e=>{const{label:t="",isDisabled:n=!1,isInvalid:r,formControlProps:o,...s}=e;return i.jsxs(ar,{isInvalid:r,isDisabled:n,...o,children:[t!==""&&i.jsx(pr,{children:t}),i.jsx(Nu,{...s,onPaste:Cy})]})},zn=p.memo(AZ);function NZ(){const e=B(s=>s.generation.seedWeights),t=B(s=>s.generation.shouldGenerateVariations),{t:n}=ye(),r=se(),o=s=>r(aR(s.target.value));return i.jsx(zn,{label:n("parameters.seedWeights"),value:e,isInvalid:t&&!(Sy(e)||e===""),isDisabled:!t,onChange:o})}const zZ=Pe(wn,e=>({activeLabel:e.generation.shouldGenerateVariations?"Enabled":void 0}),Rt),$Z=()=>{const{t:e}=ye(),{activeLabel:t}=B(zZ);return hr("variation").isFeatureEnabled?i.jsx(wo,{label:e("parameters.variations"),activeLabel:t,children:i.jsxs(q,{sx:{gap:2,flexDirection:"column"},children:[i.jsx(DZ,{}),i.jsx(TZ,{}),i.jsx(NZ,{})]})}):null},jy=p.memo($Z),LZ=Pe(ao,e=>({isProcessing:e.isProcessing,isConnected:e.isConnected,isCancelable:e.isCancelable,currentIteration:e.currentIteration,totalIterations:e.totalIterations,sessionId:e.sessionId,cancelType:e.cancelType,isCancelScheduled:e.isCancelScheduled}),{memoizeOptions:{resultEqualityCheck:Wt}}),FZ=e=>{const t=se(),{btnGroupWidth:n="auto",...r}=e,{isProcessing:o,isConnected:s,isCancelable:a,cancelType:u,isCancelScheduled:d,sessionId:f}=B(LZ),h=p.useCallback(()=>{if(f){if(u==="scheduled"){t(iR());return}t(lR({session_id:f}))}},[t,f,u]),{t:m}=ye(),v=p.useCallback(S=>{const C=Array.isArray(S)?S[0]:S;t(cR(C))},[t]);Ge("shift+x",()=>{(s||o)&&a&&h()},[s,o,a]);const b=p.useMemo(()=>m(d?"parameters.cancel.isScheduled":u==="immediate"?"parameters.cancel.immediate":"parameters.cancel.schedule"),[m,u,d]),w=p.useMemo(()=>d?i.jsx(uR,{}):u==="immediate"?i.jsx(VK,{}):i.jsx(LK,{}),[u,d]);return i.jsxs(br,{isAttached:!0,width:n,children:[i.jsx(Me,{icon:w,tooltip:b,"aria-label":b,isDisabled:!s||!o||!a,onClick:h,colorScheme:"error",id:"cancel-button",...r}),i.jsxs(hh,{closeOnSelect:!1,children:[i.jsx(mh,{as:Me,tooltip:m("parameters.cancel.setType"),"aria-label":m("parameters.cancel.setType"),icon:i.jsx(bL,{w:"1em",h:"1em"}),paddingX:0,paddingY:0,colorScheme:"error",minWidth:5,...r}),i.jsx(Lu,{minWidth:"240px",children:i.jsxs(s1,{value:u,title:"Cancel Type",type:"radio",onChange:v,children:[i.jsx(pu,{value:"immediate",children:m("parameters.cancel.immediate")}),i.jsx(pu,{value:"scheduled",children:m("parameters.cancel.schedule")})]})})]})]})},Ey=p.memo(FZ),BZ=Pe(ao,e=>({isProcessing:e.isProcessing,currentStep:e.currentStep,totalSteps:e.totalSteps,currentStatusHasSteps:e.currentStatusHasSteps}),{memoizeOptions:{resultEqualityCheck:Wt}}),HZ=()=>{const{t:e}=ye(),{isProcessing:t,currentStep:n,totalSteps:r,currentStatusHasSteps:o}=B(BZ),s=n?Math.round(n*100/r):0;return i.jsx(F6,{value:s,"aria-label":e("accessibility.invokeProgressBar"),isIndeterminate:t&&!o,height:"full",colorScheme:"accent"})},IE=p.memo(HZ),p4={_disabled:{bg:"none",cursor:"not-allowed",_hover:{bg:"none"}}};function Iy(e){const{iconButton:t=!1,...n}=e,r=se(),o=Br(),s=B(Dr),a=B(f=>f.system.isProcessing),u=p.useCallback(()=>{r(N0()),r(z0(s))},[r,s]),{t:d}=ye();return Ge(["ctrl+enter","meta+enter"],u,{enabled:()=>o,preventDefault:!0,enableOnFormTags:["input","textarea","select"]},[o,s]),i.jsx(Ue,{style:{flexGrow:4},position:"relative",children:i.jsxs(Ue,{style:{position:"relative"},children:[!o&&i.jsx(Ue,{borderRadius:"base",style:{position:"absolute",bottom:"0",left:"0",right:"0",height:"100%",overflow:"clip"},...n,children:i.jsx(IE,{})}),t?i.jsx(Me,{"aria-label":d("parameters.invoke"),type:"submit",icon:i.jsx(nk,{}),isDisabled:!o,onClick:u,tooltip:d("parameters.invoke"),tooltipProps:{placement:"top"},colorScheme:"accent",id:"invoke-button",...n,sx:{w:"full",flexGrow:1,...a?p4:{}}}):i.jsx(Kt,{"aria-label":d("parameters.invoke"),type:"submit",isDisabled:!o,onClick:u,colorScheme:"accent",id:"invoke-button",...n,sx:{w:"full",flexGrow:1,fontWeight:700,...a?p4:{}},children:"Invoke"})]})})}const Oy=()=>i.jsxs(q,{gap:2,children:[i.jsx(Iy,{}),i.jsx(Ey,{})]}),h4=/^-?(0\.)?\.?$/,WZ=e=>{const{label:t,isDisabled:n=!1,showStepper:r=!0,isInvalid:o,value:s,onChange:a,min:u,max:d,isInteger:f=!0,formControlProps:h,formLabelProps:m,numberInputFieldProps:v,numberInputStepperProps:b,tooltipProps:w,...S}=e,[C,P]=p.useState(String(s));p.useEffect(()=>{!C.match(h4)&&s!==Number(C)&&P(String(s))},[s,C]);const k=E=>{P(E),E.match(h4)||a(f?Math.floor(Number(E)):Number(E))},_=E=>{const I=Vs(f?Math.floor(Number(E.target.value)):Number(E.target.value),u,d);P(String(I)),a(I)};return i.jsx(Gn,{...w,children:i.jsxs(ar,{isDisabled:n,isInvalid:o,...h,children:[t&&i.jsx(pr,{...m,children:t}),i.jsxs(T3,{value:C,min:u,max:d,keepWithinRange:!0,clampValueOnBlur:!1,onChange:k,onBlur:_,...S,onPaste:Cy,children:[i.jsx(D3,{...v}),r&&i.jsxs(A3,{children:[i.jsx(N3,{...b}),i.jsx(z3,{...b})]})]})]})})},Jl=p.memo(WZ),VZ=Pe([Do,li,rs,Tu],(e,t,n,r)=>{const{initial:o,min:s,sliderMax:a,inputMax:u}=t.sd.guidance,{cfgScale:d}=e,{shouldUseSliders:f}=n,{shift:h}=r;return{cfgScale:d,initial:o,min:s,sliderMax:a,inputMax:u,shouldUseSliders:f,shift:h}},Rt),UZ=()=>{const{cfgScale:e,initial:t,min:n,sliderMax:r,inputMax:o,shouldUseSliders:s,shift:a}=B(VZ),u=se(),{t:d}=ye(),f=p.useCallback(m=>u(Af(m)),[u]),h=p.useCallback(()=>u(Af(t)),[u,t]);return s?i.jsx(vt,{label:d("parameters.cfgScale"),step:a?.1:.5,min:n,max:r,onChange:f,handleReset:h,value:e,sliderNumberInputProps:{max:o},withInput:!0,withReset:!0,withSliderMarks:!0,isInteger:!1}):i.jsx(Jl,{label:d("parameters.cfgScale"),step:.5,min:n,max:o,onChange:f,value:e,isInteger:!1,numberInputFieldProps:{textAlign:"center"}})},ec=p.memo(UZ),GZ=Pe([Do,Tu,li],(e,t,n)=>{const{initial:r,min:o,sliderMax:s,inputMax:a,fineStep:u,coarseStep:d}=n.sd.height,{height:f}=e,h=t.shift?u:d;return{height:f,initial:r,min:o,sliderMax:s,inputMax:a,step:h}},Rt),qZ=e=>{const{height:t,initial:n,min:r,sliderMax:o,inputMax:s,step:a}=B(GZ),u=se(),{t:d}=ye(),f=p.useCallback(m=>{u($f(m))},[u]),h=p.useCallback(()=>{u($f(n))},[u,n]);return i.jsx(vt,{label:d("parameters.height"),value:t,min:r,step:a,max:o,onChange:f,handleReset:h,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:s},...e})},Qp=p.memo(qZ),YZ=Pe([wn],e=>{const{initial:t,min:n,sliderMax:r,inputMax:o,fineStep:s,coarseStep:a}=e.config.sd.iterations,{iterations:u}=e.generation,{shouldUseSliders:d}=e.ui,f=e.dynamicPrompts.isEnabled&&e.dynamicPrompts.combinatorial,h=e.hotkeys.shift?s:a;return{iterations:u,initial:t,min:n,sliderMax:r,inputMax:o,step:h,shouldUseSliders:d,isDisabled:f}},Rt),KZ=()=>{const{iterations:e,initial:t,min:n,sliderMax:r,inputMax:o,step:s,shouldUseSliders:a,isDisabled:u}=B(YZ),d=se(),{t:f}=ye(),h=p.useCallback(v=>{d(Ux(v))},[d]),m=p.useCallback(()=>{d(Ux(t))},[d,t]);return a?i.jsx(vt,{isDisabled:u,label:f("parameters.images"),step:s,min:n,max:r,onChange:h,handleReset:m,value:e,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:o}}):i.jsx(Jl,{isDisabled:u,label:f("parameters.images"),step:s,min:n,max:o,onChange:h,value:e,numberInputFieldProps:{textAlign:"center"}})},tc=p.memo(KZ),XZ=()=>{const e=se(),{t}=ye(),{data:n}=CE(),r=B(d=>d.generation.model),o=B(d=>d.generation.vae),s=p.useMemo(()=>{if(!n)return[];const d=[{value:"default",label:"Default",group:"Default"}];return oi(n.entities,(f,h)=>{if(!f)return;const m=(r==null?void 0:r.base_model)!==f.base_model;d.push({value:h,label:f.name,group:Kr[f.base_model],disabled:m,tooltip:m?`Incompatible base model: ${f.base_model}`:void 0})}),d.sort((f,h)=>f.disabled&&!h.disabled?1:-1)},[n,r==null?void 0:r.base_model]),a=p.useMemo(()=>o!=null&&o.id?n==null?void 0:n.entities[o==null?void 0:o.id]:null,[n==null?void 0:n.entities,o]),u=p.useCallback(d=>{if(!d||d==="default"){e(ig(null));return}const[f,h,m]=d.split("/"),v=dR.parse({id:d,name:m,base_model:f});e(ig(v))},[e]);return p.useEffect(()=>{o&&(n!=null&&n.ids.includes(o.id))||e(ig(null))},[u,n==null?void 0:n.ids,o,e]),i.jsx(mr,{itemComponent:yy,tooltip:a==null?void 0:a.description,label:t("modelManager.vae"),value:(o==null?void 0:o.id)??"default",placeholder:"Default",data:s,onChange:u,disabled:s.length===0,clearable:!0})},QZ=p.memo(XZ),ZZ=Pe([rs,Do],(e,t)=>{const{scheduler:n}=t,{favoriteSchedulers:r}=e,o=I3.map(s=>({value:s,label:O3[s],group:r.includes(s)?"Favorites":void 0})).sort((s,a)=>s.label.localeCompare(a.label));return{scheduler:n,data:o}},Rt),JZ=()=>{const e=se(),{t}=ye(),{scheduler:n,data:r}=B(ZZ),o=p.useCallback(s=>{s&&e(hv(s))},[e]);return i.jsx(mr,{label:t("parameters.scheduler"),value:n,data:r,onChange:o})},eJ=p.memo(JZ),tJ=()=>{const e=hr("vae").isFeatureEnabled;return i.jsxs(q,{gap:3,w:"full",flexWrap:e?"wrap":"nowrap",children:[i.jsxs(q,{gap:3,w:"full",children:[i.jsx(Ue,{w:"full",children:i.jsx(iQ,{})}),e&&i.jsx(Ue,{w:"full",children:i.jsx(QZ,{})})]}),i.jsx(Ue,{w:"full",children:i.jsx(eJ,{})})]})},nc=p.memo(tJ),nJ=Pe([Do,li,rs,Tu],(e,t,n,r)=>{const{initial:o,min:s,sliderMax:a,inputMax:u,fineStep:d,coarseStep:f}=t.sd.steps,{steps:h}=e,{shouldUseSliders:m}=n,v=r.shift?d:f;return{steps:h,initial:o,min:s,sliderMax:a,inputMax:u,step:v,shouldUseSliders:m}},Rt),rJ=()=>{const{steps:e,initial:t,min:n,sliderMax:r,inputMax:o,step:s,shouldUseSliders:a}=B(nJ),u=se(),{t:d}=ye(),f=p.useCallback(v=>{u(Nf(v))},[u]),h=p.useCallback(()=>{u(Nf(t))},[u,t]),m=p.useCallback(()=>{u(N0())},[u]);return a?i.jsx(vt,{label:d("parameters.steps"),min:n,max:r,step:s,onChange:f,handleReset:h,value:e,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:o}}):i.jsx(Jl,{label:d("parameters.steps"),min:n,max:o,step:s,onChange:f,value:e,numberInputFieldProps:{textAlign:"center"},onBlur:m})},rc=p.memo(rJ),oJ=Pe([Do,Tu,li],(e,t,n)=>{const{initial:r,min:o,sliderMax:s,inputMax:a,fineStep:u,coarseStep:d}=n.sd.width,{width:f}=e,h=t.shift?u:d;return{width:f,initial:r,min:o,sliderMax:s,inputMax:a,step:h}},Rt),sJ=e=>{const{width:t,initial:n,min:r,sliderMax:o,inputMax:s,step:a}=B(oJ),u=se(),{t:d}=ye(),f=p.useCallback(m=>{u(zf(m))},[u]),h=p.useCallback(()=>{u(zf(n))},[u,n]);return i.jsx(vt,{label:d("parameters.width"),value:t,min:r,step:a,max:o,onChange:f,handleReset:h,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:s},...e})},Zp=p.memo(sJ);function aJ(){const e=se(),t=B(o=>o.generation.shouldFitToWidthHeight),n=o=>e(fR(o.target.checked)),{t:r}=ye();return i.jsx(In,{label:r("parameters.imageFit"),isChecked:t,onChange:n})}const iJ=Pe([Do,Tu,li],(e,t,n)=>{const{initial:r,min:o,sliderMax:s,inputMax:a,fineStep:u,coarseStep:d}=n.sd.img2imgStrength,{img2imgStrength:f}=e,h=t.shift?u:d;return{img2imgStrength:f,initial:r,min:o,sliderMax:s,inputMax:a,step:h}},Rt),lJ=()=>{const{img2imgStrength:e,initial:t,min:n,sliderMax:r,inputMax:o,step:s}=B(iJ),a=se(),{t:u}=ye(),d=p.useCallback(h=>a(Lf(h)),[a]),f=p.useCallback(()=>{a(Lf(t))},[a,t]);return i.jsx(vt,{label:`${u("parameters.denoisingStrength")}`,step:s,min:n,max:r,onChange:d,handleReset:f,value:e,isInteger:!1,withInput:!0,withSliderMarks:!0,withReset:!0,sliderNumberInputProps:{max:o}})},OE=p.memo(lJ);function cJ(){const e=B(a=>a.generation.seed),t=B(a=>a.generation.shouldRandomizeSeed),n=B(a=>a.generation.shouldGenerateVariations),{t:r}=ye(),o=se(),s=a=>o(Df(a));return i.jsx(Jl,{label:r("parameters.seed"),step:1,precision:0,flexGrow:1,min:$3,max:L3,isDisabled:t,isInvalid:e<0&&n,onChange:s,value:e,formControlProps:{display:"flex",alignItems:"center",gap:3}})}const uJ=(e,t)=>Math.floor(Math.random()*(t-e+1)+e);function dJ(){const e=se(),t=B(o=>o.generation.shouldRandomizeSeed),{t:n}=ye(),r=()=>e(Df(uJ($3,L3)));return i.jsx(Me,{size:"sm",isDisabled:t,"aria-label":n("parameters.shuffle"),tooltip:n("parameters.shuffle"),onClick:r,icon:i.jsx(iL,{})})}const fJ=()=>{const e=se(),{t}=ye(),n=B(o=>o.generation.shouldRandomizeSeed),r=o=>e(pR(o.target.checked));return i.jsx(In,{label:t("common.random"),isChecked:n,onChange:r})},pJ=p.memo(fJ),hJ=()=>i.jsxs(q,{sx:{gap:4,alignItems:"center"},children:[i.jsx(cJ,{}),i.jsx(dJ,{}),i.jsx(pJ,{})]}),oc=p.memo(hJ),mJ=Pe([rs,Do],(e,t)=>{const{shouldUseSliders:n}=e,{shouldFitToWidthHeight:r,shouldRandomizeSeed:o}=t;return{shouldUseSliders:n,shouldFitToWidthHeight:r,activeLabel:o?void 0:"Manual Seed"}},Rt),gJ=()=>{const{shouldUseSliders:e,shouldFitToWidthHeight:t,activeLabel:n}=B(mJ);return i.jsx(wo,{label:"General",activeLabel:n,defaultIsOpen:!0,children:i.jsxs(q,{sx:{flexDirection:"column",gap:3},children:[e?i.jsxs(i.Fragment,{children:[i.jsx(nc,{}),i.jsx(Ue,{pt:2,children:i.jsx(oc,{})}),i.jsx(tc,{}),i.jsx(rc,{}),i.jsx(ec,{}),i.jsx(Zp,{isDisabled:!t}),i.jsx(Qp,{isDisabled:!t})]}):i.jsxs(i.Fragment,{children:[i.jsxs(q,{gap:3,children:[i.jsx(tc,{}),i.jsx(rc,{}),i.jsx(ec,{})]}),i.jsx(nc,{}),i.jsx(Ue,{pt:2,children:i.jsx(oc,{})}),i.jsx(Zp,{isDisabled:!t}),i.jsx(Qp,{isDisabled:!t})]}),i.jsx(OE,{}),i.jsx(aJ,{})]})})},vJ=p.memo(gJ),yJ=()=>i.jsxs(i.Fragment,{children:[i.jsx(ky,{}),i.jsx(Py,{}),i.jsx(Oy,{}),i.jsx(vJ,{}),i.jsx(by,{}),i.jsx(vy,{}),i.jsx(wy,{}),i.jsx(jy,{}),i.jsx(jE,{}),i.jsx(_y,{}),i.jsx(EE,{}),i.jsx(xy,{})]}),RE=p.memo(yJ),bJ=()=>{const e=se(),t=p.useRef(null),n=p.useCallback(()=>{t.current&&t.current.setLayout([50,50])},[]);return i.jsxs(q,{sx:{gap:4,w:"full",h:"full"},children:[i.jsx(gy,{children:i.jsx(RE,{})}),i.jsx(Ue,{sx:{w:"full",h:"full"},children:i.jsxs(my,{ref:t,autoSaveId:"imageTab.content",direction:"horizontal",style:{height:"100%",width:"100%"},children:[i.jsx(Cu,{id:"imageTab.content.initImage",order:0,defaultSize:50,minSize:25,style:{position:"relative"},children:i.jsx($X,{})}),i.jsx(yE,{onDoubleClick:n}),i.jsx(Cu,{id:"imageTab.content.selectedImage",order:1,defaultSize:50,minSize:25,onResize:()=>{e(_s())},children:i.jsx(bE,{})})]})})]})},xJ=p.memo(bJ);var SJ=function(t){return wJ(t)&&!CJ(t)};function wJ(e){return!!e&&typeof e=="object"}function CJ(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||_J(e)}var PJ=typeof Symbol=="function"&&Symbol.for,kJ=PJ?Symbol.for("react.element"):60103;function _J(e){return e.$$typeof===kJ}function jJ(e){return Array.isArray(e)?[]:{}}function Jp(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Pu(jJ(e),e,t):e}function EJ(e,t,n){return e.concat(t).map(function(r){return Jp(r,n)})}function IJ(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(o){r[o]=Jp(e[o],n)}),Object.keys(t).forEach(function(o){!n.isMergeableObject(t[o])||!e[o]?r[o]=Jp(t[o],n):r[o]=Pu(e[o],t[o],n)}),r}function Pu(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||EJ,n.isMergeableObject=n.isMergeableObject||SJ;var r=Array.isArray(t),o=Array.isArray(e),s=r===o;return s?r?n.arrayMerge(e,t,n):IJ(e,t,n):Jp(t,n)}Pu.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return Pu(r,o,n)},{})};var m0=Pu,m4=Array.isArray,g4=Object.keys,OJ=Object.prototype.hasOwnProperty,RJ=typeof Element<"u";function g0(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=m4(e),r=m4(t),o,s,a;if(n&&r){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!g0(e[o],t[o]))return!1;return!0}if(n!=r)return!1;var u=e instanceof Date,d=t instanceof Date;if(u!=d)return!1;if(u&&d)return e.getTime()==t.getTime();var f=e instanceof RegExp,h=t instanceof RegExp;if(f!=h)return!1;if(f&&h)return e.toString()==t.toString();var m=g4(e);if(s=m.length,s!==g4(t).length)return!1;for(o=s;o--!==0;)if(!OJ.call(t,m[o]))return!1;if(RJ&&e instanceof Element&&t instanceof Element)return e===t;for(o=s;o--!==0;)if(a=m[o],!(a==="_owner"&&e.$$typeof)&&!g0(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var MJ=function(t,n){try{return g0(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Ci=ac(MJ);var TJ=!0;function DJ(e,t){if(!TJ){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function Wn(){return Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn.apply(this,arguments)}function Ol(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var Qh=p.createContext(void 0);Qh.displayName="FormikContext";var AJ=Qh.Provider;Qh.Consumer;function ME(){var e=p.useContext(Qh);return e||DJ(!1),e}var Io=function(t){return typeof t=="function"},Zh=function(t){return t!==null&&typeof t=="object"},NJ=function(t){return String(Math.floor(Number(t)))===t},nv=function(t){return Object.prototype.toString.call(t)==="[object String]"},zJ=function(t){return p.Children.count(t)===0},rv=function(t){return Zh(t)&&Io(t.then)};function Eo(e,t,n,r){r===void 0&&(r=0);for(var o=p5(t);e&&r<o.length;)e=e[o[r++]];return r!==o.length&&!e||e===void 0?n:e}function Ni(e,t,n){for(var r=c2(e),o=r,s=0,a=p5(t);s<a.length-1;s++){var u=a[s],d=Eo(e,a.slice(0,s+1));if(d&&(Zh(d)||Array.isArray(d)))o=o[u]=c2(d);else{var f=a[s+1];o=o[u]=NJ(f)&&Number(f)>=0?[]:{}}}return(s===0?e:o)[a[s]]===n?e:(n===void 0?delete o[a[s]]:o[a[s]]=n,s===0&&n===void 0&&delete r[a[s]],r)}function TE(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var o=0,s=Object.keys(e);o<s.length;o++){var a=s[o],u=e[a];Zh(u)?n.get(u)||(n.set(u,!0),r[a]=Array.isArray(u)?[]:{},TE(u,t,n,r[a])):r[a]=t}return r}function $J(e,t){switch(t.type){case"SET_VALUES":return Wn({},e,{values:t.payload});case"SET_TOUCHED":return Wn({},e,{touched:t.payload});case"SET_ERRORS":return Ci(e.errors,t.payload)?e:Wn({},e,{errors:t.payload});case"SET_STATUS":return Wn({},e,{status:t.payload});case"SET_ISSUBMITTING":return Wn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Wn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Wn({},e,{values:Ni(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Wn({},e,{touched:Ni(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Wn({},e,{errors:Ni(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Wn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Wn({},e,{touched:TE(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Wn({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Wn({},e,{isSubmitting:!1});default:return e}}var yi={},xf={};function LJ(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,o=r===void 0?!0:r,s=e.validateOnMount,a=s===void 0?!1:s,u=e.isInitialValid,d=e.enableReinitialize,f=d===void 0?!1:d,h=e.onSubmit,m=Ol(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=Wn({validateOnChange:n,validateOnBlur:o,validateOnMount:a,onSubmit:h},m),b=p.useRef(v.initialValues),w=p.useRef(v.initialErrors||yi),S=p.useRef(v.initialTouched||xf),C=p.useRef(v.initialStatus),P=p.useRef(!1),k=p.useRef({});p.useEffect(function(){return P.current=!0,function(){P.current=!1}},[]);var _=p.useState(0),E=_[1],I=p.useRef({values:v.initialValues,errors:v.initialErrors||yi,touched:v.initialTouched||xf,status:v.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),O=I.current,R=p.useCallback(function(Q){var we=I.current;I.current=$J(we,Q),we!==I.current&&E(function(te){return te+1})},[]),M=p.useCallback(function(Q,we){return new Promise(function(te,pe){var Ne=v.validate(Q,we);Ne==null?te(yi):rv(Ne)?Ne.then(function(Xe){te(Xe||yi)},function(Xe){pe(Xe)}):te(Ne)})},[v.validate]),D=p.useCallback(function(Q,we){var te=v.validationSchema,pe=Io(te)?te(we):te,Ne=we&&pe.validateAt?pe.validateAt(we,Q):BJ(Q,pe);return new Promise(function(Xe,yt){Ne.then(function(){Xe(yi)},function(Xt){Xt.name==="ValidationError"?Xe(FJ(Xt)):yt(Xt)})})},[v.validationSchema]),$=p.useCallback(function(Q,we){return new Promise(function(te){return te(k.current[Q].validate(we))})},[]),A=p.useCallback(function(Q){var we=Object.keys(k.current).filter(function(pe){return Io(k.current[pe].validate)}),te=we.length>0?we.map(function(pe){return $(pe,Eo(Q,pe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(te).then(function(pe){return pe.reduce(function(Ne,Xe,yt){return Xe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Xe&&(Ne=Ni(Ne,we[yt],Xe)),Ne},{})})},[$]),G=p.useCallback(function(Q){return Promise.all([A(Q),v.validationSchema?D(Q):{},v.validate?M(Q):{}]).then(function(we){var te=we[0],pe=we[1],Ne=we[2],Xe=m0.all([te,pe,Ne],{arrayMerge:HJ});return Xe})},[v.validate,v.validationSchema,A,M,D]),L=Go(function(Q){return Q===void 0&&(Q=O.values),R({type:"SET_ISVALIDATING",payload:!0}),G(Q).then(function(we){return P.current&&(R({type:"SET_ISVALIDATING",payload:!1}),R({type:"SET_ERRORS",payload:we})),we})});p.useEffect(function(){a&&P.current===!0&&Ci(b.current,v.initialValues)&&L(b.current)},[a,L]);var F=p.useCallback(function(Q){var we=Q&&Q.values?Q.values:b.current,te=Q&&Q.errors?Q.errors:w.current?w.current:v.initialErrors||{},pe=Q&&Q.touched?Q.touched:S.current?S.current:v.initialTouched||{},Ne=Q&&Q.status?Q.status:C.current?C.current:v.initialStatus;b.current=we,w.current=te,S.current=pe,C.current=Ne;var Xe=function(){R({type:"RESET_FORM",payload:{isSubmitting:!!Q&&!!Q.isSubmitting,errors:te,touched:pe,status:Ne,values:we,isValidating:!!Q&&!!Q.isValidating,submitCount:Q&&Q.submitCount&&typeof Q.submitCount=="number"?Q.submitCount:0}})};if(v.onReset){var yt=v.onReset(O.values,Ae);rv(yt)?yt.then(Xe):Xe()}else Xe()},[v.initialErrors,v.initialStatus,v.initialTouched]);p.useEffect(function(){P.current===!0&&!Ci(b.current,v.initialValues)&&f&&(b.current=v.initialValues,F(),a&&L(b.current))},[f,v.initialValues,F,a,L]),p.useEffect(function(){f&&P.current===!0&&!Ci(w.current,v.initialErrors)&&(w.current=v.initialErrors||yi,R({type:"SET_ERRORS",payload:v.initialErrors||yi}))},[f,v.initialErrors]),p.useEffect(function(){f&&P.current===!0&&!Ci(S.current,v.initialTouched)&&(S.current=v.initialTouched||xf,R({type:"SET_TOUCHED",payload:v.initialTouched||xf}))},[f,v.initialTouched]),p.useEffect(function(){f&&P.current===!0&&!Ci(C.current,v.initialStatus)&&(C.current=v.initialStatus,R({type:"SET_STATUS",payload:v.initialStatus}))},[f,v.initialStatus,v.initialTouched]);var W=Go(function(Q){if(k.current[Q]&&Io(k.current[Q].validate)){var we=Eo(O.values,Q),te=k.current[Q].validate(we);return rv(te)?(R({type:"SET_ISVALIDATING",payload:!0}),te.then(function(pe){return pe}).then(function(pe){R({type:"SET_FIELD_ERROR",payload:{field:Q,value:pe}}),R({type:"SET_ISVALIDATING",payload:!1})})):(R({type:"SET_FIELD_ERROR",payload:{field:Q,value:te}}),Promise.resolve(te))}else if(v.validationSchema)return R({type:"SET_ISVALIDATING",payload:!0}),D(O.values,Q).then(function(pe){return pe}).then(function(pe){R({type:"SET_FIELD_ERROR",payload:{field:Q,value:Eo(pe,Q)}}),R({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),X=p.useCallback(function(Q,we){var te=we.validate;k.current[Q]={validate:te}},[]),N=p.useCallback(function(Q){delete k.current[Q]},[]),V=Go(function(Q,we){R({type:"SET_TOUCHED",payload:Q});var te=we===void 0?o:we;return te?L(O.values):Promise.resolve()}),H=p.useCallback(function(Q){R({type:"SET_ERRORS",payload:Q})},[]),U=Go(function(Q,we){var te=Io(Q)?Q(O.values):Q;R({type:"SET_VALUES",payload:te});var pe=we===void 0?n:we;return pe?L(te):Promise.resolve()}),ne=p.useCallback(function(Q,we){R({type:"SET_FIELD_ERROR",payload:{field:Q,value:we}})},[]),ge=Go(function(Q,we,te){R({type:"SET_FIELD_VALUE",payload:{field:Q,value:we}});var pe=te===void 0?n:te;return pe?L(Ni(O.values,Q,we)):Promise.resolve()}),le=p.useCallback(function(Q,we){var te=we,pe=Q,Ne;if(!nv(Q)){Q.persist&&Q.persist();var Xe=Q.target?Q.target:Q.currentTarget,yt=Xe.type,Xt=Xe.name,an=Xe.id,Pn=Xe.value,gr=Xe.checked,ln=Xe.outerHTML,qn=Xe.options,Oe=Xe.multiple;te=we||Xt||an,pe=/number|range/.test(yt)?(Ne=parseFloat(Pn),isNaN(Ne)?"":Ne):/checkbox/.test(yt)?VJ(Eo(O.values,te),gr,Pn):qn&&Oe?WJ(qn):Pn}te&&ge(te,pe)},[ge,O.values]),re=Go(function(Q){if(nv(Q))return function(we){return le(we,Q)};le(Q)}),K=Go(function(Q,we,te){we===void 0&&(we=!0),R({type:"SET_FIELD_TOUCHED",payload:{field:Q,value:we}});var pe=te===void 0?o:te;return pe?L(O.values):Promise.resolve()}),ae=p.useCallback(function(Q,we){Q.persist&&Q.persist();var te=Q.target,pe=te.name,Ne=te.id,Xe=te.outerHTML,yt=we||pe||Ne;K(yt,!0)},[K]),de=Go(function(Q){if(nv(Q))return function(we){return ae(we,Q)};ae(Q)}),xe=p.useCallback(function(Q){Io(Q)?R({type:"SET_FORMIK_STATE",payload:Q}):R({type:"SET_FORMIK_STATE",payload:function(){return Q}})},[]),oe=p.useCallback(function(Q){R({type:"SET_STATUS",payload:Q})},[]),me=p.useCallback(function(Q){R({type:"SET_ISSUBMITTING",payload:Q})},[]),fe=Go(function(){return R({type:"SUBMIT_ATTEMPT"}),L().then(function(Q){var we=Q instanceof Error,te=!we&&Object.keys(Q).length===0;if(te){var pe;try{if(pe=ve(),pe===void 0)return}catch(Ne){throw Ne}return Promise.resolve(pe).then(function(Ne){return P.current&&R({type:"SUBMIT_SUCCESS"}),Ne}).catch(function(Ne){if(P.current)throw R({type:"SUBMIT_FAILURE"}),Ne})}else if(P.current&&(R({type:"SUBMIT_FAILURE"}),we))throw Q})}),ke=Go(function(Q){Q&&Q.preventDefault&&Io(Q.preventDefault)&&Q.preventDefault(),Q&&Q.stopPropagation&&Io(Q.stopPropagation)&&Q.stopPropagation(),fe().catch(function(we){console.warn("Warning: An unhandled error was caught from submitForm()",we)})}),Ae={resetForm:F,validateForm:L,validateField:W,setErrors:H,setFieldError:ne,setFieldTouched:K,setFieldValue:ge,setStatus:oe,setSubmitting:me,setTouched:V,setValues:U,setFormikState:xe,submitForm:fe},ve=Go(function(){return h(O.values,Ae)}),Ie=Go(function(Q){Q&&Q.preventDefault&&Io(Q.preventDefault)&&Q.preventDefault(),Q&&Q.stopPropagation&&Io(Q.stopPropagation)&&Q.stopPropagation(),F()}),st=p.useCallback(function(Q){return{value:Eo(O.values,Q),error:Eo(O.errors,Q),touched:!!Eo(O.touched,Q),initialValue:Eo(b.current,Q),initialTouched:!!Eo(S.current,Q),initialError:Eo(w.current,Q)}},[O.errors,O.touched,O.values]),Fe=p.useCallback(function(Q){return{setValue:function(te,pe){return ge(Q,te,pe)},setTouched:function(te,pe){return K(Q,te,pe)},setError:function(te){return ne(Q,te)}}},[ge,K,ne]),Ke=p.useCallback(function(Q){var we=Zh(Q),te=we?Q.name:Q,pe=Eo(O.values,te),Ne={name:te,value:pe,onChange:re,onBlur:de};if(we){var Xe=Q.type,yt=Q.value,Xt=Q.as,an=Q.multiple;Xe==="checkbox"?yt===void 0?Ne.checked=!!pe:(Ne.checked=!!(Array.isArray(pe)&&~pe.indexOf(yt)),Ne.value=yt):Xe==="radio"?(Ne.checked=pe===yt,Ne.value=yt):Xt==="select"&&an&&(Ne.value=Ne.value||[],Ne.multiple=!0)}return Ne},[de,re,O.values]),_t=p.useMemo(function(){return!Ci(b.current,O.values)},[b.current,O.values]),xt=p.useMemo(function(){return typeof u<"u"?_t?O.errors&&Object.keys(O.errors).length===0:u!==!1&&Io(u)?u(v):u:O.errors&&Object.keys(O.errors).length===0},[u,_t,O.errors,v]),Fn=Wn({},O,{initialValues:b.current,initialErrors:w.current,initialTouched:S.current,initialStatus:C.current,handleBlur:de,handleChange:re,handleReset:Ie,handleSubmit:ke,resetForm:F,setErrors:H,setFormikState:xe,setFieldTouched:K,setFieldValue:ge,setFieldError:ne,setStatus:oe,setSubmitting:me,setTouched:V,setValues:U,submitForm:fe,validateForm:L,validateField:W,isValid:xt,dirty:_t,unregisterField:N,registerField:X,getFieldProps:Ke,getFieldMeta:st,getFieldHelpers:Fe,validateOnBlur:o,validateOnChange:n,validateOnMount:a});return Fn}function Ry(e){var t=LJ(e),n=e.component,r=e.children,o=e.render,s=e.innerRef;return p.useImperativeHandle(s,function(){return t}),p.createElement(AJ,{value:t},n?p.createElement(n,t):o?o(t):r?Io(r)?r(t):zJ(r)?null:p.Children.only(r):null)}function FJ(e){var t={};if(e.inner){if(e.inner.length===0)return Ni(t,e.path,e.message);for(var o=e.inner,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(r>=o.length)break;s=o[r++]}else{if(r=o.next(),r.done)break;s=r.value}var a=s;Eo(t,a.path)||(t=Ni(t,a.path,a.message))}}return t}function BJ(e,t,n,r){n===void 0&&(n=!1);var o=v0(e);return t[n?"validateSync":"validate"](o,{abortEarly:!1,context:r||o})}function v0(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(o){return Array.isArray(o)===!0||Gx(o)?v0(o):o!==""?o:void 0}):Gx(e[r])?t[r]=v0(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function HJ(e,t,n){var r=e.slice();return t.forEach(function(s,a){if(typeof r[a]>"u"){var u=n.clone!==!1,d=u&&n.isMergeableObject(s);r[a]=d?m0(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[a]=m0(e[a],s,n):e.indexOf(s)===-1&&r.push(s)}),r}function WJ(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function VJ(e,t,n){if(typeof e=="boolean")return!!t;var r=[],o=!1,s=-1;if(Array.isArray(e))r=e,s=e.indexOf(n),o=s>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!o?r.concat(n):o?r.slice(0,s).concat(r.slice(s+1)):r}var UJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect;function Go(e){var t=p.useRef(e);return UJ(function(){t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current.apply(void 0,r)},[])}function ho(e){var t=e.validate,n=e.name,r=e.render,o=e.children,s=e.as,a=e.component,u=Ol(e,["validate","name","render","children","as","component"]),d=ME(),f=Ol(d,["validate","validationSchema"]),h=f.registerField,m=f.unregisterField;p.useEffect(function(){return h(n,{validate:t}),function(){m(n)}},[h,m,n,t]);var v=f.getFieldProps(Wn({name:n},u)),b=f.getFieldMeta(n),w={field:v,form:f};if(r)return r(Wn({},w,{meta:b}));if(Io(o))return o(Wn({},w,{meta:b}));if(a){if(typeof a=="string"){var S=u.innerRef,C=Ol(u,["innerRef"]);return p.createElement(a,Wn({ref:S},v,C),o)}return p.createElement(a,Wn({field:v,form:f},u),o)}var P=s||"input";if(typeof P=="string"){var k=u.innerRef,_=Ol(u,["innerRef"]);return p.createElement(P,Wn({ref:k},v,_),o)}return p.createElement(P,Wn({},v,u),o)}var GJ=p.forwardRef(function(e,t){var n=e.action,r=Ol(e,["action"]),o=n??"#",s=ME(),a=s.handleReset,u=s.handleSubmit;return p.createElement("form",Wn({onSubmit:u,ref:t,onReset:a,action:o},r))});GJ.displayName="Form";const My=Be.form;function ps({children:e}){return i.jsx(q,{sx:{flexDirection:"column",padding:4,rowGap:4,borderRadius:"base",width:"full",bg:"base.900"},children:e})}const DE=Pe([ao],e=>{const{model_list:t}=e,n=[];return oi(t,r=>{n.push(r.weights)}),n});function v4({model:e,modelsToAdd:t,setModelsToAdd:n}){const{t:r}=ye(),o=B(DE),s=a=>{t.includes(a.target.value)?n(W7(t,u=>u!==a.target.value)):n([...t,a.target.value])};return i.jsxs(q,{flexDirection:"column",gap:2,backgroundColor:t.includes(e.name)?"accent.650":"base.800",paddingX:4,paddingY:2,borderRadius:4,children:[i.jsxs(q,{gap:4,alignItems:"center",justifyContent:"space-between",children:[i.jsx(En,{value:e.name,label:i.jsx(Ye,{fontWeight:500,children:e.name}),isChecked:t.includes(e.name),isDisabled:o.includes(e.location),onChange:s}),o.includes(e.location)&&i.jsx(Ul,{colorScheme:"accent",children:r("modelManager.modelExists")})]}),i.jsx(Ye,{fontStyle:"italic",variant:"subtext",children:e.location})]})}function qJ(){const e=se(),{t}=ye(),n=B(_=>_.system.searchFolder),r=B(_=>_.system.foundModels),o=B(DE),s=B(_=>_.ui.shouldShowExistingModelsInSearch),a=B(_=>_.system.isProcessing),[u,d]=z.useState([]),[f,h]=z.useState("v1"),[m,v]=z.useState(""),b=()=>{e(mR(null)),e(gR(null)),d([])},w=_=>{e(searchForModels(_.checkpointFolder))},S=()=>{d([]),r&&r.forEach(_=>{o.includes(_.location)||d(E=>[...E,_.name])})},C=()=>{d([])},P=()=>{const _=r==null?void 0:r.filter(I=>u.includes(I.name)),E={v1:"configs/stable-diffusion/v1-inference.yaml",v2_base:"configs/stable-diffusion/v2-inference-v.yaml",v2_768:"configs/stable-diffusion/v2-inference-v.yaml",inpainting:"configs/stable-diffusion/v1-inpainting-inference.yaml",custom:m};_==null||_.forEach(I=>{const O={name:I.name,description:"",config:E[f],weights:I.location,vae:"",width:512,height:512,default:!1,format:"ckpt"};e(addNewModel(O))}),d([])},k=()=>{const _=[],E=[];return r&&r.forEach((I,O)=>{o.includes(I.location)?E.push(i.jsx(v4,{model:I,modelsToAdd:u,setModelsToAdd:d},O)):_.push(i.jsx(v4,{model:I,modelsToAdd:u,setModelsToAdd:d},O))}),i.jsxs(q,{flexDirection:"column",rowGap:4,children:[_,s&&E]})};return i.jsxs(i.Fragment,{children:[n?i.jsxs(q,{sx:{padding:4,gap:2,position:"relative",borderRadius:"base",alignItems:"center",w:"full",bg:"base.900"},children:[i.jsxs(q,{sx:{flexDir:"column",gap:2},children:[i.jsx(Ye,{sx:{fontWeight:500},variant:"subtext",children:t("modelManager.checkpointFolder")}),i.jsx(Ye,{sx:{fontWeight:500},children:n})]}),i.jsx(Qi,{}),i.jsx(Me,{"aria-label":t("modelManager.scanAgain"),tooltip:t("modelManager.scanAgain"),icon:i.jsx(bS,{}),fontSize:18,disabled:a,onClick:()=>e(searchForModels(n))}),i.jsx(Me,{"aria-label":t("modelManager.clearCheckpointFolder"),tooltip:t("modelManager.clearCheckpointFolder"),icon:i.jsx(vo,{}),onClick:b})]}):i.jsx(Ry,{initialValues:{checkpointFolder:""},onSubmit:_=>{w(_)},children:({handleSubmit:_})=>i.jsx(My,{onSubmit:_,width:"100%",children:i.jsxs(qa,{columnGap:2,alignItems:"flex-end",children:[i.jsx(ar,{flexGrow:1,children:i.jsx(ho,{as:zn,id:"checkpointFolder",name:"checkpointFolder",type:"text",size:"md",label:t("modelManager.checkpointFolder")})}),i.jsx(Kt,{leftIcon:i.jsx(bS,{}),"aria-label":t("modelManager.findModels"),tooltip:t("modelManager.findModels"),type:"submit",disabled:a,px:8,children:t("modelManager.findModels")})]})})}),r&&i.jsxs(q,{flexDirection:"column",rowGap:4,width:"full",children:[i.jsxs(q,{justifyContent:"space-between",alignItems:"center",children:[i.jsxs("p",{children:[t("modelManager.modelsFound"),": ",r.length]}),i.jsxs("p",{children:[t("modelManager.selected"),": ",u.length]})]}),i.jsxs(q,{columnGap:2,justifyContent:"space-between",children:[i.jsxs(q,{columnGap:2,children:[i.jsx(Kt,{isDisabled:u.length===r.length,onClick:S,children:t("modelManager.selectAll")}),i.jsx(Kt,{isDisabled:u.length===0,onClick:C,children:t("modelManager.deselectAll")}),i.jsx(En,{label:t("modelManager.showExisting"),isChecked:s,onChange:()=>e(hR(!s))})]}),i.jsx(Kt,{isDisabled:u.length===0,onClick:P,colorScheme:"accent",children:t("modelManager.addSelected")})]}),i.jsxs(q,{sx:{flexDirection:"column",padding:4,rowGap:4,borderRadius:"base",width:"full",bg:"base.900"},children:[i.jsxs(q,{gap:4,children:[i.jsx(Ye,{fontWeight:500,variant:"subtext",children:t("modelManager.pickModelType")}),i.jsx(gu,{value:f,onChange:_=>h(_),defaultValue:"v1",name:"model_type",children:i.jsxs(q,{gap:4,children:[i.jsx(oo,{value:"v1",children:i.jsx(Ye,{fontSize:"sm",children:t("modelManager.v1")})}),i.jsx(oo,{value:"v2_base",children:i.jsx(Ye,{fontSize:"sm",children:t("modelManager.v2_base")})}),i.jsx(oo,{value:"v2_768",children:i.jsx(Ye,{fontSize:"sm",children:t("modelManager.v2_768")})}),i.jsx(oo,{value:"inpainting",children:i.jsx(Ye,{fontSize:"sm",children:t("modelManager.inpainting")})}),i.jsx(oo,{value:"custom",children:i.jsx(Ye,{fontSize:"sm",children:t("modelManager.customConfig")})})]})})]}),f==="custom"&&i.jsxs(q,{flexDirection:"column",rowGap:2,children:[i.jsx(Ye,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:t("modelManager.pathToCustomConfig")}),i.jsx(zn,{value:m,onChange:_=>{_.target.value!==""&&v(_.target.value)},width:"full"})]})]}),i.jsx(q,{flexDirection:"column",maxHeight:72,overflowY:"scroll",borderRadius:"sm",gap:2,children:r.length>0?k():i.jsx(Ye,{fontWeight:"500",padding:2,borderRadius:"sm",textAlign:"center",variant:"subtext",children:t("modelManager.noModelsFound")})})]})]})}const y4=64,b4=2048;function YJ(){const e=se(),{t}=ye(),n=B(f=>f.system.isProcessing);function r(f){return/\s/.test(f)}function o(f){let h;return r(f)&&(h=t("modelManager.cannotUseSpaces")),h}const s={name:"",description:"",config:"configs/stable-diffusion/v1-inference.yaml",weights:"",vae:"",width:512,height:512,format:"ckpt",default:!1},a=f=>{e(addNewModel(f)),e(Hf(null))},[u,d]=z.useState(!1);return i.jsxs(kr,{gap:2,alignItems:"flex-start",children:[i.jsxs(q,{columnGap:4,children:[i.jsx(En,{isChecked:!u,label:t("modelManager.scanForModels"),onChange:()=>d(!u)}),i.jsx(En,{label:t("modelManager.addManually"),isChecked:u,onChange:()=>d(!u)})]}),u?i.jsx(Ry,{initialValues:s,onSubmit:a,children:({handleSubmit:f,errors:h,touched:m})=>i.jsx(My,{onSubmit:f,sx:{w:"full"},children:i.jsxs(kr,{rowGap:2,children:[i.jsx(Ye,{fontSize:20,fontWeight:"bold",alignSelf:"start",children:t("modelManager.manual")}),i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!h.name&&m.name,isRequired:!0,children:[i.jsx(pr,{htmlFor:"name",fontSize:"sm",children:t("modelManager.name")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"name",name:"name",type:"text",validate:o,width:"full"}),h.name&&m.name?i.jsx(po,{children:h.name}):i.jsx(Oo,{margin:0,children:t("modelManager.nameValidationMsg")})]})]})}),i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!h.description&&m.description,isRequired:!0,children:[i.jsx(pr,{htmlFor:"description",fontSize:"sm",children:t("modelManager.description")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"description",name:"description",type:"text",width:"full"}),h.description&&m.description?i.jsx(po,{children:h.description}):i.jsx(Oo,{margin:0,children:t("modelManager.descriptionValidationMsg")})]})]})}),i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!h.config&&m.config,isRequired:!0,children:[i.jsx(pr,{htmlFor:"config",fontSize:"sm",children:t("modelManager.config")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"config",name:"config",type:"text",width:"full"}),h.config&&m.config?i.jsx(po,{children:h.config}):i.jsx(Oo,{margin:0,children:t("modelManager.configValidationMsg")})]})]})}),i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!h.weights&&m.weights,isRequired:!0,children:[i.jsx(pr,{htmlFor:"config",fontSize:"sm",children:t("modelManager.modelLocation")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"weights",name:"weights",type:"text",width:"full"}),h.weights&&m.weights?i.jsx(po,{children:h.weights}):i.jsx(Oo,{margin:0,children:t("modelManager.modelLocationValidationMsg")})]})]})}),i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!h.vae&&m.vae,children:[i.jsx(pr,{htmlFor:"vae",fontSize:"sm",children:t("modelManager.vaeLocation")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"vae",name:"vae",type:"text",width:"full"}),h.vae&&m.vae?i.jsx(po,{children:h.vae}):i.jsx(Oo,{margin:0,children:t("modelManager.vaeLocationValidationMsg")})]})]})}),i.jsxs(qa,{width:"100%",children:[i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!h.width&&m.width,children:[i.jsx(pr,{htmlFor:"width",fontSize:"sm",children:t("modelManager.width")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{id:"width",name:"width",children:({field:v,form:b})=>i.jsx(Jl,{id:"width",name:"width",min:y4,max:b4,step:64,value:b.values.width,onChange:w=>b.setFieldValue(v.name,Number(w))})}),h.width&&m.width?i.jsx(po,{children:h.width}):i.jsx(Oo,{margin:0,children:t("modelManager.widthValidationMsg")})]})]})}),i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!h.height&&m.height,children:[i.jsx(pr,{htmlFor:"height",fontSize:"sm",children:t("modelManager.height")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{id:"height",name:"height",children:({field:v,form:b})=>i.jsx(Jl,{id:"height",name:"height",min:y4,max:b4,step:64,value:b.values.height,onChange:w=>b.setFieldValue(v.name,Number(w))})}),h.height&&m.height?i.jsx(po,{children:h.height}):i.jsx(Oo,{margin:0,children:t("modelManager.heightValidationMsg")})]})]})})]}),i.jsx(Kt,{type:"submit",className:"modal-close-btn",isLoading:n,children:t("modelManager.addModel")})]})})}):i.jsx(qJ,{})]})}function KJ(){const e=se(),{t}=ye(),n=B(u=>u.system.isProcessing);function r(u){return/\s/.test(u)}function o(u){let d;return r(u)&&(d=t("modelManager.cannotUseSpaces")),d}const s={name:"",description:"",repo_id:"",path:"",format:"diffusers",default:!1,vae:{repo_id:"",path:""}},a=u=>{const d=u;u.path===""&&delete d.path,u.repo_id===""&&delete d.repo_id,u.vae.path===""&&delete d.vae.path,u.vae.repo_id===""&&delete d.vae.repo_id,e(addNewModel(d)),e(Hf(null))};return i.jsx(q,{overflow:"scroll",maxHeight:window.innerHeight-270,children:i.jsx(Ry,{initialValues:s,onSubmit:a,children:({handleSubmit:u,errors:d,touched:f})=>{var h,m,v,b,w,S,C,P,k,_;return i.jsx(My,{onSubmit:u,children:i.jsxs(kr,{rowGap:2,children:[i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!d.name&&f.name,isRequired:!0,children:[i.jsx(pr,{htmlFor:"name",fontSize:"sm",children:t("modelManager.name")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"name",name:"name",type:"text",validate:o,width:"2xl",isRequired:!0}),d.name&&f.name?i.jsx(po,{children:d.name}):i.jsx(Oo,{margin:0,children:t("modelManager.nameValidationMsg")})]})]})}),i.jsx(ps,{children:i.jsxs(ar,{isInvalid:!!d.description&&f.description,isRequired:!0,children:[i.jsx(pr,{htmlFor:"description",fontSize:"sm",children:t("modelManager.description")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"description",name:"description",type:"text",width:"2xl",isRequired:!0}),d.description&&f.description?i.jsx(po,{children:d.description}):i.jsx(Oo,{margin:0,children:t("modelManager.descriptionValidationMsg")})]})]})}),i.jsxs(ps,{children:[i.jsx(Ye,{fontWeight:"bold",fontSize:"sm",children:t("modelManager.formMessageDiffusersModelLocation")}),i.jsx(Ye,{sx:{fontSize:"sm",fontStyle:"italic"},variant:"subtext",children:t("modelManager.formMessageDiffusersModelLocationDesc")}),i.jsxs(ar,{isInvalid:!!d.path&&f.path,children:[i.jsx(pr,{htmlFor:"path",fontSize:"sm",children:t("modelManager.modelLocation")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"path",name:"path",type:"text",width:"2xl"}),d.path&&f.path?i.jsx(po,{children:d.path}):i.jsx(Oo,{margin:0,children:t("modelManager.modelLocationValidationMsg")})]})]}),i.jsxs(ar,{isInvalid:!!d.repo_id&&f.repo_id,children:[i.jsx(pr,{htmlFor:"repo_id",fontSize:"sm",children:t("modelManager.repo_id")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"repo_id",name:"repo_id",type:"text",width:"2xl"}),d.repo_id&&f.repo_id?i.jsx(po,{children:d.repo_id}):i.jsx(Oo,{margin:0,children:t("modelManager.repoIDValidationMsg")})]})]})]}),i.jsxs(ps,{children:[i.jsx(Ye,{fontWeight:"bold",children:t("modelManager.formMessageDiffusersVAELocation")}),i.jsx(Ye,{sx:{fontSize:"sm",fontStyle:"italic"},variant:"subtext",children:t("modelManager.formMessageDiffusersVAELocationDesc")}),i.jsxs(ar,{isInvalid:!!((h=d.vae)!=null&&h.path)&&((m=f.vae)==null?void 0:m.path),children:[i.jsx(pr,{htmlFor:"vae.path",fontSize:"sm",children:t("modelManager.vaeLocation")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"vae.path",name:"vae.path",type:"text",width:"2xl"}),(v=d.vae)!=null&&v.path&&((b=f.vae)!=null&&b.path)?i.jsx(po,{children:(w=d.vae)==null?void 0:w.path}):i.jsx(Oo,{margin:0,children:t("modelManager.vaeLocationValidationMsg")})]})]}),i.jsxs(ar,{isInvalid:!!((S=d.vae)!=null&&S.repo_id)&&((C=f.vae)==null?void 0:C.repo_id),children:[i.jsx(pr,{htmlFor:"vae.repo_id",fontSize:"sm",children:t("modelManager.vaeRepoID")}),i.jsxs(kr,{alignItems:"start",children:[i.jsx(ho,{as:zn,id:"vae.repo_id",name:"vae.repo_id",type:"text",width:"2xl"}),(P=d.vae)!=null&&P.repo_id&&((k=f.vae)!=null&&k.repo_id)?i.jsx(po,{children:(_=d.vae)==null?void 0:_.repo_id}):i.jsx(Oo,{margin:0,children:t("modelManager.vaeRepoIDValidationMsg")})]})]})]}),i.jsx(Kt,{type:"submit",isLoading:n,children:t("modelManager.addModel")})]})})}})})}function XJ(){const e=B(r=>r.ui.addNewModelUIOption),t=se(),{t:n}=ye();return i.jsxs(q,{flexDirection:"column",gap:4,children:[i.jsxs(q,{columnGap:4,children:[i.jsx(Kt,{onClick:()=>t(Hf("ckpt")),sx:{backgroundColor:e=="ckpt"?"accent.700":"base.700","&:hover":{backgroundColor:e=="ckpt"?"accent.700":"base.600"}},children:n("modelManager.addCheckpointModel")}),i.jsx(Kt,{onClick:()=>t(Hf("diffusers")),sx:{backgroundColor:e=="diffusers"?"accent.700":"base.700","&:hover":{backgroundColor:e=="diffusers"?"accent.700":"base.600"}},children:n("modelManager.addDiffuserModel")})]}),i.jsx(Sa,{}),e=="ckpt"&&i.jsx(YJ,{}),e=="diffusers"&&i.jsx(KJ,{})]})}function x4(e){const{children:t,value:n}=e,[r,o]=Xi("colors",["base.800","base.200"]);return i.jsx("option",{value:n,style:{background:r,color:o},children:t})}const QJ=e=>{const{label:t,isDisabled:n,validValues:r,tooltip:o,tooltipProps:s,horizontal:a,spaceEvenly:u,...d}=e;return i.jsxs(ar,{isDisabled:n,onClick:f=>{f.stopPropagation(),f.nativeEvent.stopImmediatePropagation(),f.nativeEvent.stopPropagation(),f.nativeEvent.cancelBubble=!0},sx:a?{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:4}:{},children:[t&&i.jsx(pr,{sx:u?{flexBasis:0,flexGrow:1}:{},children:t}),i.jsx(Gn,{label:o,...s,children:i.jsx(d1,{...d,rootProps:{sx:u?{flexBasis:0,flexGrow:1}:{}},children:r.map(f=>typeof f=="string"||typeof f=="number"?i.jsx(x4,{value:f,children:f},f):i.jsx(x4,{value:f.value,children:f.key},f.value))})})]})},ov=p.memo(QJ);function ZJ(){const{t:e}=ye(),t=se(),{data:n}=Yu(),r=vR(n==null?void 0:n.entities,(A,G)=>(A==null?void 0:A.model_format)==="diffusers"),[o,s]=p.useState(Object.keys(r)[0]),[a,u]=p.useState(Object.keys(r)[1]),[d,f]=p.useState("none"),[h,m]=p.useState(""),[v,b]=p.useState(.5),[w,S]=p.useState("weighted_sum"),[C,P]=p.useState("root"),[k,_]=p.useState(""),[E,I]=p.useState(!1),O=Object.keys(r).filter(A=>A!==a&&A!==d),R=Object.keys(r).filter(A=>A!==o&&A!==d),M=[{key:e("modelManager.none"),value:"none"},...Object.keys(r).filter(A=>A!==o&&A!==a).map(A=>({key:A,value:A}))],D=B(A=>A.system.isProcessing),$=()=>{let A=[o,a,d];A=A.filter(L=>L!=="none");const G={models_to_merge:A,merged_model_name:h!==""?h:A.join("-"),alpha:v,interp:w,model_merge_save_path:C==="root"?null:k,force:E};t(mergeDiffusersModels(G))};return i.jsxs(q,{flexDirection:"column",rowGap:4,children:[i.jsxs(q,{sx:{flexDirection:"column",rowGap:1,bg:"base.900"},children:[i.jsx(Ye,{children:e("modelManager.modelMergeHeaderHelp1")}),i.jsx(Ye,{fontSize:"sm",variant:"subtext",children:e("modelManager.modelMergeHeaderHelp2")})]}),i.jsxs(q,{columnGap:4,children:[i.jsx(ov,{label:e("modelManager.modelOne"),validValues:O,onChange:A=>s(A.target.value)}),i.jsx(ov,{label:e("modelManager.modelTwo"),validValues:R,onChange:A=>u(A.target.value)}),i.jsx(ov,{label:e("modelManager.modelThree"),validValues:M,onChange:A=>{A.target.value!=="none"?(f(A.target.value),S("add_difference")):(f("none"),S("weighted_sum"))}})]}),i.jsx(zn,{label:e("modelManager.mergedModelName"),value:h,onChange:A=>m(A.target.value)}),i.jsxs(q,{sx:{flexDirection:"column",padding:4,borderRadius:"base",gap:4,bg:"base.900"},children:[i.jsx(vt,{label:e("modelManager.alpha"),min:.01,max:.99,step:.01,value:v,onChange:A=>b(A),withInput:!0,withReset:!0,handleReset:()=>b(.5),withSliderMarks:!0}),i.jsx(Ye,{variant:"subtext",fontSize:"sm",children:e("modelManager.modelMergeAlphaHelp")})]}),i.jsxs(q,{sx:{padding:4,borderRadius:"base",gap:4,bg:"base.900"},children:[i.jsx(Ye,{fontWeight:500,fontSize:"sm",variant:"subtext",children:e("modelManager.interpolationType")}),i.jsx(gu,{value:w,onChange:A=>S(A),children:i.jsx(q,{columnGap:4,children:d==="none"?i.jsxs(i.Fragment,{children:[i.jsx(oo,{value:"weighted_sum",children:i.jsx(Ye,{fontSize:"sm",children:e("modelManager.weightedSum")})}),i.jsx(oo,{value:"sigmoid",children:i.jsx(Ye,{fontSize:"sm",children:e("modelManager.sigmoid")})}),i.jsx(oo,{value:"inv_sigmoid",children:i.jsx(Ye,{fontSize:"sm",children:e("modelManager.inverseSigmoid")})})]}):i.jsx(oo,{value:"add_difference",children:i.jsx(Gn,{label:e("modelManager.modelMergeInterpAddDifferenceHelp"),children:i.jsx(Ye,{fontSize:"sm",children:e("modelManager.addDifference")})})})})})]}),i.jsxs(q,{sx:{flexDirection:"column",padding:4,borderRadius:"base",gap:4,bg:"base.900"},children:[i.jsxs(q,{columnGap:4,children:[i.jsx(Ye,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:e("modelManager.mergedModelSaveLocation")}),i.jsx(gu,{value:C,onChange:A=>P(A),children:i.jsxs(q,{columnGap:4,children:[i.jsx(oo,{value:"root",children:i.jsx(Ye,{fontSize:"sm",children:e("modelManager.invokeAIFolder")})}),i.jsx(oo,{value:"custom",children:i.jsx(Ye,{fontSize:"sm",children:e("modelManager.custom")})})]})})]}),C==="custom"&&i.jsx(zn,{label:e("modelManager.mergedModelCustomSaveLocation"),value:k,onChange:A=>_(A.target.value)})]}),i.jsx(En,{label:e("modelManager.ignoreMismatch"),isChecked:E,onChange:A=>I(A.target.checked),fontWeight:"500"}),i.jsx(Kt,{onClick:$,isLoading:D,isDisabled:C==="custom"&&k==="",children:e("modelManager.merge")})]})}var JJ=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var a=s[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const S4=ac(JJ);function y0(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var eee=Object.defineProperty,w4=Object.getOwnPropertySymbols,tee=Object.prototype.hasOwnProperty,nee=Object.prototype.propertyIsEnumerable,C4=(e,t,n)=>t in e?eee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ree=(e,t)=>{for(var n in t||(t={}))tee.call(t,n)&&C4(e,n,t[n]);if(w4)for(var n of w4(t))nee.call(t,n)&&C4(e,n,t[n]);return e};function AE(e,t){if(t===null||typeof t!="object")return{};const n=ree({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const oee="__MANTINE_FORM_INDEX__";function P4(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${oee}`)):!1:!1}function k4(e,t,n){typeof n.value=="object"&&(n.value=Rl(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Rl(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(Rl(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,u){o.set(Rl(u),Rl(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(Rl(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)k4(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||k4(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function NE(e){return typeof e!="string"?[]:e.split(".")}function Jh(e,t,n){const r=NE(e);if(r.length===0)return n;const o=Rl(n);if(r.length===1)return o[r[0]]=t,o;let s=o[r[0]];for(let a=1;a<r.length-1;a+=1){if(s===void 0)return o;s=s[r[a]]}return s[r[r.length-1]]=t,o}function aa(e,t){const n=NE(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let o=1;o<n.length&&r!==void 0;o+=1)r=r[n[o]];return r}function _4(e){const t=y0(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function b0(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((o,s)=>{const a=e[s],u=`${n===""?"":`${n}.`}${s}`,d=aa(u,t);let f=!1;return typeof a=="function"&&(o[u]=a(d,t,u)),typeof a=="object"&&Array.isArray(d)&&(f=!0,d.forEach((h,m)=>b0(a,t,`${u}.${m}`,o))),typeof a=="object"&&typeof d=="object"&&d!==null&&(f||b0(a,t,u,o)),o},r)}function x0(e,t){return _4(typeof e=="function"?e(t):b0(e,t))}function Sf(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=x0(t,n),o=Object.keys(r.errors).find(s=>e.split(".").every((a,u)=>a===s.split(".")[u]));return{hasError:!!o,error:o?r.errors[o]:null}}function see(e,{from:t,to:n},r){const o=aa(e,r);if(!Array.isArray(o))return r;const s=[...o],a=o[t];return s.splice(t,1),s.splice(n,0,a),Jh(e,s,r)}var aee=Object.defineProperty,j4=Object.getOwnPropertySymbols,iee=Object.prototype.hasOwnProperty,lee=Object.prototype.propertyIsEnumerable,E4=(e,t,n)=>t in e?aee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cee=(e,t)=>{for(var n in t||(t={}))iee.call(t,n)&&E4(e,n,t[n]);if(j4)for(var n of j4(t))lee.call(t,n)&&E4(e,n,t[n]);return e};function uee(e,{from:t,to:n},r){const o=`${e}.${t}`,s=`${e}.${n}`,a=cee({},r);return Object.keys(r).every(u=>{let d,f;if(u.startsWith(o)&&(d=u,f=u.replace(o,s)),u.startsWith(s)&&(d=u.replace(s,o),f=u),d&&f){const h=a[d],m=a[f];return m===void 0?delete a[d]:a[d]=m,h===void 0?delete a[f]:a[f]=h,!1}return!0}),a}function dee(e,t,n){const r=aa(e,n);return Array.isArray(r)?Jh(e,r.filter((o,s)=>s!==t),n):n}var fee=Object.defineProperty,I4=Object.getOwnPropertySymbols,pee=Object.prototype.hasOwnProperty,hee=Object.prototype.propertyIsEnumerable,O4=(e,t,n)=>t in e?fee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mee=(e,t)=>{for(var n in t||(t={}))pee.call(t,n)&&O4(e,n,t[n]);if(I4)for(var n of I4(t))hee.call(t,n)&&O4(e,n,t[n]);return e};function R4(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function M4(e,t,n,r){if(t===void 0)return n;const o=`${String(e)}`;let s=n;r===-1&&(s=AE(`${o}.${t}`,s));const a=mee({},s),u=new Set;return Object.entries(s).filter(([d])=>{if(!d.startsWith(`${o}.`))return!1;const f=R4(d,o);return Number.isNaN(f)?!1:f>=t}).forEach(([d,f])=>{const h=R4(d,o),m=d.replace(`${o}.${h}`,`${o}.${h+r}`);a[m]=f,u.add(m),u.has(d)||delete a[d]}),a}function gee(e,t,n,r){const o=aa(e,r);if(!Array.isArray(o))return r;const s=[...o];return s.splice(typeof n=="number"?n:s.length,0,t),Jh(e,s,r)}function T4(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(o=>o.startsWith(`${t}.`));return e[t]||r.some(o=>e[o])||!1}return n.some(r=>e[r])}function vee(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var yee=Object.defineProperty,bee=Object.defineProperties,xee=Object.getOwnPropertyDescriptors,D4=Object.getOwnPropertySymbols,See=Object.prototype.hasOwnProperty,wee=Object.prototype.propertyIsEnumerable,A4=(e,t,n)=>t in e?yee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,za=(e,t)=>{for(var n in t||(t={}))See.call(t,n)&&A4(e,n,t[n]);if(D4)for(var n of D4(t))wee.call(t,n)&&A4(e,n,t[n]);return e},sv=(e,t)=>bee(e,xee(t));function zE({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:o=!0,validateInputOnChange:s=!1,validateInputOnBlur:a=!1,transformValues:u=f=>f,validate:d}={}){const[f,h]=p.useState(r),[m,v]=p.useState(n),[b,w]=p.useState(e),[S,C]=p.useState(y0(t)),P=p.useRef(e),k=K=>{P.current=K},_=p.useCallback(()=>h({}),[]),E=K=>{const ae=K?za(za({},b),K):b;k(ae),v({})},I=p.useCallback(K=>C(ae=>y0(typeof K=="function"?K(ae):K)),[]),O=p.useCallback(()=>C({}),[]),R=p.useCallback(()=>{w(e),O(),k(e),v({}),_()},[]),M=p.useCallback((K,ae)=>I(de=>sv(za({},de),{[K]:ae})),[]),D=p.useCallback(K=>I(ae=>{if(typeof K!="string")return ae;const de=za({},ae);return delete de[K],de}),[]),$=p.useCallback(K=>v(ae=>{if(typeof K!="string")return ae;const de=AE(K,ae);return delete de[K],de}),[]),A=p.useCallback((K,ae)=>{const de=P4(K,s);$(K),h(xe=>sv(za({},xe),{[K]:!0})),w(xe=>{const oe=Jh(K,ae,xe);if(de){const me=Sf(K,d,oe);me.hasError?M(K,me.error):D(K)}return oe}),!de&&o&&M(K,null)},[]),G=p.useCallback(K=>{w(ae=>{const de=typeof K=="function"?K(ae):K;return za(za({},ae),de)}),o&&O()},[]),L=p.useCallback((K,ae)=>{$(K),w(de=>see(K,ae,de)),C(de=>uee(K,ae,de))},[]),F=p.useCallback((K,ae)=>{$(K),w(de=>dee(K,ae,de)),C(de=>M4(K,ae,de,-1))},[]),W=p.useCallback((K,ae,de)=>{$(K),w(xe=>gee(K,ae,de,xe)),C(xe=>M4(K,de,xe,1))},[]),X=p.useCallback(()=>{const K=x0(d,b);return C(K.errors),K},[b,d]),N=p.useCallback(K=>{const ae=Sf(K,d,b);return ae.hasError?M(K,ae.error):D(K),ae},[b,d]),V=(K,{type:ae="input",withError:de=!0,withFocus:xe=!0}={})=>{const me={onChange:vee(fe=>A(K,fe))};return de&&(me.error=S[K]),ae==="checkbox"?me.checked=aa(K,b):me.value=aa(K,b),xe&&(me.onFocus=()=>h(fe=>sv(za({},fe),{[K]:!0})),me.onBlur=()=>{if(P4(K,a)){const fe=Sf(K,d,b);fe.hasError?M(K,fe.error):D(K)}}),me},H=(K,ae)=>de=>{de==null||de.preventDefault();const xe=X();xe.hasErrors?ae==null||ae(xe.errors,b,de):K==null||K(u(b),de)},U=K=>u(K||b),ne=p.useCallback(K=>{K.preventDefault(),R()},[]),ge=K=>{if(K){const de=aa(K,m);if(typeof de=="boolean")return de;const xe=aa(K,b),oe=aa(K,P.current);return!S4(xe,oe)}return Object.keys(m).length>0?T4(m):!S4(b,P.current)},le=p.useCallback(K=>T4(f,K),[f]),re=p.useCallback(K=>K?!Sf(K,d,b).hasError:!x0(d,b).hasErrors,[b,d]);return{values:b,errors:S,setValues:G,setErrors:I,setFieldValue:A,setFieldError:M,clearFieldError:D,clearErrors:O,reset:R,validate:X,validateField:N,reorderListItem:L,removeListItem:F,insertListItem:W,getInputProps:V,onSubmit:H,onReset:ne,isDirty:ge,isTouched:le,setTouched:h,setDirty:v,resetTouched:_,resetDirty:E,isValid:re,getTransformedValues:U}}const Cee=nt((e,t)=>{const{t:n}=ye(),{acceptButtonText:r=n("common.accept"),acceptCallback:o,cancelButtonText:s=n("common.cancel"),cancelCallback:a,children:u,title:d,triggerComponent:f}=e,{isOpen:h,onOpen:m,onClose:v}=Qa(),b=p.useRef(null),w=()=>{o(),v()},S=()=>{a&&a(),v()};return i.jsxs(i.Fragment,{children:[p.cloneElement(f,{onClick:m,ref:t}),i.jsx(vh,{isOpen:h,leastDestructiveRef:b,onClose:v,isCentered:!0,children:i.jsx(ei,{children:i.jsxs(yh,{children:[i.jsx(Ja,{fontSize:"lg",fontWeight:"bold",children:d}),i.jsx(ti,{children:u}),i.jsxs(Za,{children:[i.jsx(Kt,{ref:b,onClick:S,children:s}),i.jsx(Kt,{colorScheme:"error",onClick:w,ml:3,children:r})]})]})})})]})}),Ty=p.memo(Cee);function Pee(e){const{model:t}=e,n=se(),{t:r}=ye(),[o,s]=p.useState("same"),[a,u]=p.useState("");p.useEffect(()=>{s("same")},[t]);const d=()=>{s("same")},f=()=>{const h={model_name:t,save_location:o,custom_location:o==="custom"&&a!==""?a:null};n(convertToDiffusers(h))};return i.jsxs(Ty,{title:`${r("modelManager.convert")} ${t.name}`,acceptCallback:f,cancelCallback:d,acceptButtonText:`${r("modelManager.convert")}`,triggerComponent:i.jsxs(Kt,{size:"sm","aria-label":r("modelManager.convertToDiffusers"),className:" modal-close-btn",children:[" ",r("modelManager.convertToDiffusers")]}),motionPreset:"slideInBottom",children:[i.jsxs(q,{flexDirection:"column",rowGap:4,children:[i.jsx(Ye,{children:r("modelManager.convertToDiffusersHelpText1")}),i.jsxs(ph,{children:[i.jsx(Ro,{children:r("modelManager.convertToDiffusersHelpText2")}),i.jsx(Ro,{children:r("modelManager.convertToDiffusersHelpText3")}),i.jsx(Ro,{children:r("modelManager.convertToDiffusersHelpText4")}),i.jsx(Ro,{children:r("modelManager.convertToDiffusersHelpText5")})]}),i.jsx(Ye,{children:r("modelManager.convertToDiffusersHelpText6")})]}),i.jsxs(q,{flexDir:"column",gap:4,children:[i.jsxs(q,{marginTop:4,flexDir:"column",gap:2,children:[i.jsx(Ye,{fontWeight:"600",children:r("modelManager.convertToDiffusersSaveLocation")}),i.jsx(gu,{value:o,onChange:h=>s(h),children:i.jsxs(q,{gap:4,children:[i.jsx(oo,{value:"same",children:i.jsx(Gn,{label:"Save converted model in the same folder",children:r("modelManager.sameFolder")})}),i.jsx(oo,{value:"root",children:i.jsx(Gn,{label:"Save converted model in the InvokeAI root folder",children:r("modelManager.invokeRoot")})}),i.jsx(oo,{value:"custom",children:i.jsx(Gn,{label:"Save converted model in a custom folder",children:r("modelManager.custom")})})]})})]}),o==="custom"&&i.jsxs(q,{flexDirection:"column",rowGap:2,children:[i.jsx(Ye,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:r("modelManager.customSaveLocation")}),i.jsx(zn,{value:a,onChange:h=>{h.target.value!==""&&u(h.target.value)},width:"full"})]})]})]})}const kee=[{value:"sd-1",label:Kr["sd-1"]},{value:"sd-2",label:Kr["sd-2"]}],_ee=[{value:"normal",label:"Normal"},{value:"inpaint",label:"Inpaint"},{value:"depth",label:"Depth"}];function jee(e){const t=B(u=>u.system.isProcessing),{modelToEdit:n,retrievedModel:r}=e;se();const{t:o}=ye(),s=zE({initialValues:{name:r.name,base_model:r.base_model,type:"main",path:r.path,description:r.description,model_format:"checkpoint",vae:r.vae,config:r.config,variant:r.variant}}),a=u=>{console.log(u)};return n?i.jsxs(q,{flexDirection:"column",rowGap:4,width:"100%",children:[i.jsxs(q,{justifyContent:"space-between",alignItems:"center",children:[i.jsxs(q,{flexDirection:"column",children:[i.jsx(Ye,{fontSize:"lg",fontWeight:"bold",children:r.name}),i.jsxs(Ye,{fontSize:"sm",color:"base.400",children:[Kr[r.base_model]," Model"]})]}),i.jsx(Pee,{model:r})]}),i.jsx(Sa,{}),i.jsx(q,{flexDirection:"column",maxHeight:window.innerHeight-270,overflowY:"scroll",children:i.jsx("form",{onSubmit:s.onSubmit(u=>a(u)),children:i.jsxs(q,{flexDirection:"column",overflowY:"scroll",gap:4,children:[i.jsx(zn,{label:o("modelManager.name"),...s.getInputProps("name")}),i.jsx(zn,{label:o("modelManager.description"),...s.getInputProps("description")}),i.jsx(mr,{label:o("modelManager.baseModel"),data:kee,...s.getInputProps("base_model")}),i.jsx(mr,{label:o("modelManager.variant"),data:_ee,...s.getInputProps("variant")}),i.jsx(zn,{label:o("modelManager.modelLocation"),...s.getInputProps("path")}),i.jsx(zn,{label:o("modelManager.vaeLocation"),...s.getInputProps("vae")}),i.jsx(zn,{label:o("modelManager.config"),...s.getInputProps("config")}),i.jsx(Kt,{disabled:t,type:"submit",children:o("modelManager.updateModel")})]})})})]}):i.jsx(q,{sx:{width:"100%",justifyContent:"center",alignItems:"center",borderRadius:"base",bg:"base.900"},children:i.jsx(Ye,{fontWeight:500,children:"Pick A Model To Edit"})})}const Eee=[{value:"sd-1",label:Kr["sd-1"]},{value:"sd-2",label:Kr["sd-2"]}],Iee=[{value:"normal",label:"Normal"},{value:"inpaint",label:"Inpaint"},{value:"depth",label:"Depth"}];function Oee(e){const t=B(u=>u.system.isProcessing),{retrievedModel:n,modelToEdit:r}=e;se();const{t:o}=ye(),s=zE({initialValues:{name:n.name,base_model:n.base_model,type:"main",path:n.path,description:n.description,model_format:"diffusers",vae:n.vae,variant:n.variant}}),a=u=>{console.log(u)};return r?i.jsxs(q,{flexDirection:"column",rowGap:4,width:"100%",children:[i.jsxs(q,{flexDirection:"column",children:[i.jsx(Ye,{fontSize:"lg",fontWeight:"bold",children:n.name}),i.jsxs(Ye,{fontSize:"sm",color:"base.400",children:[Kr[n.base_model]," Model"]})]}),i.jsx(Sa,{}),i.jsx("form",{onSubmit:s.onSubmit(u=>a(u)),children:i.jsxs(q,{flexDirection:"column",overflowY:"scroll",gap:4,children:[i.jsx(zn,{label:o("modelManager.name"),...s.getInputProps("name")}),i.jsx(zn,{label:o("modelManager.description"),...s.getInputProps("description")}),i.jsx(mr,{label:o("modelManager.baseModel"),data:Eee,...s.getInputProps("base_model")}),i.jsx(mr,{label:o("modelManager.variant"),data:Iee,...s.getInputProps("variant")}),i.jsx(zn,{label:o("modelManager.modelLocation"),...s.getInputProps("path")}),i.jsx(zn,{label:o("modelManager.vaeLocation"),...s.getInputProps("vae")}),i.jsx(Kt,{disabled:t,type:"submit",children:o("modelManager.updateModel")})]})})]}):i.jsx(q,{sx:{width:"100%",justifyContent:"center",alignItems:"center",borderRadius:"base",bg:"base.900"},children:i.jsx(Ye,{fontWeight:"500",children:"Pick A Model To Edit"})})}function wf(e){const{isProcessing:t,isConnected:n}=B(m=>m.system),r=B(m=>m.system.openModel),{t:o}=ye(),s=se(),{modelKey:a,name:u,description:d}=e,f=()=>{s(qx(a))},h=()=>{s(deleteModel(a)),s(qx(null))};return i.jsxs(q,{alignItems:"center",p:2,borderRadius:"base",sx:a===r?{bg:"accent.750",_hover:{bg:"accent.750"}}:{_hover:{bg:"base.750"}},children:[i.jsx(Ue,{onClick:f,cursor:"pointer",children:i.jsx(Gn,{label:d,hasArrow:!0,placement:"bottom",children:i.jsx(Ye,{fontWeight:"600",children:u})})}),i.jsx(Qi,{onClick:f,cursor:"pointer"}),i.jsxs(q,{gap:2,alignItems:"center",children:[i.jsx(Me,{icon:i.jsx(gL,{}),size:"sm",onClick:f,"aria-label":o("accessibility.modifyConfig"),isDisabled:status==="active"||t||!n}),i.jsx(Ty,{title:o("modelManager.deleteModel"),acceptCallback:h,acceptButtonText:o("modelManager.delete"),triggerComponent:i.jsx(Me,{icon:i.jsx(yL,{}),size:"sm","aria-label":o("modelManager.deleteConfig"),isDisabled:status==="active"||t||!n,colorScheme:"error"}),children:i.jsxs(q,{rowGap:4,flexDirection:"column",children:[i.jsx("p",{style:{fontWeight:"bold"},children:o("modelManager.deleteMsg1")}),i.jsx("p",{children:o("modelManager.deleteMsg2")})]})})]})]})}function av({label:e,isActive:t,onClick:n}){return i.jsx(Kt,{onClick:n,isActive:t,sx:{_active:{bg:"accent.750"}},size:"sm",children:e})}const Ree=()=>{const{data:e}=Yu(),[t,n]=z.useState(!1);z.useEffect(()=>{const v=setTimeout(()=>{n(!0)},200);return()=>clearTimeout(v)},[]);const[r,o]=p.useState(""),[s,a]=p.useState("all"),[u,d]=p.useTransition(),{t:f}=ye(),h=v=>{d(()=>{o(v.target.value)})},m=p.useMemo(()=>{const v=[],b=[],w=[],S=[];if(!e)return;const C=e.entities;return Object.keys(C).forEach((P,k)=>{var _,E;C[P].name.toLowerCase().includes(r.toLowerCase())&&(w.push(i.jsx(wf,{modelKey:P,name:C[P].name,description:C[P].description},k)),((_=C[P])==null?void 0:_.model_format)===s&&S.push(i.jsx(wf,{modelKey:P,name:C[P].name,description:C[P].description},k))),((E=C[P])==null?void 0:E.model_format)!=="diffusers"?v.push(i.jsx(wf,{modelKey:P,name:C[P].name,description:C[P].description},k)):b.push(i.jsx(wf,{modelKey:P,name:C[P].name,description:C[P].description},k))}),r!==""?s==="all"?i.jsx(Ue,{marginTop:4,children:w}):i.jsx(Ue,{marginTop:4,children:S}):i.jsxs(q,{flexDirection:"column",rowGap:6,children:[s==="all"&&i.jsxs(i.Fragment,{children:[i.jsxs(Ue,{children:[i.jsx(Ye,{sx:{fontWeight:"500",py:2,px:4,mb:4,borderRadius:"base",width:"max-content",fontSize:"sm",bg:"base.750"},children:f("modelManager.diffusersModels")}),b]}),i.jsxs(Ue,{children:[i.jsx(Ye,{sx:{fontWeight:"500",py:2,px:4,my:4,mx:0,borderRadius:"base",width:"max-content",fontSize:"sm",bg:"base.750"},children:f("modelManager.checkpointModels")}),v]})]}),s==="diffusers"&&i.jsx(q,{flexDirection:"column",marginTop:4,children:b}),s==="ckpt"&&i.jsx(q,{flexDirection:"column",marginTop:4,children:v})]})},[e,r,f,s]);return i.jsxs(q,{flexDirection:"column",rowGap:4,width:"50%",minWidth:"50%",children:[i.jsx(zn,{onChange:h,label:f("modelManager.search")}),i.jsxs(q,{flexDirection:"column",gap:4,maxHeight:window.innerHeight-240,overflow:"scroll",paddingInlineEnd:4,children:[i.jsxs(q,{columnGap:2,children:[i.jsx(av,{label:f("modelManager.allModels"),onClick:()=>a("all"),isActive:s==="all"}),i.jsx(av,{label:f("modelManager.diffusersModels"),onClick:()=>a("diffusers"),isActive:s==="diffusers"}),i.jsx(av,{label:f("modelManager.checkpointModels"),onClick:()=>a("ckpt"),isActive:s==="ckpt"})]}),t?m:i.jsx(q,{width:"100%",minHeight:96,justifyContent:"center",alignItems:"center",children:i.jsx(Ou,{})})]})]})};function Mee(){const{data:e}=Yu(),t=B(r=>r.system.openModel),n=()=>{if(!(!t||!e))return e.entities[t].model_format==="diffusers"?i.jsx(Oee,{modelToEdit:t,retrievedModel:e.entities[t]},t):i.jsx(jee,{modelToEdit:t,retrievedModel:e.entities[t]},t)};return i.jsxs(q,{width:"100%",columnGap:8,children:[i.jsx(Ree,{}),n()]})}const $E=[{id:"modelManager",label:Cr.t("modelManager.modelManager"),content:i.jsx(Mee,{})},{id:"addModels",label:Cr.t("modelManager.addModel"),content:i.jsx(XJ,{})},{id:"mergeModels",label:Cr.t("modelManager.mergeModels"),content:i.jsx(ZJ,{})}],Tee=()=>{const e=[];return $E.forEach(t=>{e.push(i.jsx(y1,{children:t.label},t.id))}),i.jsx(m1,{sx:{w:"100%",color:"base.200",flexDirection:"row",borderBottomWidth:2,borderColor:"accent.700"},children:e})},Dee=()=>{const e=[];return $E.forEach(t=>{e.push(i.jsx(g1,{children:t.content},t.id))}),i.jsx(v1,{sx:{p:2},children:e})},Aee=()=>i.jsxs(h1,{isLazy:!0,variant:"invokeAI",sx:{w:"full",h:"full",p:2,gap:4,flexDirection:"column"},children:[Tee(),Dee()]}),Nee=p.memo(Aee);const zee={position:"absolute",width:"1rem",height:"1rem",borderWidth:0},$ee={left:"-1rem"},Lee={right:"-0.5rem"},Fee=e=>{const{field:t,isValidConnection:n,handleType:r,styles:o}=e,{name:s,type:a}=t;return i.jsx(Gn,{label:a,placement:r==="target"?"start":"end",hasArrow:!0,openDelay:F3,children:i.jsx(yR,{type:r,id:s,isValidConnection:n,position:r==="target"?Yx.Left:Yx.Right,style:{backgroundColor:B3[a].colorCssVar,...o,...zee,...r==="target"?$ee:Lee}})})},LE=p.memo(Fee),FE=()=>{const e=$0();return p.useCallback(({source:n,sourceHandle:r,target:o,targetHandle:s})=>(e.getEdges(),e.getNodes(),!0),[e])};function Bee(e){const{nodeId:t,output:n,template:r,connected:o}=e,s=FE();return i.jsx(Ue,{position:"relative",children:i.jsx(ar,{isDisabled:r?o:!0,paddingRight:3,children:r?i.jsxs(i.Fragment,{children:[i.jsx(pr,{textAlign:"end",padding:1,children:r==null?void 0:r.title}),i.jsx(LE,{nodeId:t,field:r,isValidConnection:s,handleType:"source"},n.id)]}):i.jsx(qa,{justifyContent:"space-between",alignItems:"center",children:i.jsxs(pr,{color:"error.400",children:["Unknown Output: ",n.name]})})})})}const Hee=e=>{const{nodeId:t,template:n,outputs:r}=e,o=B(a=>a.nodes.edges);return p.useCallback(()=>{const a=[];return qs(r).forEach(d=>{const f=n.outputs[d.name],h=!!o.filter(m=>m.source===t&&m.sourceHandle===d.name).length;a.push(i.jsx(Bee,{nodeId:t,output:d,template:f,connected:h},d.id))}),i.jsx(q,{flexDir:"column",children:a})},[o,t,r,n.outputs])()},Wee=p.memo(Hee),Vee=e=>i.jsx(nL,{}),Uee=p.memo(Vee),Gee=e=>{const{nodeId:t,field:n}=e,r=se(),o=s=>{r(Cs({nodeId:t,fieldName:n.name,value:s.target.checked}))};return i.jsx(p1,{onChange:o,isChecked:n.value})},qee=p.memo(Gee),Yee=e=>null,Kee=p.memo(Yee);function em(){return(em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function BE(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function S0(e){var t=p.useRef(e),n=p.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var sc=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},lu=function(e){return"touches"in e},w0=function(e){return e&&e.ownerDocument.defaultView||self},N4=function(e,t,n){var r=e.getBoundingClientRect(),o=lu(t)?function(s,a){for(var u=0;u<s.length;u++)if(s[u].identifier===a)return s[u];return s[0]}(t.touches,n):t;return{left:sc((o.pageX-(r.left+w0(e).pageXOffset))/r.width),top:sc((o.pageY-(r.top+w0(e).pageYOffset))/r.height)}},z4=function(e){!lu(e)&&e.preventDefault()},Dy=z.memo(function(e){var t=e.onMove,n=e.onKey,r=BE(e,["onMove","onKey"]),o=p.useRef(null),s=S0(t),a=S0(n),u=p.useRef(null),d=p.useRef(!1),f=p.useMemo(function(){var b=function(C){z4(C),(lu(C)?C.touches.length>0:C.buttons>0)&&o.current?s(N4(o.current,C,u.current)):S(!1)},w=function(){return S(!1)};function S(C){var P=d.current,k=w0(o.current),_=C?k.addEventListener:k.removeEventListener;_(P?"touchmove":"mousemove",b),_(P?"touchend":"mouseup",w)}return[function(C){var P=C.nativeEvent,k=o.current;if(k&&(z4(P),!function(E,I){return I&&!lu(E)}(P,d.current)&&k)){if(lu(P)){d.current=!0;var _=P.changedTouches||[];_.length&&(u.current=_[0].identifier)}k.focus(),s(N4(k,P,u.current)),S(!0)}},function(C){var P=C.which||C.keyCode;P<37||P>40||(C.preventDefault(),a({left:P===39?.05:P===37?-.05:0,top:P===40?.05:P===38?-.05:0}))},S]},[a,s]),h=f[0],m=f[1],v=f[2];return p.useEffect(function(){return v},[v]),z.createElement("div",em({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),tm=function(e){return e.filter(Boolean).join(" ")},Ay=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=tm(["react-colorful__pointer",e.className]);return z.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},z.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},so=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},HE=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:so(e.h),s:so(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:so(o/2),a:so(r,2)}},C0=function(e){var t=HE(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},iv=function(e){var t=HE(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},Xee=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),u=r*(1-(t-s)*n),d=r*(1-(1-t+s)*n),f=s%6;return{r:so(255*[r,u,a,a,d,r][f]),g:so(255*[d,r,r,u,a,a][f]),b:so(255*[a,a,d,r,r,u][f]),a:so(o,2)}},Qee=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),u=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:so(60*(u<0?u+6:u)),s:so(s?a/s*100:0),v:so(s/255*100),a:o}},Zee=z.memo(function(e){var t=e.hue,n=e.onChange,r=tm(["react-colorful__hue",e.className]);return z.createElement("div",{className:r},z.createElement(Dy,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:sc(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":so(t),"aria-valuemax":"360","aria-valuemin":"0"},z.createElement(Ay,{className:"react-colorful__hue-pointer",left:t/360,color:C0({h:t,s:100,v:100,a:1})})))}),Jee=z.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:C0({h:t.h,s:100,v:100,a:1})};return z.createElement("div",{className:"react-colorful__saturation",style:r},z.createElement(Dy,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:sc(t.s+100*o.left,0,100),v:sc(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+so(t.s)+"%, Brightness "+so(t.v)+"%"},z.createElement(Ay,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:C0(t)})))}),WE=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function ete(e,t,n){var r=S0(n),o=p.useState(function(){return e.toHsva(t)}),s=o[0],a=o[1],u=p.useRef({color:t,hsva:s});p.useEffect(function(){if(!e.equal(t,u.current.color)){var f=e.toHsva(t);u.current={hsva:f,color:t},a(f)}},[t,e]),p.useEffect(function(){var f;WE(s,u.current.hsva)||e.equal(f=e.fromHsva(s),u.current.color)||(u.current={hsva:s,color:f},r(f))},[s,e,r]);var d=p.useCallback(function(f){a(function(h){return Object.assign({},h,f)})},[]);return[s,d]}var tte=typeof window<"u"?p.useLayoutEffect:p.useEffect,nte=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},$4=new Map,rte=function(e){tte(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!$4.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,$4.set(t,n);var r=nte();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},ote=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+iv(Object.assign({},n,{a:0}))+", "+iv(Object.assign({},n,{a:1}))+")"},s=tm(["react-colorful__alpha",t]),a=so(100*n.a);return z.createElement("div",{className:s},z.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),z.createElement(Dy,{onMove:function(u){r({a:u.left})},onKey:function(u){r({a:sc(n.a+u.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},z.createElement(Ay,{className:"react-colorful__alpha-pointer",left:n.a,color:iv(n)})))},ste=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,a=BE(e,["className","colorModel","color","onChange"]),u=p.useRef(null);rte(u);var d=ete(n,o,s),f=d[0],h=d[1],m=tm(["react-colorful",t]);return z.createElement("div",em({},a,{ref:u,className:m}),z.createElement(Jee,{hsva:f,onChange:h}),z.createElement(Zee,{hue:f.h,onChange:h}),z.createElement(ote,{hsva:f,onChange:h,className:"react-colorful__last-control"}))},ate={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Qee,fromHsva:Xee,equal:WE},VE=function(e){return z.createElement(ste,em({},e,{colorModel:ate}))};const ite=e=>{const{nodeId:t,field:n}=e,r=se(),o=s=>{r(Cs({nodeId:t,fieldName:n.name,value:s}))};return i.jsx(VE,{className:"nodrag",color:n.value,onChange:o})},lte=p.memo(ite),cte=e=>null,ute=p.memo(cte),dte=e=>null,fte=p.memo(dte),pte=e=>{const{nodeId:t,field:n,template:r}=e,o=se(),s=a=>{o(Cs({nodeId:t,fieldName:n.name,value:a.target.value}))};return i.jsx(d1,{onChange:s,value:n.value,children:r.options.map(a=>i.jsx("option",{children:a},a))})},hte=p.memo(pte),mte=e=>{var f;const{nodeId:t,field:n}=e,r=se();p.useCallback(({image_name:h})=>{r(Cs({nodeId:t,fieldName:n.name,value:bR([...n.value??[],{image_name:h}],"image_name")}))},[r,n.name,n.value,t]);const o={id:`node-${t}-${n.name}`,actionType:"SET_MULTI_NODES_IMAGE",context:{nodeId:t,fieldName:n.name}},{isOver:s,setNodeRef:a,active:u,over:d}=Ru({id:`node_${t}`,data:o});return p.useCallback(()=>{r(Cs({nodeId:t,fieldName:n.name,value:void 0}))},[r,n.name,t]),i.jsxs(q,{ref:a,sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center",position:"relative",minH:"10rem"},children:[(f=n.value)==null?void 0:f.map(({image_name:h})=>i.jsx(vte,{imageName:h},h)),Vl(o,u)&&i.jsx(Gl,{isOver:s})]})},gte=p.memo(mte),vte=e=>{const{currentData:t}=Ws(e.imageName);return i.jsx(Vi,{imageDTO:t,isDropDisabled:!0,isDragDisabled:!0})},yte=e=>{var v;const{nodeId:t,field:n}=e,r=se(),{currentData:o,isLoading:s,isError:a,isSuccess:u}=Ws(((v=n.value)==null?void 0:v.image_name)??ga.skipToken),d=p.useCallback(()=>{r(Cs({nodeId:t,fieldName:n.name,value:void 0}))},[r,n.name,t]),f=p.useMemo(()=>{if(o)return{id:`node-${t}-${n.name}`,payloadType:"IMAGE_DTO",payload:{imageDTO:o}}},[n.name,o,t]),h=p.useMemo(()=>({id:`node-${t}-${n.name}`,actionType:"SET_NODES_IMAGE",context:{nodeId:t,fieldName:n.name}}),[n.name,t]),m=p.useMemo(()=>({type:"SET_NODES_IMAGE",nodeId:t,fieldName:n.name}),[t,n.name]);return i.jsx(q,{sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center"},children:i.jsx(Vi,{imageDTO:o,droppableData:h,draggableData:f,onClickReset:d,postUploadAction:m})})},bte=p.memo(yte),xte=e=>i.jsx(N$,{}),L4=p.memo(xte),Ste=e=>null,wte=p.memo(Ste),Cte=e=>{const{nodeId:t,field:n}=e,r=se();ye();const{data:o}=wE(),s=p.useMemo(()=>o==null?void 0:o.entities[n.value??o.ids[0]],[o==null?void 0:o.entities,o==null?void 0:o.ids,n.value]),a=p.useMemo(()=>{if(!o)return[];const d=[];return oi(o.entities,(f,h)=>{f&&d.push({value:h,label:f.name,group:Kr[f.base_model]})}),d},[o]),u=p.useCallback(d=>{d&&r(Cs({nodeId:t,fieldName:n.name,value:d}))},[r,n.name,t]);return p.useEffect(()=>{if(n.value&&(o!=null&&o.ids.includes(n.value)))return;const d=o==null?void 0:o.ids[0];ah(d)&&u(d)},[n.value,u,o==null?void 0:o.ids]),i.jsx(mr,{tooltip:s==null?void 0:s.description,label:(s==null?void 0:s.base_model)&&Kr[s==null?void 0:s.base_model],value:n.value,placeholder:"Pick one",data:a,onChange:u})},Pte=p.memo(Cte),kte=e=>{const{nodeId:t,field:n}=e,r=se();ye();const{data:o}=Yu(),s=p.useMemo(()=>{if(!o)return[];const d=[];return oi(o.entities,(f,h)=>{f&&d.push({value:h,label:f.name,group:Kr[f.base_model]})}),d},[o]),a=p.useMemo(()=>o==null?void 0:o.entities[n.value??o.ids[0]],[o==null?void 0:o.entities,o==null?void 0:o.ids,n.value]),u=p.useCallback(d=>{d&&r(Cs({nodeId:t,fieldName:n.name,value:d}))},[r,n.name,t]);return p.useEffect(()=>{if(n.value&&(o!=null&&o.ids.includes(n.value)))return;const d=o==null?void 0:o.ids[0];ah(d)&&u(d)},[n.value,u,o==null?void 0:o.ids]),i.jsx(mr,{tooltip:a==null?void 0:a.description,label:(a==null?void 0:a.base_model)&&Kr[a==null?void 0:a.base_model],value:n.value,placeholder:"Pick one",data:s,onChange:u})},_te=p.memo(kte),jte=e=>{const{nodeId:t,field:n}=e,r=se(),o=(s,a)=>{r(Cs({nodeId:t,fieldName:n.name,value:a}))};return i.jsxs(T3,{onChange:o,value:n.value,step:e.template.type==="integer"?1:.1,precision:e.template.type==="integer"?0:3,children:[i.jsx(D3,{}),i.jsxs(A3,{children:[i.jsx(N3,{}),i.jsx(z3,{})]})]})},Ete=p.memo(jte),Ite=e=>{const{nodeId:t,field:n}=e,r=se(),o=s=>{r(Cs({nodeId:t,fieldName:n.name,value:s.target.value}))};return i.jsx(Nu,{onChange:o,value:n.value})},Ote=p.memo(Ite),Rte=e=>null,Mte=p.memo(Rte),Tte=e=>null,Dte=p.memo(Tte),Ate=e=>{const{nodeId:t,field:n}=e,r=se();ye();const{data:o}=CE(),s=p.useMemo(()=>o==null?void 0:o.entities[n.value??o.ids[0]],[o==null?void 0:o.entities,o==null?void 0:o.ids,n.value]),a=p.useMemo(()=>{if(!o)return[];const d=[];return oi(o.entities,(f,h)=>{f&&d.push({value:h,label:f.name,group:Kr[f.base_model]})}),d},[o]),u=p.useCallback(d=>{d&&r(Cs({nodeId:t,fieldName:n.name,value:d}))},[r,n.name,t]);return p.useEffect(()=>{n.value&&(o!=null&&o.ids.includes(n.value))||u("auto")},[n.value,u,o==null?void 0:o.ids]),i.jsx(mr,{tooltip:s==null?void 0:s.description,label:(s==null?void 0:s.base_model)&&Kr[s==null?void 0:s.base_model],value:n.value,placeholder:"Pick one",data:a,onChange:u})},Nte=p.memo(Ate),zte=e=>{const{nodeId:t,field:n,template:r}=e,{type:o}=n;return o==="string"&&r.type==="string"?i.jsx(Ote,{nodeId:t,field:n,template:r}):o==="boolean"&&r.type==="boolean"?i.jsx(qee,{nodeId:t,field:n,template:r}):o==="integer"&&r.type==="integer"||o==="float"&&r.type==="float"?i.jsx(Ete,{nodeId:t,field:n,template:r}):o==="enum"&&r.type==="enum"?i.jsx(hte,{nodeId:t,field:n,template:r}):o==="image"&&r.type==="image"?i.jsx(bte,{nodeId:t,field:n,template:r}):o==="latents"&&r.type==="latents"?i.jsx(wte,{nodeId:t,field:n,template:r}):o==="conditioning"&&r.type==="conditioning"?i.jsx(ute,{nodeId:t,field:n,template:r}):o==="unet"&&r.type==="unet"?i.jsx(Mte,{nodeId:t,field:n,template:r}):o==="clip"&&r.type==="clip"?i.jsx(Kee,{nodeId:t,field:n,template:r}):o==="vae"&&r.type==="vae"?i.jsx(Dte,{nodeId:t,field:n,template:r}):o==="control"&&r.type==="control"?i.jsx(fte,{nodeId:t,field:n,template:r}):o==="model"&&r.type==="model"?i.jsx(_te,{nodeId:t,field:n,template:r}):o==="vae_model"&&r.type==="vae_model"?i.jsx(Nte,{nodeId:t,field:n,template:r}):o==="lora_model"&&r.type==="lora_model"?i.jsx(Pte,{nodeId:t,field:n,template:r}):o==="array"&&r.type==="array"?i.jsx(Uee,{nodeId:t,field:n,template:r}):o==="item"&&r.type==="item"?i.jsx(L4,{nodeId:t,field:n,template:r}):o==="color"&&r.type==="color"?i.jsx(lte,{nodeId:t,field:n,template:r}):o==="item"&&r.type==="item"?i.jsx(L4,{nodeId:t,field:n,template:r}):o==="image_collection"&&r.type==="image_collection"?i.jsx(gte,{nodeId:t,field:n,template:r}):i.jsxs(Ue,{p:2,children:["Unknown field type: ",o]})},$te=p.memo(zte);function Lte(e){const{nodeId:t,input:n,template:r,connected:o}=e,s=FE();return i.jsx(Ue,{position:"relative",borderColor:r?!o&&["always","connectionOnly"].includes(String(r==null?void 0:r.inputRequirement))&&n.value===void 0?"warning.400":void 0:"error.400",children:i.jsx(ar,{isDisabled:r?o:!0,pl:2,children:r?i.jsxs(i.Fragment,{children:[i.jsxs(qa,{justifyContent:"space-between",alignItems:"center",children:[i.jsx(qa,{children:i.jsx(Gn,{label:r==null?void 0:r.description,placement:"top",hasArrow:!0,shouldWrapChildren:!0,openDelay:F3,children:i.jsx(pr,{children:r==null?void 0:r.title})})}),i.jsx($te,{nodeId:t,field:n,template:r})]}),!["never","directOnly"].includes((r==null?void 0:r.inputRequirement)??"")&&i.jsx(LE,{nodeId:t,field:r,isValidConnection:s,handleType:"target"})]}):i.jsx(qa,{justifyContent:"space-between",alignItems:"center",children:i.jsxs(pr,{children:["Unknown input: ",n.name]})})})})}const Fte=e=>{const{nodeId:t,template:n,inputs:r}=e,o=B(a=>a.nodes.edges);return p.useCallback(()=>{const a=[],u=qs(r);return u.forEach((d,f)=>{const h=n.inputs[d.name],m=!!o.filter(v=>v.target===t&&v.targetHandle===d.name).length;f<u.length&&a.push(i.jsx(Sa,{},`${d.id}.divider`)),a.push(i.jsx(Lte,{nodeId:t,input:d,template:h,connected:m},d.id))}),i.jsx(q,{flexDir:"column",gap:2,p:2,children:a})},[o,r,t,n.inputs])()},Bte=p.memo(Fte),Hte=e=>{const{nodeId:t,template:n}=e;return i.jsxs(q,{sx:{borderTopRadius:"md",alignItems:"center",justifyContent:"space-between",px:2,py:1,bg:"base.300",_dark:{bg:"base.700"}},children:[i.jsx(Gn,{label:t,children:i.jsx(sa,{size:"xs",sx:{fontWeight:600,color:"base.900",_dark:{color:"base.100"}},children:n.title})}),i.jsx(Gn,{label:n.description,placement:"top",hasArrow:!0,shouldWrapChildren:!0,children:i.jsx(mo,{sx:{h:"min-content",color:"base.700",_dark:{color:"base.300"}},as:eL})})]})},Wte=p.memo(Hte),Vte=e=>{const{...t}=e;return i.jsx(eN,{style:{position:"absolute",border:"none",background:"transparent",width:15,height:15,bottom:0,right:0},minWidth:H3,...t})},F4=p.memo(Vte),B4=e=>{const[t,n]=Xi("shadows",["nodeSelectedOutline","dark-lg"]);return i.jsx(Ue,{sx:{position:"relative",borderRadius:"md",minWidth:H3,shadow:e.selected?`${t}, ${n}`:`${n}`},children:e.children})},Ute=e=>Pe([t=>t.nodes],t=>{const n=t.invocationTemplates[e];if(n)return n},{memoizeOptions:{resultEqualityCheck:(t,n)=>t!==void 0&&n!==void 0&&t.type===n.type}}),UE=p.memo(e=>{const{id:t,data:n,selected:r}=e,{type:o,inputs:s,outputs:a}=n,u=p.useMemo(()=>Ute(o),[o]),d=B(u);return d?i.jsxs(B4,{selected:r,children:[i.jsx(Wte,{nodeId:t,template:d}),i.jsxs(q,{sx:{flexDirection:"column",borderBottomRadius:"md",py:2,bg:"base.200",_dark:{bg:"base.800"}},children:[i.jsx(Wee,{nodeId:t,outputs:a,template:d}),i.jsx(Bte,{nodeId:t,inputs:s,template:d})]}),i.jsx(F4,{})]}):i.jsx(B4,{selected:r,children:i.jsxs(q,{sx:{alignItems:"center",justifyContent:"center"},children:[i.jsx(mo,{as:G$,sx:{boxSize:32,color:"base.600",_dark:{color:"base.400"}}}),i.jsx(F4,{})]})})});UE.displayName="InvocationComponent";const Gte=(e,t)=>{const n={id:e,name:t.name,type:t.type};return t.inputRequirement!=="never"&&(t.type==="string"&&(n.value=t.default??""),t.type==="integer"&&(n.value=t.default??0),t.type==="float"&&(n.value=t.default??0),t.type==="boolean"&&(n.value=t.default??!1),t.type==="enum"&&(t.enumType==="number"&&(n.value=t.default??0),t.enumType==="string"&&(n.value=t.default??"")),t.type==="array"&&(n.value=t.default??1),t.type==="image"&&(n.value=void 0),t.type==="image_collection"&&(n.value=[]),t.type==="latents"&&(n.value=void 0),t.type==="conditioning"&&(n.value=void 0),t.type==="unet"&&(n.value=void 0),t.type==="clip"&&(n.value=void 0),t.type==="vae"&&(n.value=void 0),t.type==="control"&&(n.value=void 0),t.type==="model"&&(n.value=void 0),t.type==="vae_model"&&(n.value=void 0),t.type==="lora_model"&&(n.value=void 0)),n},qte=Pe([e=>e.nodes],e=>e.invocationTemplates),Yte=()=>{const e=B(qte),t=$0();return p.useCallback(n=>{const r=e[n];if(r===void 0){console.error(`Unable to find template ${n}.`);return}const o=Ii(),s=Kx(r.inputs,(h,m,v)=>{const b=Ii(),w=Gte(b,m);return h[v]=w,h},{}),a=Kx(r.outputs,(h,m,v)=>{const w={id:Ii(),name:v,type:m.type};return h[v]=w,h},{}),{x:u,y:d}=t.project({x:window.innerWidth/2.5,y:window.innerHeight/8});return{id:o,type:"invocation",position:{x:u,y:d},data:{id:o,type:n,inputs:s,outputs:a}}},[e,t])},Kte=Pe(xR,e=>({data:qs(e.invocationTemplates,n=>({label:n.title,value:n.type,description:n.description}))}),Rt),Xte=()=>{const e=se(),{data:t}=B(Kte),n=Yte(),r=Iu(),o=p.useCallback(s=>{const a=n(s);if(!a){r({status:"error",title:`Unknown Invocation type ${s}`});return}e(SR(a))},[e,n,r]);return i.jsx(q,{sx:{gap:2,alignItems:"center"},children:i.jsx(Yh,{selectOnBlur:!1,placeholder:"Add Node",value:[],data:t,maxDropdownHeight:400,nothingFound:"No matching nodes",itemComponent:GE,filter:(s,a,u)=>u.label.toLowerCase().includes(s.toLowerCase().trim())||u.value.toLowerCase().includes(s.toLowerCase().trim())||u.description.toLowerCase().includes(s.toLowerCase().trim()),onChange:s=>{s[0]&&o(s[0])},sx:{width:"18rem"}})})},GE=p.forwardRef(({label:e,description:t,...n},r)=>i.jsx("div",{ref:r,...n,children:i.jsxs("div",{children:[i.jsx(Ye,{children:e}),i.jsx(Ye,{size:"xs",color:"base.600",children:t})]})}));GE.displayName="SelectItem";const Qte=()=>i.jsx(Eu,{position:"top-left",children:i.jsx(Xte,{})}),Zte=p.memo(Qte),Jte=()=>i.jsx(q,{sx:{gap:2,flexDir:"column"},children:qs(B3,({title:e,description:t,color:n},r)=>i.jsx(Gn,{label:t,children:i.jsx(Ul,{colorScheme:n,sx:{userSelect:"none"},textAlign:"center",children:e})},r))}),ene=p.memo(Jte),tne=()=>{const e=B(n=>n),t=wR(e);return i.jsx(Ue,{as:"pre",sx:{fontFamily:"monospace",position:"absolute",top:2,right:2,opacity:.7,p:2,maxHeight:500,maxWidth:500,overflowY:"scroll",borderRadius:"base",bg:"base.200",_dark:{bg:"base.800"}},children:JSON.stringify(t,null,2)})},nne=p.memo(tne),rne=()=>{const e=B(t=>t.nodes.shouldShowGraphOverlay);return i.jsxs(Eu,{position:"top-right",children:[i.jsx(ene,{}),e&&i.jsx(nne,{})]})},one=p.memo(rne);function sne(e){const{iconButton:t=!1,...n}=e,r=se(),o=B(Dr),s=Br(),a=p.useCallback(()=>{r(z0("nodes"))},[r]),{t:u}=ye();return Ge(["ctrl+enter","meta+enter"],a,{enabled:()=>s,preventDefault:!0,enableOnFormTags:["input","textarea","select"]},[s,o]),i.jsx(Ue,{style:{flexGrow:4},position:"relative",children:i.jsxs(Ue,{style:{position:"relative"},children:[!s&&i.jsx(Ue,{borderRadius:"base",style:{position:"absolute",bottom:"0",left:"0",right:"0",height:"100%",overflow:"clip"},children:i.jsx(IE,{})}),t?i.jsx(Me,{"aria-label":u("parameters.invoke"),type:"submit",icon:i.jsx(nk,{}),isDisabled:!s,onClick:a,flexGrow:1,w:"100%",tooltip:u("parameters.invoke"),tooltipProps:{placement:"bottom"},colorScheme:"accent",id:"invoke-button",_disabled:{background:"none",_hover:{background:"none"}},...n}):i.jsx(Kt,{"aria-label":u("parameters.invoke"),type:"submit",isDisabled:!s,onClick:a,flexGrow:1,w:"100%",colorScheme:"accent",id:"invoke-button",fontWeight:700,_disabled:{background:"none",_hover:{background:"none"}},...n,children:"Invoke"})]})})}const ane=()=>{const e=se(),t=p.useCallback(()=>{e(CR())},[e]);return i.jsx(Eu,{position:"top-center",children:i.jsxs(qa,{children:[i.jsx(sne,{}),i.jsx(Kt,{onClick:t,children:"Reload Schema"})]})})},ine=p.memo(ane),lne=()=>{const{zoomIn:e,zoomOut:t,fitView:n}=$0(),r=se(),o=B(f=>f.nodes.shouldShowGraphOverlay),s=p.useCallback(()=>{e()},[e]),a=p.useCallback(()=>{t()},[t]),u=p.useCallback(()=>{n()},[n]),d=p.useCallback(()=>{r(PR(!o))},[o,r]);return i.jsxs(br,{isAttached:!0,orientation:"vertical",children:[i.jsx(Me,{onClick:s,"aria-label":"Zoom In",icon:i.jsx(Ih,{})}),i.jsx(Me,{onClick:a,"aria-label":"Zoom Out",icon:i.jsx(oL,{})}),i.jsx(Me,{onClick:u,"aria-label":"Fit to Viewport",icon:i.jsx($1,{})}),i.jsx(Me,{isChecked:o,onClick:d,"aria-label":"Show/Hide Graph",icon:i.jsx(N1,{})})]})},cne=p.memo(lne),une=()=>i.jsx(Eu,{position:"bottom-left",children:i.jsx(cne,{})}),dne=p.memo(une),fne=()=>{const e=Cf({background:"var(--invokeai-colors-base-200)"},{background:"var(--invokeai-colors-base-500)"}),t=Cf("var(--invokeai-colors-accent-300)","var(--invokeai-colors-accent-700)"),n=Cf("var(--invokeai-colors-blackAlpha-300)","var(--invokeai-colors-blackAlpha-600)");return i.jsx(VA,{nodeStrokeWidth:3,pannable:!0,zoomable:!0,nodeBorderRadius:30,style:e,nodeColor:t,maskColor:n})},pne=p.memo(fne),hne={invocation:UE},mne=()=>{const e=se(),t=B(d=>d.nodes.nodes),n=B(d=>d.nodes.edges),r=p.useCallback(d=>{e(kR(d))},[e]),o=p.useCallback(d=>{e(_R(d))},[e]),s=p.useCallback((d,f)=>{e(jR(f))},[e]),a=p.useCallback(d=>{e(ER(d))},[e]),u=p.useCallback(()=>{e(IR())},[e]);return i.jsxs(OR,{nodeTypes:hne,nodes:t,edges:n,onNodesChange:r,onEdgesChange:o,onConnectStart:s,onConnect:a,onConnectEnd:u,defaultEdgeOptions:{style:{strokeWidth:2}},children:[i.jsx(Zte,{}),i.jsx(ine,{}),i.jsx(one,{}),i.jsx(dne,{}),i.jsx(XA,{}),i.jsx(pne,{})]})},gne=()=>i.jsx(Ue,{layerStyle:"first",sx:{position:"relative",width:"full",height:"full",borderRadius:"base"},children:i.jsx(RR,{children:i.jsx(mne,{})})}),vne=p.memo(gne),yne=()=>i.jsx(vne,{}),bne=p.memo(yne),xne=e=>e.postprocessing,Sne=Pe([xne],({hiresFix:e,hiresStrength:t})=>({hiresFix:e,hiresStrength:t}),{memoizeOptions:{resultEqualityCheck:Wt}}),wne=()=>{const{hiresFix:e,hiresStrength:t}=B(Sne),n=se(),{t:r}=ye(),o=a=>{n(Xx(a))},s=()=>{n(Xx(.75))};return i.jsx(vt,{label:r("parameters.hiresStrength"),step:.01,min:.01,max:.99,onChange:o,value:t,isInteger:!1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:s,isDisabled:!e})},Cne=()=>{const e=se(),t=B(o=>o.postprocessing.hiresFix),{t:n}=ye(),r=o=>e(MR(o.target.checked));return i.jsx(In,{label:n("parameters.hiresOptim"),isChecked:t,onChange:r})},Pne=Pe(wn,e=>({activeLabel:e.postprocessing.hiresFix?"Enabled":void 0}),Rt),kne=()=>{const{t:e}=ye(),{activeLabel:t}=B(Pne);return hr("hires").isFeatureEnabled?i.jsx(wo,{label:e("parameters.hiresOptim"),activeLabel:t,children:i.jsxs(q,{sx:{gap:2,flexDirection:"column"},children:[i.jsx(Cne,{}),i.jsx(wne,{})]})}):null},_ne=p.memo(kne),jne=Pe(wn,({ui:e,generation:t})=>{const{shouldUseSliders:n}=e,{shouldRandomizeSeed:r}=t;return{shouldUseSliders:n,activeLabel:r?void 0:"Manual Seed"}},Rt),Ene=()=>{const{shouldUseSliders:e,activeLabel:t}=B(jne);return i.jsx(wo,{label:"General",activeLabel:t,defaultIsOpen:!0,children:i.jsx(q,{sx:{flexDirection:"column",gap:3},children:e?i.jsxs(i.Fragment,{children:[i.jsx(nc,{}),i.jsx(Ue,{pt:2,children:i.jsx(oc,{})}),i.jsx(tc,{}),i.jsx(rc,{}),i.jsx(ec,{}),i.jsx(Zp,{}),i.jsx(Qp,{})]}):i.jsxs(i.Fragment,{children:[i.jsxs(q,{gap:3,children:[i.jsx(tc,{}),i.jsx(rc,{}),i.jsx(ec,{})]}),i.jsx(nc,{}),i.jsx(Ue,{pt:2,children:i.jsx(oc,{})}),i.jsx(Zp,{}),i.jsx(Qp,{})]})})})},Ine=p.memo(Ene),One=()=>i.jsxs(i.Fragment,{children:[i.jsx(ky,{}),i.jsx(Py,{}),i.jsx(Oy,{}),i.jsx(Ine,{}),i.jsx(by,{}),i.jsx(vy,{}),i.jsx(wy,{}),i.jsx(jy,{}),i.jsx(jE,{}),i.jsx(_y,{}),i.jsx(_ne,{}),i.jsx(EE,{}),i.jsx(xy,{})]}),qE=p.memo(One),Rne=()=>i.jsxs(q,{sx:{gap:4,w:"full",h:"full"},children:[i.jsx(gy,{children:i.jsx(qE,{})}),i.jsx(bE,{})]}),Mne=p.memo(Rne);var P0={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var n=Qx;Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=Qx;e.exports=r.Konva})(P0,P0.exports);var Tne=P0.exports;const ku=ac(Tne);var YE={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dne=function(t){var n={},r=p,o=Pf,s=Object.assign;function a(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),I=Symbol.iterator;function O(l){return l===null||typeof l!="object"?null:(l=I&&l[I]||l["@@iterator"],typeof l=="function"?l:null)}function R(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case h:return"Fragment";case f:return"Portal";case v:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case w:return(l.displayName||"Context")+".Consumer";case b:return(l._context.displayName||"Context")+".Provider";case S:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return c=l.displayName||null,c!==null?c:R(l.type)||"Memo";case _:c=l._payload,l=l._init;try{return R(l(c))}catch{}}return null}function M(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(c);case 8:return c===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function D(l){var c=l,g=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,c.flags&4098&&(g=c.return),l=c.return;while(l)}return c.tag===3?g:null}function $(l){if(D(l)!==l)throw Error(a(188))}function A(l){var c=l.alternate;if(!c){if(c=D(l),c===null)throw Error(a(188));return c!==l?null:l}for(var g=l,y=c;;){var x=g.return;if(x===null)break;var j=x.alternate;if(j===null){if(y=x.return,y!==null){g=y;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===g)return $(x),l;if(j===y)return $(x),c;j=j.sibling}throw Error(a(188))}if(g.return!==y.return)g=x,y=j;else{for(var T=!1,Z=x.child;Z;){if(Z===g){T=!0,g=x,y=j;break}if(Z===y){T=!0,y=x,g=j;break}Z=Z.sibling}if(!T){for(Z=j.child;Z;){if(Z===g){T=!0,g=j,y=x;break}if(Z===y){T=!0,y=j,g=x;break}Z=Z.sibling}if(!T)throw Error(a(189))}}if(g.alternate!==y)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?l:c}function G(l){return l=A(l),l!==null?L(l):null}function L(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=L(l);if(c!==null)return c;l=l.sibling}return null}function F(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var c=F(l);if(c!==null)return c}l=l.sibling}return null}var W=Array.isArray,X=t.getPublicInstance,N=t.getRootHostContext,V=t.getChildHostContext,H=t.prepareForCommit,U=t.resetAfterCommit,ne=t.createInstance,ge=t.appendInitialChild,le=t.finalizeInitialChildren,re=t.prepareUpdate,K=t.shouldSetTextContent,ae=t.createTextInstance,de=t.scheduleTimeout,xe=t.cancelTimeout,oe=t.noTimeout,me=t.isPrimaryRenderer,fe=t.supportsMutation,ke=t.supportsPersistence,Ae=t.supportsHydration,ve=t.getInstanceFromNode,Ie=t.preparePortalMount,st=t.getCurrentEventPriority,Fe=t.detachDeletedInstance,Ke=t.supportsMicrotasks,_t=t.scheduleMicrotask,xt=t.supportsTestSelectors,Fn=t.findFiberRoot,Q=t.getBoundingRect,we=t.getTextContent,te=t.isHiddenSubtree,pe=t.matchAccessibilityRole,Ne=t.setFocusIfFocusable,Xe=t.setupIntersectionObserver,yt=t.appendChild,Xt=t.appendChildToContainer,an=t.commitTextUpdate,Pn=t.commitMount,gr=t.commitUpdate,ln=t.insertBefore,qn=t.insertInContainerBefore,Oe=t.removeChild,et=t.removeChildFromContainer,it=t.resetTextContent,ut=t.hideInstance,Nt=t.hideTextInstance,vr=t.unhideInstance,cn=t.unhideTextInstance,bn=t.clearContainer,Sr=t.cloneInstance,kn=t.createContainerChildSet,jn=t.appendChildToContainerChildSet,as=t.finalizeContainerChildren,un=t.replaceContainerChildren,Ao=t.cloneHiddenInstance,No=t.cloneHiddenTextInstance,$n=t.canHydrateInstance,is=t.canHydrateTextInstance,Pa=t.canHydrateSuspenseInstance,jr=t.isSuspenseInstancePending,zo=t.isSuspenseInstanceFallback,Qs=t.getSuspenseInstanceFallbackErrorDetails,ka=t.registerSuspenseInstanceRetry,ls=t.getNextHydratableSibling,Y=t.getFirstHydratableChild,J=t.getFirstHydratableChildWithinContainer,ue=t.getFirstHydratableChildWithinSuspenseInstance,be=t.hydrateInstance,Se=t.hydrateTextInstance,Qe=t.hydrateSuspenseInstance,pt=t.getNextHydratableInstanceAfterSuspenseInstance,zt=t.commitHydratedContainer,lt=t.commitHydratedSuspenseInstance,He=t.clearSuspenseBoundary,qe=t.clearSuspenseBoundaryFromContainer,Ce=t.shouldDeleteUnhydratedTailInstances,We=t.didNotMatchHydratedContainerTextInstance,St=t.didNotMatchHydratedTextInstance,Ct;function Ot(l){if(Ct===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);Ct=c&&c[1]||""}return`
`+Ct+l}var Lt=!1;function Ut(l,c){if(!l||Lt)return"";Lt=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(De){var y=De}Reflect.construct(l,[],c)}else{try{c.call()}catch(De){y=De}l.call(c.prototype)}else{try{throw Error()}catch(De){y=De}l()}}catch(De){if(De&&y&&typeof De.stack=="string"){for(var x=De.stack.split(`
`),j=y.stack.split(`
`),T=x.length-1,Z=j.length-1;1<=T&&0<=Z&&x[T]!==j[Z];)Z--;for(;1<=T&&0<=Z;T--,Z--)if(x[T]!==j[Z]){if(T!==1||Z!==1)do if(T--,Z--,0>Z||x[T]!==j[Z]){var ce=`
`+x[T].replace(" at new "," at ");return l.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",l.displayName)),ce}while(1<=T&&0<=Z);break}}}finally{Lt=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?Ot(l):""}var Ft=Object.prototype.hasOwnProperty,je=[],ht=-1;function Mt(l){return{current:l}}function Tt(l){0>ht||(l.current=je[ht],je[ht]=null,ht--)}function $t(l,c){ht++,je[ht]=l.current,l.current=c}var dn={},Vt=Mt(dn),Qt=Mt(!1),Cn=dn;function Er(l,c){var g=l.type.contextTypes;if(!g)return dn;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in g)x[j]=c[j];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=x),x}function Yn(l){return l=l.childContextTypes,l!=null}function wt(){Tt(Qt),Tt(Vt)}function xn(l,c,g){if(Vt.current!==dn)throw Error(a(168));$t(Vt,c),$t(Qt,g)}function _n(l,c,g){var y=l.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return g;y=y.getChildContext();for(var x in y)if(!(x in c))throw Error(a(108,M(l)||"Unknown",x));return s({},g,y)}function Kn(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||dn,Cn=Vt.current,$t(Vt,l),$t(Qt,Qt.current),!0}function cr(l,c,g){var y=l.stateNode;if(!y)throw Error(a(169));g?(l=_n(l,c,Cn),y.__reactInternalMemoizedMergedChildContext=l,Tt(Qt),Tt(Vt),$t(Vt,l)):Tt(Qt),$t(Qt,g)}var Rn=Math.clz32?Math.clz32:mn,Mn=Math.log,tn=Math.LN2;function mn(l){return l>>>=0,l===0?32:31-(Mn(l)/tn|0)|0}var Sn=64,fn=4194304;function pn(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ve(l,c){var g=l.pendingLanes;if(g===0)return 0;var y=0,x=l.suspendedLanes,j=l.pingedLanes,T=g&268435455;if(T!==0){var Z=T&~x;Z!==0?y=pn(Z):(j&=T,j!==0&&(y=pn(j)))}else T=g&~x,T!==0?y=pn(T):j!==0&&(y=pn(j));if(y===0)return 0;if(c!==0&&c!==y&&!(c&x)&&(x=y&-y,j=c&-c,x>=j||x===16&&(j&4194240)!==0))return c;if(y&4&&(y|=g&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=y;0<c;)g=31-Rn(c),x=1<<g,y|=l[g],c&=~x;return y}function Pt(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(l,c){for(var g=l.suspendedLanes,y=l.pingedLanes,x=l.expirationTimes,j=l.pendingLanes;0<j;){var T=31-Rn(j),Z=1<<T,ce=x[T];ce===-1?(!(Z&g)||Z&y)&&(x[T]=Pt(Z,c)):ce<=c&&(l.expiredLanes|=Z),j&=~Z}}function tt(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function mt(){var l=Sn;return Sn<<=1,!(Sn&4194240)&&(Sn=64),l}function Dt(l){for(var c=[],g=0;31>g;g++)c.push(l);return c}function dt(l,c,g){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-Rn(c),l[c]=g}function Je(l,c){var g=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<g;){var x=31-Rn(g),j=1<<x;c[x]=0,y[x]=-1,l[x]=-1,g&=~j}}function Ee(l,c){var g=l.entangledLanes|=c;for(l=l.entanglements;g;){var y=31-Rn(g),x=1<<y;x&c|l[y]&c&&(l[y]|=c),g&=~x}}var _e=0;function Te(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var ze=o.unstable_scheduleCallback,Ze=o.unstable_cancelCallback,jt=o.unstable_shouldYield,kt=o.unstable_requestPaint,$e=o.unstable_now,Gt=o.unstable_ImmediatePriority,hn=o.unstable_UserBlockingPriority,rn=o.unstable_NormalPriority,ur=o.unstable_IdlePriority,Bn=null,sn=null;function Ln(l){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Bn,l,void 0,(l.current.flags&128)===128)}catch{}}function Zr(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var nn=typeof Object.is=="function"?Object.is:Zr,Tn=null,$r=!1,Ir=!1;function _a(l){Tn===null?Tn=[l]:Tn.push(l)}function Ku(l){$r=!0,_a(l)}function Co(){if(!Ir&&Tn!==null){Ir=!0;var l=0,c=_e;try{var g=Tn;for(_e=1;l<g.length;l++){var y=g[l];do y=y(!0);while(y!==null)}Tn=null,$r=!1}catch(x){throw Tn!==null&&(Tn=Tn.slice(l+1)),ze(Gt,Co),x}finally{_e=c,Ir=!1}}return null}var Zs=[],Os=0,Js=null,Jr=0,eo=[],to=0,$o=null,Po=1,Hr="";function ui(l,c){Zs[Os++]=Jr,Zs[Os++]=Js,Js=l,Jr=c}function Ly(l,c,g){eo[to++]=Po,eo[to++]=Hr,eo[to++]=$o,$o=l;var y=Po;l=Hr;var x=32-Rn(y)-1;y&=~(1<<x),g+=1;var j=32-Rn(c)+x;if(30<j){var T=x-x%5;j=(y&(1<<T)-1).toString(32),y>>=T,x-=T,Po=1<<32-Rn(c)+x|g<<x|y,Hr=j+l}else Po=1<<j|g<<x|y,Hr=l}function rm(l){l.return!==null&&(ui(l,1),Ly(l,1,0))}function om(l){for(;l===Js;)Js=Zs[--Os],Zs[Os]=null,Jr=Zs[--Os],Zs[Os]=null;for(;l===$o;)$o=eo[--to],eo[to]=null,Hr=eo[--to],eo[to]=null,Po=eo[--to],eo[to]=null}var ko=null,Lo=null,Xn=!1,vc=!1,cs=null;function Fy(l,c){var g=Vo(5,null,null,0);g.elementType="DELETED",g.stateNode=c,g.return=l,c=l.deletions,c===null?(l.deletions=[g],l.flags|=16):c.push(g)}function By(l,c){switch(l.tag){case 5:return c=$n(c,l.type,l.pendingProps),c!==null?(l.stateNode=c,ko=l,Lo=Y(c),!0):!1;case 6:return c=is(c,l.pendingProps),c!==null?(l.stateNode=c,ko=l,Lo=null,!0):!1;case 13:if(c=Pa(c),c!==null){var g=$o!==null?{id:Po,overflow:Hr}:null;return l.memoizedState={dehydrated:c,treeContext:g,retryLane:1073741824},g=Vo(18,null,null,0),g.stateNode=c,g.return=l,l.child=g,ko=l,Lo=null,!0}return!1;default:return!1}}function sm(l){return(l.mode&1)!==0&&(l.flags&128)===0}function am(l){if(Xn){var c=Lo;if(c){var g=c;if(!By(l,c)){if(sm(l))throw Error(a(418));c=ls(g);var y=ko;c&&By(l,c)?Fy(y,g):(l.flags=l.flags&-4097|2,Xn=!1,ko=l)}}else{if(sm(l))throw Error(a(418));l.flags=l.flags&-4097|2,Xn=!1,ko=l}}}function Hy(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ko=l}function Xu(l){if(!Ae||l!==ko)return!1;if(!Xn)return Hy(l),Xn=!0,!1;if(l.tag!==3&&(l.tag!==5||Ce(l.type)&&!K(l.type,l.memoizedProps))){var c=Lo;if(c){if(sm(l))throw Wy(),Error(a(418));for(;c;)Fy(l,c),c=ls(c)}}if(Hy(l),l.tag===13){if(!Ae)throw Error(a(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));Lo=pt(l)}else Lo=ko?ls(l.stateNode):null;return!0}function Wy(){for(var l=Lo;l;)l=ls(l)}function rl(){Ae&&(Lo=ko=null,vc=Xn=!1)}function im(l){cs===null?cs=[l]:cs.push(l)}var fI=u.ReactCurrentBatchConfig;function Qu(l,c){if(nn(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var g=Object.keys(l),y=Object.keys(c);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var x=g[y];if(!Ft.call(c,x)||!nn(l[x],c[x]))return!1}return!0}function pI(l){switch(l.tag){case 5:return Ot(l.type);case 16:return Ot("Lazy");case 13:return Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 2:case 15:return l=Ut(l.type,!1),l;case 11:return l=Ut(l.type.render,!1),l;case 1:return l=Ut(l.type,!0),l;default:return""}}function us(l,c){if(l&&l.defaultProps){c=s({},c),l=l.defaultProps;for(var g in l)c[g]===void 0&&(c[g]=l[g]);return c}return c}var Zu=Mt(null),Ju=null,ol=null,lm=null;function cm(){lm=ol=Ju=null}function Vy(l,c,g){me?($t(Zu,c._currentValue),c._currentValue=g):($t(Zu,c._currentValue2),c._currentValue2=g)}function um(l){var c=Zu.current;Tt(Zu),me?l._currentValue=c:l._currentValue2=c}function dm(l,c,g){for(;l!==null;){var y=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),l===g)break;l=l.return}}function sl(l,c){Ju=l,lm=ol=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&c&&(io=!0),l.firstContext=null)}function Fo(l){var c=me?l._currentValue:l._currentValue2;if(lm!==l)if(l={context:l,memoizedValue:c,next:null},ol===null){if(Ju===null)throw Error(a(308));ol=l,Ju.dependencies={lanes:0,firstContext:l}}else ol=ol.next=l;return c}var di=null;function fm(l){di===null?di=[l]:di.push(l)}function Uy(l,c,g,y){var x=c.interleaved;return x===null?(g.next=g,fm(c)):(g.next=x.next,x.next=g),c.interleaved=g,Rs(l,y)}function Rs(l,c){l.lanes|=c;var g=l.alternate;for(g!==null&&(g.lanes|=c),g=l,l=l.return;l!==null;)l.childLanes|=c,g=l.alternate,g!==null&&(g.childLanes|=c),g=l,l=l.return;return g.tag===3?g.stateNode:null}var ja=!1;function pm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gy(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ea(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Ea(l,c,g){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,Zt&2){var x=y.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),y.pending=c,Rs(l,g)}return x=y.interleaved,x===null?(c.next=c,fm(y)):(c.next=x.next,x.next=c),y.interleaved=c,Rs(l,g)}function ed(l,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194240)!==0)){var y=c.lanes;y&=l.pendingLanes,g|=y,c.lanes=g,Ee(l,g)}}function qy(l,c){var g=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var x=null,j=null;if(g=g.firstBaseUpdate,g!==null){do{var T={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};j===null?x=j=T:j=j.next=T,g=g.next}while(g!==null);j===null?x=j=c:j=j.next=c}else x=j=c;g={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:y.shared,effects:y.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=c:l.next=c,g.lastBaseUpdate=c}function td(l,c,g,y){var x=l.updateQueue;ja=!1;var j=x.firstBaseUpdate,T=x.lastBaseUpdate,Z=x.shared.pending;if(Z!==null){x.shared.pending=null;var ce=Z,De=ce.next;ce.next=null,T===null?j=De:T.next=De,T=ce;var ft=l.alternate;ft!==null&&(ft=ft.updateQueue,Z=ft.lastBaseUpdate,Z!==T&&(Z===null?ft.firstBaseUpdate=De:Z.next=De,ft.lastBaseUpdate=ce))}if(j!==null){var Bt=x.baseState;T=0,ft=De=ce=null,Z=j;do{var rt=Z.lane,Hn=Z.eventTime;if((y&rt)===rt){ft!==null&&(ft=ft.next={eventTime:Hn,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Dn=l,uo=Z;switch(rt=c,Hn=g,uo.tag){case 1:if(Dn=uo.payload,typeof Dn=="function"){Bt=Dn.call(Hn,Bt,rt);break e}Bt=Dn;break e;case 3:Dn.flags=Dn.flags&-65537|128;case 0:if(Dn=uo.payload,rt=typeof Dn=="function"?Dn.call(Hn,Bt,rt):Dn,rt==null)break e;Bt=s({},Bt,rt);break e;case 2:ja=!0}}Z.callback!==null&&Z.lane!==0&&(l.flags|=64,rt=x.effects,rt===null?x.effects=[Z]:rt.push(Z))}else Hn={eventTime:Hn,lane:rt,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ft===null?(De=ft=Hn,ce=Bt):ft=ft.next=Hn,T|=rt;if(Z=Z.next,Z===null){if(Z=x.shared.pending,Z===null)break;rt=Z,Z=rt.next,rt.next=null,x.lastBaseUpdate=rt,x.shared.pending=null}}while(1);if(ft===null&&(ce=Bt),x.baseState=ce,x.firstBaseUpdate=De,x.lastBaseUpdate=ft,c=x.shared.interleaved,c!==null){x=c;do T|=x.lane,x=x.next;while(x!==c)}else j===null&&(x.shared.lanes=0);pi|=T,l.lanes=T,l.memoizedState=Bt}}function Yy(l,c,g){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var y=l[c],x=y.callback;if(x!==null){if(y.callback=null,y=g,typeof x!="function")throw Error(a(191,x));x.call(y)}}}var Ky=new r.Component().refs;function hm(l,c,g,y){c=l.memoizedState,g=g(y,c),g=g==null?c:s({},c,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var nd={isMounted:function(l){return(l=l._reactInternals)?D(l)===l:!1},enqueueSetState:function(l,c,g){l=l._reactInternals;var y=Gr(),x=Ra(l),j=ea(y,x);j.payload=c,g!=null&&(j.callback=g),c=Ea(l,j,x),c!==null&&(Wo(c,l,x,y),ed(c,l,x))},enqueueReplaceState:function(l,c,g){l=l._reactInternals;var y=Gr(),x=Ra(l),j=ea(y,x);j.tag=1,j.payload=c,g!=null&&(j.callback=g),c=Ea(l,j,x),c!==null&&(Wo(c,l,x,y),ed(c,l,x))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var g=Gr(),y=Ra(l),x=ea(g,y);x.tag=2,c!=null&&(x.callback=c),c=Ea(l,x,y),c!==null&&(Wo(c,l,y,g),ed(c,l,y))}};function Xy(l,c,g,y,x,j,T){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,j,T):c.prototype&&c.prototype.isPureReactComponent?!Qu(g,y)||!Qu(x,j):!0}function Qy(l,c,g){var y=!1,x=dn,j=c.contextType;return typeof j=="object"&&j!==null?j=Fo(j):(x=Yn(c)?Cn:Vt.current,y=c.contextTypes,j=(y=y!=null)?Er(l,x):dn),c=new c(g,j),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=nd,l.stateNode=c,c._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=j),c}function Zy(l,c,g,y){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,y),c.state!==l&&nd.enqueueReplaceState(c,c.state,null)}function mm(l,c,g,y){var x=l.stateNode;x.props=g,x.state=l.memoizedState,x.refs=Ky,pm(l);var j=c.contextType;typeof j=="object"&&j!==null?x.context=Fo(j):(j=Yn(c)?Cn:Vt.current,x.context=Er(l,j)),x.state=l.memoizedState,j=c.getDerivedStateFromProps,typeof j=="function"&&(hm(l,c,j,g),x.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(c=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),c!==x.state&&nd.enqueueReplaceState(x,x.state,null),td(l,g,x,y),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function yc(l,c,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(a(309));var y=g.stateNode}if(!y)throw Error(a(147,l));var x=y,j=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===j?c.ref:(c=function(T){var Z=x.refs;Z===Ky&&(Z=x.refs={}),T===null?delete Z[j]:Z[j]=T},c._stringRef=j,c)}if(typeof l!="string")throw Error(a(284));if(!g._owner)throw Error(a(290,l))}return l}function rd(l,c){throw l=Object.prototype.toString.call(c),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function Jy(l){var c=l._init;return c(l._payload)}function eb(l){function c(ie,ee){if(l){var he=ie.deletions;he===null?(ie.deletions=[ee],ie.flags|=16):he.push(ee)}}function g(ie,ee){if(!l)return null;for(;ee!==null;)c(ie,ee),ee=ee.sibling;return null}function y(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function x(ie,ee){return ie=Ta(ie,ee),ie.index=0,ie.sibling=null,ie}function j(ie,ee,he){return ie.index=he,l?(he=ie.alternate,he!==null?(he=he.index,he<ee?(ie.flags|=2,ee):he):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function T(ie){return l&&ie.alternate===null&&(ie.flags|=2),ie}function Z(ie,ee,he,ot){return ee===null||ee.tag!==6?(ee=ng(he,ie.mode,ot),ee.return=ie,ee):(ee=x(ee,he),ee.return=ie,ee)}function ce(ie,ee,he,ot){var Et=he.type;return Et===h?ft(ie,ee,he.props.children,ot,he.key):ee!==null&&(ee.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===_&&Jy(Et)===ee.type)?(ot=x(ee,he.props),ot.ref=yc(ie,ee,he),ot.return=ie,ot):(ot=Id(he.type,he.key,he.props,null,ie.mode,ot),ot.ref=yc(ie,ee,he),ot.return=ie,ot)}function De(ie,ee,he,ot){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==he.containerInfo||ee.stateNode.implementation!==he.implementation?(ee=rg(he,ie.mode,ot),ee.return=ie,ee):(ee=x(ee,he.children||[]),ee.return=ie,ee)}function ft(ie,ee,he,ot,Et){return ee===null||ee.tag!==7?(ee=vi(he,ie.mode,ot,Et),ee.return=ie,ee):(ee=x(ee,he),ee.return=ie,ee)}function Bt(ie,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=ng(""+ee,ie.mode,he),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case d:return he=Id(ee.type,ee.key,ee.props,null,ie.mode,he),he.ref=yc(ie,null,ee),he.return=ie,he;case f:return ee=rg(ee,ie.mode,he),ee.return=ie,ee;case _:var ot=ee._init;return Bt(ie,ot(ee._payload),he)}if(W(ee)||O(ee))return ee=vi(ee,ie.mode,he,null),ee.return=ie,ee;rd(ie,ee)}return null}function rt(ie,ee,he,ot){var Et=ee!==null?ee.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Et!==null?null:Z(ie,ee,""+he,ot);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case d:return he.key===Et?ce(ie,ee,he,ot):null;case f:return he.key===Et?De(ie,ee,he,ot):null;case _:return Et=he._init,rt(ie,ee,Et(he._payload),ot)}if(W(he)||O(he))return Et!==null?null:ft(ie,ee,he,ot,null);rd(ie,he)}return null}function Hn(ie,ee,he,ot,Et){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ie=ie.get(he)||null,Z(ee,ie,""+ot,Et);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case d:return ie=ie.get(ot.key===null?he:ot.key)||null,ce(ee,ie,ot,Et);case f:return ie=ie.get(ot.key===null?he:ot.key)||null,De(ee,ie,ot,Et);case _:var Yt=ot._init;return Hn(ie,ee,he,Yt(ot._payload),Et)}if(W(ot)||O(ot))return ie=ie.get(he)||null,ft(ee,ie,ot,Et,null);rd(ee,ot)}return null}function Dn(ie,ee,he,ot){for(var Et=null,Yt=null,Ht=ee,gn=ee=0,zr=null;Ht!==null&&gn<he.length;gn++){Ht.index>gn?(zr=Ht,Ht=null):zr=Ht.sibling;var vn=rt(ie,Ht,he[gn],ot);if(vn===null){Ht===null&&(Ht=zr);break}l&&Ht&&vn.alternate===null&&c(ie,Ht),ee=j(vn,ee,gn),Yt===null?Et=vn:Yt.sibling=vn,Yt=vn,Ht=zr}if(gn===he.length)return g(ie,Ht),Xn&&ui(ie,gn),Et;if(Ht===null){for(;gn<he.length;gn++)Ht=Bt(ie,he[gn],ot),Ht!==null&&(ee=j(Ht,ee,gn),Yt===null?Et=Ht:Yt.sibling=Ht,Yt=Ht);return Xn&&ui(ie,gn),Et}for(Ht=y(ie,Ht);gn<he.length;gn++)zr=Hn(Ht,ie,gn,he[gn],ot),zr!==null&&(l&&zr.alternate!==null&&Ht.delete(zr.key===null?gn:zr.key),ee=j(zr,ee,gn),Yt===null?Et=zr:Yt.sibling=zr,Yt=zr);return l&&Ht.forEach(function(Da){return c(ie,Da)}),Xn&&ui(ie,gn),Et}function uo(ie,ee,he,ot){var Et=O(he);if(typeof Et!="function")throw Error(a(150));if(he=Et.call(he),he==null)throw Error(a(151));for(var Yt=Et=null,Ht=ee,gn=ee=0,zr=null,vn=he.next();Ht!==null&&!vn.done;gn++,vn=he.next()){Ht.index>gn?(zr=Ht,Ht=null):zr=Ht.sibling;var Da=rt(ie,Ht,vn.value,ot);if(Da===null){Ht===null&&(Ht=zr);break}l&&Ht&&Da.alternate===null&&c(ie,Ht),ee=j(Da,ee,gn),Yt===null?Et=Da:Yt.sibling=Da,Yt=Da,Ht=zr}if(vn.done)return g(ie,Ht),Xn&&ui(ie,gn),Et;if(Ht===null){for(;!vn.done;gn++,vn=he.next())vn=Bt(ie,vn.value,ot),vn!==null&&(ee=j(vn,ee,gn),Yt===null?Et=vn:Yt.sibling=vn,Yt=vn);return Xn&&ui(ie,gn),Et}for(Ht=y(ie,Ht);!vn.done;gn++,vn=he.next())vn=Hn(Ht,ie,gn,vn.value,ot),vn!==null&&(l&&vn.alternate!==null&&Ht.delete(vn.key===null?gn:vn.key),ee=j(vn,ee,gn),Yt===null?Et=vn:Yt.sibling=vn,Yt=vn);return l&&Ht.forEach(function(WI){return c(ie,WI)}),Xn&&ui(ie,gn),Et}function ra(ie,ee,he,ot){if(typeof he=="object"&&he!==null&&he.type===h&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case d:e:{for(var Et=he.key,Yt=ee;Yt!==null;){if(Yt.key===Et){if(Et=he.type,Et===h){if(Yt.tag===7){g(ie,Yt.sibling),ee=x(Yt,he.props.children),ee.return=ie,ie=ee;break e}}else if(Yt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===_&&Jy(Et)===Yt.type){g(ie,Yt.sibling),ee=x(Yt,he.props),ee.ref=yc(ie,Yt,he),ee.return=ie,ie=ee;break e}g(ie,Yt);break}else c(ie,Yt);Yt=Yt.sibling}he.type===h?(ee=vi(he.props.children,ie.mode,ot,he.key),ee.return=ie,ie=ee):(ot=Id(he.type,he.key,he.props,null,ie.mode,ot),ot.ref=yc(ie,ee,he),ot.return=ie,ie=ot)}return T(ie);case f:e:{for(Yt=he.key;ee!==null;){if(ee.key===Yt)if(ee.tag===4&&ee.stateNode.containerInfo===he.containerInfo&&ee.stateNode.implementation===he.implementation){g(ie,ee.sibling),ee=x(ee,he.children||[]),ee.return=ie,ie=ee;break e}else{g(ie,ee);break}else c(ie,ee);ee=ee.sibling}ee=rg(he,ie.mode,ot),ee.return=ie,ie=ee}return T(ie);case _:return Yt=he._init,ra(ie,ee,Yt(he._payload),ot)}if(W(he))return Dn(ie,ee,he,ot);if(O(he))return uo(ie,ee,he,ot);rd(ie,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ee!==null&&ee.tag===6?(g(ie,ee.sibling),ee=x(ee,he),ee.return=ie,ie=ee):(g(ie,ee),ee=ng(he,ie.mode,ot),ee.return=ie,ie=ee),T(ie)):g(ie,ee)}return ra}var al=eb(!0),tb=eb(!1),bc={},Bo=Mt(bc),xc=Mt(bc),il=Mt(bc);function Ms(l){if(l===bc)throw Error(a(174));return l}function gm(l,c){$t(il,c),$t(xc,l),$t(Bo,bc),l=N(c),Tt(Bo),$t(Bo,l)}function ll(){Tt(Bo),Tt(xc),Tt(il)}function nb(l){var c=Ms(il.current),g=Ms(Bo.current);c=V(g,l.type,c),g!==c&&($t(xc,l),$t(Bo,c))}function vm(l){xc.current===l&&(Tt(Bo),Tt(xc))}var rr=Mt(0);function od(l){for(var c=l;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||jr(g)||zo(g)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ym=[];function bm(){for(var l=0;l<ym.length;l++){var c=ym[l];me?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}ym.length=0}var sd=u.ReactCurrentDispatcher,xm=u.ReactCurrentBatchConfig,fi=0,or=null,Or=null,Ar=null,ad=!1,Sc=!1,wc=0,hI=0;function Wr(){throw Error(a(321))}function Sm(l,c){if(c===null)return!1;for(var g=0;g<c.length&&g<l.length;g++)if(!nn(l[g],c[g]))return!1;return!0}function wm(l,c,g,y,x,j){if(fi=j,or=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,sd.current=l===null||l.memoizedState===null?yI:bI,l=g(y,x),Sc){j=0;do{if(Sc=!1,wc=0,25<=j)throw Error(a(301));j+=1,Ar=Or=null,c.updateQueue=null,sd.current=xI,l=g(y,x)}while(Sc)}if(sd.current=cd,c=Or!==null&&Or.next!==null,fi=0,Ar=Or=or=null,ad=!1,c)throw Error(a(300));return l}function Cm(){var l=wc!==0;return wc=0,l}function Ts(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?or.memoizedState=Ar=l:Ar=Ar.next=l,Ar}function Ho(){if(Or===null){var l=or.alternate;l=l!==null?l.memoizedState:null}else l=Or.next;var c=Ar===null?or.memoizedState:Ar.next;if(c!==null)Ar=c,Or=l;else{if(l===null)throw Error(a(310));Or=l,l={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Ar===null?or.memoizedState=Ar=l:Ar=Ar.next=l}return Ar}function Cc(l,c){return typeof c=="function"?c(l):c}function Pm(l){var c=Ho(),g=c.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var y=Or,x=y.baseQueue,j=g.pending;if(j!==null){if(x!==null){var T=x.next;x.next=j.next,j.next=T}y.baseQueue=x=j,g.pending=null}if(x!==null){j=x.next,y=y.baseState;var Z=T=null,ce=null,De=j;do{var ft=De.lane;if((fi&ft)===ft)ce!==null&&(ce=ce.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),y=De.hasEagerState?De.eagerState:l(y,De.action);else{var Bt={lane:ft,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ce===null?(Z=ce=Bt,T=y):ce=ce.next=Bt,or.lanes|=ft,pi|=ft}De=De.next}while(De!==null&&De!==j);ce===null?T=y:ce.next=Z,nn(y,c.memoizedState)||(io=!0),c.memoizedState=y,c.baseState=T,c.baseQueue=ce,g.lastRenderedState=y}if(l=g.interleaved,l!==null){x=l;do j=x.lane,or.lanes|=j,pi|=j,x=x.next;while(x!==l)}else x===null&&(g.lanes=0);return[c.memoizedState,g.dispatch]}function km(l){var c=Ho(),g=c.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var y=g.dispatch,x=g.pending,j=c.memoizedState;if(x!==null){g.pending=null;var T=x=x.next;do j=l(j,T.action),T=T.next;while(T!==x);nn(j,c.memoizedState)||(io=!0),c.memoizedState=j,c.baseQueue===null&&(c.baseState=j),g.lastRenderedState=j}return[j,y]}function rb(){}function ob(l,c){var g=or,y=Ho(),x=c(),j=!nn(y.memoizedState,x);if(j&&(y.memoizedState=x,io=!0),y=y.queue,_m(ib.bind(null,g,y,l),[l]),y.getSnapshot!==c||j||Ar!==null&&Ar.memoizedState.tag&1){if(g.flags|=2048,Pc(9,ab.bind(null,g,y,x,c),void 0,null),Nr===null)throw Error(a(349));fi&30||sb(g,c,x)}return x}function sb(l,c,g){l.flags|=16384,l={getSnapshot:c,value:g},c=or.updateQueue,c===null?(c={lastEffect:null,stores:null},or.updateQueue=c,c.stores=[l]):(g=c.stores,g===null?c.stores=[l]:g.push(l))}function ab(l,c,g,y){c.value=g,c.getSnapshot=y,lb(c)&&cb(l)}function ib(l,c,g){return g(function(){lb(c)&&cb(l)})}function lb(l){var c=l.getSnapshot;l=l.value;try{var g=c();return!nn(l,g)}catch{return!0}}function cb(l){var c=Rs(l,1);c!==null&&Wo(c,l,1,-1)}function ub(l){var c=Ts();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:l},c.queue=l,l=l.dispatch=vI.bind(null,or,l),[c.memoizedState,l]}function Pc(l,c,g,y){return l={tag:l,create:c,destroy:g,deps:y,next:null},c=or.updateQueue,c===null?(c={lastEffect:null,stores:null},or.updateQueue=c,c.lastEffect=l.next=l):(g=c.lastEffect,g===null?c.lastEffect=l.next=l:(y=g.next,g.next=l,l.next=y,c.lastEffect=l)),l}function db(){return Ho().memoizedState}function id(l,c,g,y){var x=Ts();or.flags|=l,x.memoizedState=Pc(1|c,g,void 0,y===void 0?null:y)}function ld(l,c,g,y){var x=Ho();y=y===void 0?null:y;var j=void 0;if(Or!==null){var T=Or.memoizedState;if(j=T.destroy,y!==null&&Sm(y,T.deps)){x.memoizedState=Pc(c,g,j,y);return}}or.flags|=l,x.memoizedState=Pc(1|c,g,j,y)}function fb(l,c){return id(8390656,8,l,c)}function _m(l,c){return ld(2048,8,l,c)}function pb(l,c){return ld(4,2,l,c)}function hb(l,c){return ld(4,4,l,c)}function mb(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function gb(l,c,g){return g=g!=null?g.concat([l]):null,ld(4,4,mb.bind(null,c,l),g)}function jm(){}function vb(l,c){var g=Ho();c=c===void 0?null:c;var y=g.memoizedState;return y!==null&&c!==null&&Sm(c,y[1])?y[0]:(g.memoizedState=[l,c],l)}function yb(l,c){var g=Ho();c=c===void 0?null:c;var y=g.memoizedState;return y!==null&&c!==null&&Sm(c,y[1])?y[0]:(l=l(),g.memoizedState=[l,c],l)}function bb(l,c,g){return fi&21?(nn(g,c)||(g=mt(),or.lanes|=g,pi|=g,l.baseState=!0),c):(l.baseState&&(l.baseState=!1,io=!0),l.memoizedState=g)}function mI(l,c){var g=_e;_e=g!==0&&4>g?g:4,l(!0);var y=xm.transition;xm.transition={};try{l(!1),c()}finally{_e=g,xm.transition=y}}function xb(){return Ho().memoizedState}function gI(l,c,g){var y=Ra(l);if(g={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null},Sb(l))wb(c,g);else if(g=Uy(l,c,g,y),g!==null){var x=Gr();Wo(g,l,y,x),Cb(g,c,y)}}function vI(l,c,g){var y=Ra(l),x={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null};if(Sb(l))wb(c,x);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=c.lastRenderedReducer,j!==null))try{var T=c.lastRenderedState,Z=j(T,g);if(x.hasEagerState=!0,x.eagerState=Z,nn(Z,T)){var ce=c.interleaved;ce===null?(x.next=x,fm(c)):(x.next=ce.next,ce.next=x),c.interleaved=x;return}}catch{}finally{}g=Uy(l,c,x,y),g!==null&&(x=Gr(),Wo(g,l,y,x),Cb(g,c,y))}}function Sb(l){var c=l.alternate;return l===or||c!==null&&c===or}function wb(l,c){Sc=ad=!0;var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}function Cb(l,c,g){if(g&4194240){var y=c.lanes;y&=l.pendingLanes,g|=y,c.lanes=g,Ee(l,g)}}var cd={readContext:Fo,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},yI={readContext:Fo,useCallback:function(l,c){return Ts().memoizedState=[l,c===void 0?null:c],l},useContext:Fo,useEffect:fb,useImperativeHandle:function(l,c,g){return g=g!=null?g.concat([l]):null,id(4194308,4,mb.bind(null,c,l),g)},useLayoutEffect:function(l,c){return id(4194308,4,l,c)},useInsertionEffect:function(l,c){return id(4,2,l,c)},useMemo:function(l,c){var g=Ts();return c=c===void 0?null:c,l=l(),g.memoizedState=[l,c],l},useReducer:function(l,c,g){var y=Ts();return c=g!==void 0?g(c):c,y.memoizedState=y.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},y.queue=l,l=l.dispatch=gI.bind(null,or,l),[y.memoizedState,l]},useRef:function(l){var c=Ts();return l={current:l},c.memoizedState=l},useState:ub,useDebugValue:jm,useDeferredValue:function(l){return Ts().memoizedState=l},useTransition:function(){var l=ub(!1),c=l[0];return l=mI.bind(null,l[1]),Ts().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,g){var y=or,x=Ts();if(Xn){if(g===void 0)throw Error(a(407));g=g()}else{if(g=c(),Nr===null)throw Error(a(349));fi&30||sb(y,c,g)}x.memoizedState=g;var j={value:g,getSnapshot:c};return x.queue=j,fb(ib.bind(null,y,j,l),[l]),y.flags|=2048,Pc(9,ab.bind(null,y,j,g,c),void 0,null),g},useId:function(){var l=Ts(),c=Nr.identifierPrefix;if(Xn){var g=Hr,y=Po;g=(y&~(1<<32-Rn(y)-1)).toString(32)+g,c=":"+c+"R"+g,g=wc++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=hI++,c=":"+c+"r"+g.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},bI={readContext:Fo,useCallback:vb,useContext:Fo,useEffect:_m,useImperativeHandle:gb,useInsertionEffect:pb,useLayoutEffect:hb,useMemo:yb,useReducer:Pm,useRef:db,useState:function(){return Pm(Cc)},useDebugValue:jm,useDeferredValue:function(l){var c=Ho();return bb(c,Or.memoizedState,l)},useTransition:function(){var l=Pm(Cc)[0],c=Ho().memoizedState;return[l,c]},useMutableSource:rb,useSyncExternalStore:ob,useId:xb,unstable_isNewReconciler:!1},xI={readContext:Fo,useCallback:vb,useContext:Fo,useEffect:_m,useImperativeHandle:gb,useInsertionEffect:pb,useLayoutEffect:hb,useMemo:yb,useReducer:km,useRef:db,useState:function(){return km(Cc)},useDebugValue:jm,useDeferredValue:function(l){var c=Ho();return Or===null?c.memoizedState=l:bb(c,Or.memoizedState,l)},useTransition:function(){var l=km(Cc)[0],c=Ho().memoizedState;return[l,c]},useMutableSource:rb,useSyncExternalStore:ob,useId:xb,unstable_isNewReconciler:!1};function cl(l,c){try{var g="",y=c;do g+=pI(y),y=y.return;while(y);var x=g}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:c,stack:x,digest:null}}function Em(l,c,g){return{value:l,source:null,stack:g??null,digest:c??null}}function Im(l,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var SI=typeof WeakMap=="function"?WeakMap:Map;function Pb(l,c,g){g=ea(-1,g),g.tag=3,g.payload={element:null};var y=c.value;return g.callback=function(){Cd||(Cd=!0,Km=y),Im(l,c)},g}function kb(l,c,g){g=ea(-1,g),g.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=c.value;g.payload=function(){return y(x)},g.callback=function(){Im(l,c)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(g.callback=function(){Im(l,c),typeof y!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})}),g}function _b(l,c,g){var y=l.pingCache;if(y===null){y=l.pingCache=new SI;var x=new Set;y.set(c,x)}else x=y.get(c),x===void 0&&(x=new Set,y.set(c,x));x.has(g)||(x.add(g),l=AI.bind(null,l,c,g),c.then(l,l))}function jb(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function Eb(l,c,g,y,x){return l.mode&1?(l.flags|=65536,l.lanes=x,l):(l===c?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(c=ea(-1,1),c.tag=2,Ea(g,c,1))),g.lanes|=1),l)}var wI=u.ReactCurrentOwner,io=!1;function no(l,c,g,y){c.child=l===null?tb(c,null,g,y):al(c,l.child,g,y)}function Ib(l,c,g,y,x){g=g.render;var j=c.ref;return sl(c,x),y=wm(l,c,g,y,j,x),g=Cm(),l!==null&&!io?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~x,ta(l,c,x)):(Xn&&g&&rm(c),c.flags|=1,no(l,c,y,x),c.child)}function Ob(l,c,g,y,x){if(l===null){var j=g.type;return typeof j=="function"&&!tg(j)&&j.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=j,Rb(l,c,j,y,x)):(l=Id(g.type,null,y,c,c.mode,x),l.ref=c.ref,l.return=c,c.child=l)}if(j=l.child,!(l.lanes&x)){var T=j.memoizedProps;if(g=g.compare,g=g!==null?g:Qu,g(T,y)&&l.ref===c.ref)return ta(l,c,x)}return c.flags|=1,l=Ta(j,y),l.ref=c.ref,l.return=c,c.child=l}function Rb(l,c,g,y,x){if(l!==null){var j=l.memoizedProps;if(Qu(j,y)&&l.ref===c.ref)if(io=!1,c.pendingProps=y=j,(l.lanes&x)!==0)l.flags&131072&&(io=!0);else return c.lanes=l.lanes,ta(l,c,x)}return Om(l,c,g,y,x)}function Mb(l,c,g){var y=c.pendingProps,x=y.children,j=l!==null?l.memoizedState:null;if(y.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(dl,_o),_o|=g;else{if(!(g&1073741824))return l=j!==null?j.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,$t(dl,_o),_o|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=j!==null?j.baseLanes:g,$t(dl,_o),_o|=y}else j!==null?(y=j.baseLanes|g,c.memoizedState=null):y=g,$t(dl,_o),_o|=y;return no(l,c,x,g),c.child}function Tb(l,c){var g=c.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(c.flags|=512,c.flags|=2097152)}function Om(l,c,g,y,x){var j=Yn(g)?Cn:Vt.current;return j=Er(c,j),sl(c,x),g=wm(l,c,g,y,j,x),y=Cm(),l!==null&&!io?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~x,ta(l,c,x)):(Xn&&y&&rm(c),c.flags|=1,no(l,c,g,x),c.child)}function Db(l,c,g,y,x){if(Yn(g)){var j=!0;Kn(c)}else j=!1;if(sl(c,x),c.stateNode===null)dd(l,c),Qy(c,g,y),mm(c,g,y,x),y=!0;else if(l===null){var T=c.stateNode,Z=c.memoizedProps;T.props=Z;var ce=T.context,De=g.contextType;typeof De=="object"&&De!==null?De=Fo(De):(De=Yn(g)?Cn:Vt.current,De=Er(c,De));var ft=g.getDerivedStateFromProps,Bt=typeof ft=="function"||typeof T.getSnapshotBeforeUpdate=="function";Bt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(Z!==y||ce!==De)&&Zy(c,T,y,De),ja=!1;var rt=c.memoizedState;T.state=rt,td(c,y,T,x),ce=c.memoizedState,Z!==y||rt!==ce||Qt.current||ja?(typeof ft=="function"&&(hm(c,g,ft,y),ce=c.memoizedState),(Z=ja||Xy(c,g,Z,y,rt,ce,De))?(Bt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ce),T.props=y,T.state=ce,T.context=De,y=Z):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{T=c.stateNode,Gy(l,c),Z=c.memoizedProps,De=c.type===c.elementType?Z:us(c.type,Z),T.props=De,Bt=c.pendingProps,rt=T.context,ce=g.contextType,typeof ce=="object"&&ce!==null?ce=Fo(ce):(ce=Yn(g)?Cn:Vt.current,ce=Er(c,ce));var Hn=g.getDerivedStateFromProps;(ft=typeof Hn=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(Z!==Bt||rt!==ce)&&Zy(c,T,y,ce),ja=!1,rt=c.memoizedState,T.state=rt,td(c,y,T,x);var Dn=c.memoizedState;Z!==Bt||rt!==Dn||Qt.current||ja?(typeof Hn=="function"&&(hm(c,g,Hn,y),Dn=c.memoizedState),(De=ja||Xy(c,g,De,y,rt,Dn,ce)||!1)?(ft||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,Dn,ce),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,Dn,ce)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||Z===l.memoizedProps&&rt===l.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||Z===l.memoizedProps&&rt===l.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Dn),T.props=y,T.state=Dn,T.context=ce,y=De):(typeof T.componentDidUpdate!="function"||Z===l.memoizedProps&&rt===l.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||Z===l.memoizedProps&&rt===l.memoizedState||(c.flags|=1024),y=!1)}return Rm(l,c,g,y,j,x)}function Rm(l,c,g,y,x,j){Tb(l,c);var T=(c.flags&128)!==0;if(!y&&!T)return x&&cr(c,g,!1),ta(l,c,j);y=c.stateNode,wI.current=c;var Z=T&&typeof g.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,l!==null&&T?(c.child=al(c,l.child,null,j),c.child=al(c,null,Z,j)):no(l,c,Z,j),c.memoizedState=y.state,x&&cr(c,g,!0),c.child}function Ab(l){var c=l.stateNode;c.pendingContext?xn(l,c.pendingContext,c.pendingContext!==c.context):c.context&&xn(l,c.context,!1),gm(l,c.containerInfo)}function Nb(l,c,g,y,x){return rl(),im(x),c.flags|=256,no(l,c,g,y),c.child}var Mm={dehydrated:null,treeContext:null,retryLane:0};function Tm(l){return{baseLanes:l,cachePool:null,transitions:null}}function zb(l,c,g){var y=c.pendingProps,x=rr.current,j=!1,T=(c.flags&128)!==0,Z;if((Z=T)||(Z=l!==null&&l.memoizedState===null?!1:(x&2)!==0),Z?(j=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(x|=1),$t(rr,x&1),l===null)return am(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(c.mode&1?zo(l)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(T=y.children,l=y.fallback,j?(y=c.mode,j=c.child,T={mode:"hidden",children:T},!(y&1)&&j!==null?(j.childLanes=0,j.pendingProps=T):j=Od(T,y,0,null),l=vi(l,y,g,null),j.return=c,l.return=c,j.sibling=l,c.child=j,c.child.memoizedState=Tm(g),c.memoizedState=Mm,l):Dm(c,T));if(x=l.memoizedState,x!==null&&(Z=x.dehydrated,Z!==null))return CI(l,c,T,y,Z,x,g);if(j){j=y.fallback,T=c.mode,x=l.child,Z=x.sibling;var ce={mode:"hidden",children:y.children};return!(T&1)&&c.child!==x?(y=c.child,y.childLanes=0,y.pendingProps=ce,c.deletions=null):(y=Ta(x,ce),y.subtreeFlags=x.subtreeFlags&14680064),Z!==null?j=Ta(Z,j):(j=vi(j,T,g,null),j.flags|=2),j.return=c,y.return=c,y.sibling=j,c.child=y,y=j,j=c.child,T=l.child.memoizedState,T=T===null?Tm(g):{baseLanes:T.baseLanes|g,cachePool:null,transitions:T.transitions},j.memoizedState=T,j.childLanes=l.childLanes&~g,c.memoizedState=Mm,y}return j=l.child,l=j.sibling,y=Ta(j,{mode:"visible",children:y.children}),!(c.mode&1)&&(y.lanes=g),y.return=c,y.sibling=null,l!==null&&(g=c.deletions,g===null?(c.deletions=[l],c.flags|=16):g.push(l)),c.child=y,c.memoizedState=null,y}function Dm(l,c){return c=Od({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function ud(l,c,g,y){return y!==null&&im(y),al(c,l.child,null,g),l=Dm(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function CI(l,c,g,y,x,j,T){if(g)return c.flags&256?(c.flags&=-257,y=Em(Error(a(422))),ud(l,c,T,y)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(j=y.fallback,x=c.mode,y=Od({mode:"visible",children:y.children},x,0,null),j=vi(j,x,T,null),j.flags|=2,y.return=c,j.return=c,y.sibling=j,c.child=y,c.mode&1&&al(c,l.child,null,T),c.child.memoizedState=Tm(T),c.memoizedState=Mm,j);if(!(c.mode&1))return ud(l,c,T,null);if(zo(x))return y=Qs(x).digest,j=Error(a(419)),y=Em(j,y,void 0),ud(l,c,T,y);if(g=(T&l.childLanes)!==0,io||g){if(y=Nr,y!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(y.suspendedLanes|T)?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,Rs(l,x),Wo(y,l,x,-1))}return eg(),y=Em(Error(a(421))),ud(l,c,T,y)}return jr(x)?(c.flags|=128,c.child=l.child,c=NI.bind(null,l),ka(x,c),null):(l=j.treeContext,Ae&&(Lo=ue(x),ko=c,Xn=!0,cs=null,vc=!1,l!==null&&(eo[to++]=Po,eo[to++]=Hr,eo[to++]=$o,Po=l.id,Hr=l.overflow,$o=c)),c=Dm(c,y.children),c.flags|=4096,c)}function $b(l,c,g){l.lanes|=c;var y=l.alternate;y!==null&&(y.lanes|=c),dm(l.return,c,g)}function Am(l,c,g,y,x){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:x}:(j.isBackwards=c,j.rendering=null,j.renderingStartTime=0,j.last=y,j.tail=g,j.tailMode=x)}function Lb(l,c,g){var y=c.pendingProps,x=y.revealOrder,j=y.tail;if(no(l,c,y.children,g),y=rr.current,y&2)y=y&1|2,c.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&$b(l,g,c);else if(l.tag===19)$b(l,g,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if($t(rr,y),!(c.mode&1))c.memoizedState=null;else switch(x){case"forwards":for(g=c.child,x=null;g!==null;)l=g.alternate,l!==null&&od(l)===null&&(x=g),g=g.sibling;g=x,g===null?(x=c.child,c.child=null):(x=g.sibling,g.sibling=null),Am(c,!1,x,g,j);break;case"backwards":for(g=null,x=c.child,c.child=null;x!==null;){if(l=x.alternate,l!==null&&od(l)===null){c.child=x;break}l=x.sibling,x.sibling=g,g=x,x=l}Am(c,!0,g,null,j);break;case"together":Am(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function dd(l,c){!(c.mode&1)&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function ta(l,c,g){if(l!==null&&(c.dependencies=l.dependencies),pi|=c.lanes,!(g&c.childLanes))return null;if(l!==null&&c.child!==l.child)throw Error(a(153));if(c.child!==null){for(l=c.child,g=Ta(l,l.pendingProps),c.child=g,g.return=c;l.sibling!==null;)l=l.sibling,g=g.sibling=Ta(l,l.pendingProps),g.return=c;g.sibling=null}return c.child}function PI(l,c,g){switch(c.tag){case 3:Ab(c),rl();break;case 5:nb(c);break;case 1:Yn(c.type)&&Kn(c);break;case 4:gm(c,c.stateNode.containerInfo);break;case 10:Vy(c,c.type._context,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?($t(rr,rr.current&1),c.flags|=128,null):g&c.child.childLanes?zb(l,c,g):($t(rr,rr.current&1),l=ta(l,c,g),l!==null?l.sibling:null);$t(rr,rr.current&1);break;case 19:if(y=(g&c.childLanes)!==0,l.flags&128){if(y)return Lb(l,c,g);c.flags|=128}var x=c.memoizedState;if(x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),$t(rr,rr.current),y)break;return null;case 22:case 23:return c.lanes=0,Mb(l,c,g)}return ta(l,c,g)}function Ds(l){l.flags|=4}function Fb(l,c){if(l!==null&&l.child===c.child)return!0;if(c.flags&16)return!1;for(l=c.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var kc,_c,fd,pd;if(fe)kc=function(l,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)ge(l,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},_c=function(){},fd=function(l,c,g,y,x){if(l=l.memoizedProps,l!==y){var j=c.stateNode,T=Ms(Bo.current);g=re(j,g,l,y,x,T),(c.updateQueue=g)&&Ds(c)}},pd=function(l,c,g,y){g!==y&&Ds(c)};else if(ke){kc=function(l,c,g,y){for(var x=c.child;x!==null;){if(x.tag===5){var j=x.stateNode;g&&y&&(j=Ao(j,x.type,x.memoizedProps,x)),ge(l,j)}else if(x.tag===6)j=x.stateNode,g&&y&&(j=No(j,x.memoizedProps,x)),ge(l,j);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)j=x.child,j!==null&&(j.return=x),kc(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var Bb=function(l,c,g,y){for(var x=c.child;x!==null;){if(x.tag===5){var j=x.stateNode;g&&y&&(j=Ao(j,x.type,x.memoizedProps,x)),jn(l,j)}else if(x.tag===6)j=x.stateNode,g&&y&&(j=No(j,x.memoizedProps,x)),jn(l,j);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)j=x.child,j!==null&&(j.return=x),Bb(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};_c=function(l,c){var g=c.stateNode;if(!Fb(l,c)){l=g.containerInfo;var y=kn(l);Bb(y,c,!1,!1),g.pendingChildren=y,Ds(c),as(l,y)}},fd=function(l,c,g,y,x){var j=l.stateNode,T=l.memoizedProps;if((l=Fb(l,c))&&T===y)c.stateNode=j;else{var Z=c.stateNode,ce=Ms(Bo.current),De=null;T!==y&&(De=re(Z,g,T,y,x,ce)),l&&De===null?c.stateNode=j:(j=Sr(j,De,g,T,y,c,l,Z),le(j,g,y,x,ce)&&Ds(c),c.stateNode=j,l?Ds(c):kc(j,c,!1,!1))}},pd=function(l,c,g,y){g!==y?(l=Ms(il.current),g=Ms(Bo.current),c.stateNode=ae(y,l,g,c),Ds(c)):c.stateNode=l.stateNode}}else _c=function(){},fd=function(){},pd=function(){};function jc(l,c){if(!Xn)switch(l.tailMode){case"hidden":c=l.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Vr(l){var c=l.alternate!==null&&l.alternate.child===l.child,g=0,y=0;if(c)for(var x=l.child;x!==null;)g|=x.lanes|x.childLanes,y|=x.subtreeFlags&14680064,y|=x.flags&14680064,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)g|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=y,l.childLanes=g,c}function kI(l,c,g){var y=c.pendingProps;switch(om(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(c),null;case 1:return Yn(c.type)&&wt(),Vr(c),null;case 3:return g=c.stateNode,ll(),Tt(Qt),Tt(Vt),bm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Xu(c)?Ds(c):l===null||l.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,cs!==null&&(Zm(cs),cs=null))),_c(l,c),Vr(c),null;case 5:vm(c),g=Ms(il.current);var x=c.type;if(l!==null&&c.stateNode!=null)fd(l,c,x,y,g),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(a(166));return Vr(c),null}if(l=Ms(Bo.current),Xu(c)){if(!Ae)throw Error(a(175));l=be(c.stateNode,c.type,c.memoizedProps,g,l,c,!vc),c.updateQueue=l,l!==null&&Ds(c)}else{var j=ne(x,y,g,l,c);kc(j,c,!1,!1),c.stateNode=j,le(j,x,y,g,l)&&Ds(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Vr(c),null;case 6:if(l&&c.stateNode!=null)pd(l,c,l.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(a(166));if(l=Ms(il.current),g=Ms(Bo.current),Xu(c)){if(!Ae)throw Error(a(176));if(l=c.stateNode,g=c.memoizedProps,(y=Se(l,g,c,!vc))&&(x=ko,x!==null))switch(x.tag){case 3:We(x.stateNode.containerInfo,l,g,(x.mode&1)!==0);break;case 5:St(x.type,x.memoizedProps,x.stateNode,l,g,(x.mode&1)!==0)}y&&Ds(c)}else c.stateNode=ae(y,l,g,c)}return Vr(c),null;case 13:if(Tt(rr),y=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Xn&&Lo!==null&&c.mode&1&&!(c.flags&128))Wy(),rl(),c.flags|=98560,x=!1;else if(x=Xu(c),y!==null&&y.dehydrated!==null){if(l===null){if(!x)throw Error(a(318));if(!Ae)throw Error(a(344));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));Qe(x,c)}else rl(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Vr(c),x=!1}else cs!==null&&(Zm(cs),cs=null),x=!0;if(!x)return c.flags&65536?c:null}return c.flags&128?(c.lanes=g,c):(g=y!==null,g!==(l!==null&&l.memoizedState!==null)&&g&&(c.child.flags|=8192,c.mode&1&&(l===null||rr.current&1?Rr===0&&(Rr=3):eg())),c.updateQueue!==null&&(c.flags|=4),Vr(c),null);case 4:return ll(),_c(l,c),l===null&&Ie(c.stateNode.containerInfo),Vr(c),null;case 10:return um(c.type._context),Vr(c),null;case 17:return Yn(c.type)&&wt(),Vr(c),null;case 19:if(Tt(rr),x=c.memoizedState,x===null)return Vr(c),null;if(y=(c.flags&128)!==0,j=x.rendering,j===null)if(y)jc(x,!1);else{if(Rr!==0||l!==null&&l.flags&128)for(l=c.child;l!==null;){if(j=od(l),j!==null){for(c.flags|=128,jc(x,!1),l=j.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),c.subtreeFlags=0,l=g,g=c.child;g!==null;)y=g,x=l,y.flags&=14680066,j=y.alternate,j===null?(y.childLanes=0,y.lanes=x,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=j.childLanes,y.lanes=j.lanes,y.child=j.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=j.memoizedProps,y.memoizedState=j.memoizedState,y.updateQueue=j.updateQueue,y.type=j.type,x=j.dependencies,y.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),g=g.sibling;return $t(rr,rr.current&1|2),c.child}l=l.sibling}x.tail!==null&&$e()>Ym&&(c.flags|=128,y=!0,jc(x,!1),c.lanes=4194304)}else{if(!y)if(l=od(j),l!==null){if(c.flags|=128,y=!0,l=l.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),jc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!j.alternate&&!Xn)return Vr(c),null}else 2*$e()-x.renderingStartTime>Ym&&g!==1073741824&&(c.flags|=128,y=!0,jc(x,!1),c.lanes=4194304);x.isBackwards?(j.sibling=c.child,c.child=j):(l=x.last,l!==null?l.sibling=j:c.child=j,x.last=j)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=$e(),c.sibling=null,l=rr.current,$t(rr,y?l&1|2:l&1),c):(Vr(c),null);case 22:case 23:return Jm(),g=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==g&&(c.flags|=8192),g&&c.mode&1?_o&1073741824&&(Vr(c),fe&&c.subtreeFlags&6&&(c.flags|=8192)):Vr(c),null;case 24:return null;case 25:return null}throw Error(a(156,c.tag))}function _I(l,c){switch(om(c),c.tag){case 1:return Yn(c.type)&&wt(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return ll(),Tt(Qt),Tt(Vt),bm(),l=c.flags,l&65536&&!(l&128)?(c.flags=l&-65537|128,c):null;case 5:return vm(c),null;case 13:if(Tt(rr),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(a(340));rl()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Tt(rr),null;case 4:return ll(),null;case 10:return um(c.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var hd=!1,Ur=!1,jI=typeof WeakSet=="function"?WeakSet:Set,ct=null;function ul(l,c){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(y){Qn(l,c,y)}else g.current=null}function Nm(l,c,g){try{g()}catch(y){Qn(l,c,y)}}var Hb=!1;function EI(l,c){for(H(l.containerInfo),ct=c;ct!==null;)if(l=ct,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,ct=c;else for(;ct!==null;){l=ct;try{var g=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,j=l.stateNode,T=j.getSnapshotBeforeUpdate(l.elementType===l.type?y:us(l.type,y),x);j.__reactInternalSnapshotBeforeUpdate=T}break;case 3:fe&&bn(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Z){Qn(l,l.return,Z)}if(c=l.sibling,c!==null){c.return=l.return,ct=c;break}ct=l.return}return g=Hb,Hb=!1,g}function Ec(l,c,g){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var x=y=y.next;do{if((x.tag&l)===l){var j=x.destroy;x.destroy=void 0,j!==void 0&&Nm(c,g,j)}x=x.next}while(x!==y)}}function md(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&l)===l){var y=g.create;g.destroy=y()}g=g.next}while(g!==c)}}function zm(l){var c=l.ref;if(c!==null){var g=l.stateNode;switch(l.tag){case 5:l=X(g);break;default:l=g}typeof c=="function"?c(l):c.current=l}}function Wb(l){var c=l.alternate;c!==null&&(l.alternate=null,Wb(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Fe(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Vb(l){return l.tag===5||l.tag===3||l.tag===4}function Ub(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Vb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function $m(l,c,g){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?qn(g,l,c):Xt(g,l);else if(y!==4&&(l=l.child,l!==null))for($m(l,c,g),l=l.sibling;l!==null;)$m(l,c,g),l=l.sibling}function Lm(l,c,g){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?ln(g,l,c):yt(g,l);else if(y!==4&&(l=l.child,l!==null))for(Lm(l,c,g),l=l.sibling;l!==null;)Lm(l,c,g),l=l.sibling}var Lr=null,ds=!1;function As(l,c,g){for(g=g.child;g!==null;)Fm(l,c,g),g=g.sibling}function Fm(l,c,g){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Bn,g)}catch{}switch(g.tag){case 5:Ur||ul(g,c);case 6:if(fe){var y=Lr,x=ds;Lr=null,As(l,c,g),Lr=y,ds=x,Lr!==null&&(ds?et(Lr,g.stateNode):Oe(Lr,g.stateNode))}else As(l,c,g);break;case 18:fe&&Lr!==null&&(ds?qe(Lr,g.stateNode):He(Lr,g.stateNode));break;case 4:fe?(y=Lr,x=ds,Lr=g.stateNode.containerInfo,ds=!0,As(l,c,g),Lr=y,ds=x):(ke&&(y=g.stateNode.containerInfo,x=kn(y),un(y,x)),As(l,c,g));break;case 0:case 11:case 14:case 15:if(!Ur&&(y=g.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){x=y=y.next;do{var j=x,T=j.destroy;j=j.tag,T!==void 0&&(j&2||j&4)&&Nm(g,c,T),x=x.next}while(x!==y)}As(l,c,g);break;case 1:if(!Ur&&(ul(g,c),y=g.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=g.memoizedProps,y.state=g.memoizedState,y.componentWillUnmount()}catch(Z){Qn(g,c,Z)}As(l,c,g);break;case 21:As(l,c,g);break;case 22:g.mode&1?(Ur=(y=Ur)||g.memoizedState!==null,As(l,c,g),Ur=y):As(l,c,g);break;default:As(l,c,g)}}function Gb(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new jI),c.forEach(function(y){var x=zI.bind(null,l,y);g.has(y)||(g.add(y),y.then(x,x))})}}function fs(l,c){var g=c.deletions;if(g!==null)for(var y=0;y<g.length;y++){var x=g[y];try{var j=l,T=c;if(fe){var Z=T;e:for(;Z!==null;){switch(Z.tag){case 5:Lr=Z.stateNode,ds=!1;break e;case 3:Lr=Z.stateNode.containerInfo,ds=!0;break e;case 4:Lr=Z.stateNode.containerInfo,ds=!0;break e}Z=Z.return}if(Lr===null)throw Error(a(160));Fm(j,T,x),Lr=null,ds=!1}else Fm(j,T,x);var ce=x.alternate;ce!==null&&(ce.return=null),x.return=null}catch(De){Qn(x,c,De)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)qb(c,l),c=c.sibling}function qb(l,c){var g=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(fs(c,l),Ns(l),y&4){try{Ec(3,l,l.return),md(3,l)}catch(rt){Qn(l,l.return,rt)}try{Ec(5,l,l.return)}catch(rt){Qn(l,l.return,rt)}}break;case 1:fs(c,l),Ns(l),y&512&&g!==null&&ul(g,g.return);break;case 5:if(fs(c,l),Ns(l),y&512&&g!==null&&ul(g,g.return),fe){if(l.flags&32){var x=l.stateNode;try{it(x)}catch(rt){Qn(l,l.return,rt)}}if(y&4&&(x=l.stateNode,x!=null)){var j=l.memoizedProps;if(g=g!==null?g.memoizedProps:j,y=l.type,c=l.updateQueue,l.updateQueue=null,c!==null)try{gr(x,c,y,g,j,l)}catch(rt){Qn(l,l.return,rt)}}}break;case 6:if(fs(c,l),Ns(l),y&4&&fe){if(l.stateNode===null)throw Error(a(162));x=l.stateNode,j=l.memoizedProps,g=g!==null?g.memoizedProps:j;try{an(x,g,j)}catch(rt){Qn(l,l.return,rt)}}break;case 3:if(fs(c,l),Ns(l),y&4){if(fe&&Ae&&g!==null&&g.memoizedState.isDehydrated)try{zt(c.containerInfo)}catch(rt){Qn(l,l.return,rt)}if(ke){x=c.containerInfo,j=c.pendingChildren;try{un(x,j)}catch(rt){Qn(l,l.return,rt)}}}break;case 4:if(fs(c,l),Ns(l),y&4&&ke){j=l.stateNode,x=j.containerInfo,j=j.pendingChildren;try{un(x,j)}catch(rt){Qn(l,l.return,rt)}}break;case 13:fs(c,l),Ns(l),x=l.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(qm=$e())),y&4&&Gb(l);break;case 22:var T=g!==null&&g.memoizedState!==null;if(l.mode&1?(Ur=(g=Ur)||T,fs(c,l),Ur=g):fs(c,l),Ns(l),y&8192){if(g=l.memoizedState!==null,(l.stateNode.isHidden=g)&&!T&&l.mode&1)for(ct=l,y=l.child;y!==null;){for(c=ct=y;ct!==null;){T=ct;var Z=T.child;switch(T.tag){case 0:case 11:case 14:case 15:Ec(4,T,T.return);break;case 1:ul(T,T.return);var ce=T.stateNode;if(typeof ce.componentWillUnmount=="function"){var De=T,ft=T.return;try{var Bt=De;ce.props=Bt.memoizedProps,ce.state=Bt.memoizedState,ce.componentWillUnmount()}catch(rt){Qn(De,ft,rt)}}break;case 5:ul(T,T.return);break;case 22:if(T.memoizedState!==null){Xb(c);continue}}Z!==null?(Z.return=T,ct=Z):Xb(c)}y=y.sibling}if(fe){e:if(y=null,fe)for(c=l;;){if(c.tag===5){if(y===null){y=c;try{x=c.stateNode,g?ut(x):vr(c.stateNode,c.memoizedProps)}catch(rt){Qn(l,l.return,rt)}}}else if(c.tag===6){if(y===null)try{j=c.stateNode,g?Nt(j):cn(j,c.memoizedProps)}catch(rt){Qn(l,l.return,rt)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;y===c&&(y=null),c=c.return}y===c&&(y=null),c.sibling.return=c.return,c=c.sibling}}}break;case 19:fs(c,l),Ns(l),y&4&&Gb(l);break;case 21:break;default:fs(c,l),Ns(l)}}function Ns(l){var c=l.flags;if(c&2){try{if(fe){e:{for(var g=l.return;g!==null;){if(Vb(g)){var y=g;break e}g=g.return}throw Error(a(160))}switch(y.tag){case 5:var x=y.stateNode;y.flags&32&&(it(x),y.flags&=-33);var j=Ub(l);Lm(l,j,x);break;case 3:case 4:var T=y.stateNode.containerInfo,Z=Ub(l);$m(l,Z,T);break;default:throw Error(a(161))}}}catch(ce){Qn(l,l.return,ce)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function II(l,c,g){ct=l,Yb(l)}function Yb(l,c,g){for(var y=(l.mode&1)!==0;ct!==null;){var x=ct,j=x.child;if(x.tag===22&&y){var T=x.memoizedState!==null||hd;if(!T){var Z=x.alternate,ce=Z!==null&&Z.memoizedState!==null||Ur;Z=hd;var De=Ur;if(hd=T,(Ur=ce)&&!De)for(ct=x;ct!==null;)T=ct,ce=T.child,T.tag===22&&T.memoizedState!==null?Qb(x):ce!==null?(ce.return=T,ct=ce):Qb(x);for(;j!==null;)ct=j,Yb(j),j=j.sibling;ct=x,hd=Z,Ur=De}Kb(l)}else x.subtreeFlags&8772&&j!==null?(j.return=x,ct=j):Kb(l)}}function Kb(l){for(;ct!==null;){var c=ct;if(c.flags&8772){var g=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:Ur||md(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Ur)if(g===null)y.componentDidMount();else{var x=c.elementType===c.type?g.memoizedProps:us(c.type,g.memoizedProps);y.componentDidUpdate(x,g.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var j=c.updateQueue;j!==null&&Yy(c,j,y);break;case 3:var T=c.updateQueue;if(T!==null){if(g=null,c.child!==null)switch(c.child.tag){case 5:g=X(c.child.stateNode);break;case 1:g=c.child.stateNode}Yy(c,T,g)}break;case 5:var Z=c.stateNode;g===null&&c.flags&4&&Pn(Z,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&c.memoizedState===null){var ce=c.alternate;if(ce!==null){var De=ce.memoizedState;if(De!==null){var ft=De.dehydrated;ft!==null&&lt(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ur||c.flags&512&&zm(c)}catch(Bt){Qn(c,c.return,Bt)}}if(c===l){ct=null;break}if(g=c.sibling,g!==null){g.return=c.return,ct=g;break}ct=c.return}}function Xb(l){for(;ct!==null;){var c=ct;if(c===l){ct=null;break}var g=c.sibling;if(g!==null){g.return=c.return,ct=g;break}ct=c.return}}function Qb(l){for(;ct!==null;){var c=ct;try{switch(c.tag){case 0:case 11:case 15:var g=c.return;try{md(4,c)}catch(ce){Qn(c,g,ce)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var x=c.return;try{y.componentDidMount()}catch(ce){Qn(c,x,ce)}}var j=c.return;try{zm(c)}catch(ce){Qn(c,j,ce)}break;case 5:var T=c.return;try{zm(c)}catch(ce){Qn(c,T,ce)}}}catch(ce){Qn(c,c.return,ce)}if(c===l){ct=null;break}var Z=c.sibling;if(Z!==null){Z.return=c.return,ct=Z;break}ct=c.return}}var gd=0,vd=1,yd=2,bd=3,xd=4;if(typeof Symbol=="function"&&Symbol.for){var Ic=Symbol.for;gd=Ic("selector.component"),vd=Ic("selector.has_pseudo_class"),yd=Ic("selector.role"),bd=Ic("selector.test_id"),xd=Ic("selector.text")}function Bm(l){var c=ve(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(a(364));return c}if(l=Fn(l),l===null)throw Error(a(362));return l.stateNode.current}function Hm(l,c){switch(c.$$typeof){case gd:if(l.type===c.value)return!0;break;case vd:e:{c=c.value,l=[l,0];for(var g=0;g<l.length;){var y=l[g++],x=l[g++],j=c[x];if(y.tag!==5||!te(y)){for(;j!=null&&Hm(y,j);)x++,j=c[x];if(x===c.length){c=!0;break e}else for(y=y.child;y!==null;)l.push(y,x),y=y.sibling}}c=!1}return c;case yd:if(l.tag===5&&pe(l.stateNode,c.value))return!0;break;case xd:if((l.tag===5||l.tag===6)&&(l=we(l),l!==null&&0<=l.indexOf(c.value)))return!0;break;case bd:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Wm(l){switch(l.$$typeof){case gd:return"<"+(R(l.value)||"Unknown")+">";case vd:return":has("+(Wm(l)||"")+")";case yd:return'[role="'+l.value+'"]';case xd:return'"'+l.value+'"';case bd:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function Zb(l,c){var g=[];l=[l,0];for(var y=0;y<l.length;){var x=l[y++],j=l[y++],T=c[j];if(x.tag!==5||!te(x)){for(;T!=null&&Hm(x,T);)j++,T=c[j];if(j===c.length)g.push(x);else for(x=x.child;x!==null;)l.push(x,j),x=x.sibling}}return g}function Vm(l,c){if(!xt)throw Error(a(363));l=Bm(l),l=Zb(l,c),c=[],l=Array.from(l);for(var g=0;g<l.length;){var y=l[g++];if(y.tag===5)te(y)||c.push(y.stateNode);else for(y=y.child;y!==null;)l.push(y),y=y.sibling}return c}var OI=Math.ceil,Sd=u.ReactCurrentDispatcher,Um=u.ReactCurrentOwner,yr=u.ReactCurrentBatchConfig,Zt=0,Nr=null,wr=null,Fr=0,_o=0,dl=Mt(0),Rr=0,Oc=null,pi=0,wd=0,Gm=0,Rc=null,lo=null,qm=0,Ym=1/0,na=null;function fl(){Ym=$e()+500}var Cd=!1,Km=null,Ia=null,Pd=!1,Oa=null,kd=0,Mc=0,Xm=null,_d=-1,jd=0;function Gr(){return Zt&6?$e():_d!==-1?_d:_d=$e()}function Ra(l){return l.mode&1?Zt&2&&Fr!==0?Fr&-Fr:fI.transition!==null?(jd===0&&(jd=mt()),jd):(l=_e,l!==0?l:st()):1}function Wo(l,c,g,y){if(50<Mc)throw Mc=0,Xm=null,Error(a(185));dt(l,g,y),(!(Zt&2)||l!==Nr)&&(l===Nr&&(!(Zt&2)&&(wd|=g),Rr===4&&Ma(l,Fr)),co(l,y),g===1&&Zt===0&&!(c.mode&1)&&(fl(),$r&&Co()))}function co(l,c){var g=l.callbackNode;gt(l,c);var y=Ve(l,l===Nr?Fr:0);if(y===0)g!==null&&Ze(g),l.callbackNode=null,l.callbackPriority=0;else if(c=y&-y,l.callbackPriority!==c){if(g!=null&&Ze(g),c===1)l.tag===0?Ku(ex.bind(null,l)):_a(ex.bind(null,l)),Ke?_t(function(){!(Zt&6)&&Co()}):ze(Gt,Co),g=null;else{switch(Te(y)){case 1:g=Gt;break;case 4:g=hn;break;case 16:g=rn;break;case 536870912:g=ur;break;default:g=rn}g=cx(g,Jb.bind(null,l))}l.callbackPriority=c,l.callbackNode=g}}function Jb(l,c){if(_d=-1,jd=0,Zt&6)throw Error(a(327));var g=l.callbackNode;if(gi()&&l.callbackNode!==g)return null;var y=Ve(l,l===Nr?Fr:0);if(y===0)return null;if(y&30||y&l.expiredLanes||c)c=Ed(l,y);else{c=y;var x=Zt;Zt|=2;var j=rx();(Nr!==l||Fr!==c)&&(na=null,fl(),hi(l,c));do try{TI();break}catch(Z){nx(l,Z)}while(1);cm(),Sd.current=j,Zt=x,wr!==null?c=0:(Nr=null,Fr=0,c=Rr)}if(c!==0){if(c===2&&(x=tt(l),x!==0&&(y=x,c=Qm(l,x))),c===1)throw g=Oc,hi(l,0),Ma(l,y),co(l,$e()),g;if(c===6)Ma(l,y);else{if(x=l.current.alternate,!(y&30)&&!RI(x)&&(c=Ed(l,y),c===2&&(j=tt(l),j!==0&&(y=j,c=Qm(l,j))),c===1))throw g=Oc,hi(l,0),Ma(l,y),co(l,$e()),g;switch(l.finishedWork=x,l.finishedLanes=y,c){case 0:case 1:throw Error(a(345));case 2:mi(l,lo,na);break;case 3:if(Ma(l,y),(y&130023424)===y&&(c=qm+500-$e(),10<c)){if(Ve(l,0)!==0)break;if(x=l.suspendedLanes,(x&y)!==y){Gr(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=de(mi.bind(null,l,lo,na),c);break}mi(l,lo,na);break;case 4:if(Ma(l,y),(y&4194240)===y)break;for(c=l.eventTimes,x=-1;0<y;){var T=31-Rn(y);j=1<<T,T=c[T],T>x&&(x=T),y&=~j}if(y=x,y=$e()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*OI(y/1960))-y,10<y){l.timeoutHandle=de(mi.bind(null,l,lo,na),y);break}mi(l,lo,na);break;case 5:mi(l,lo,na);break;default:throw Error(a(329))}}}return co(l,$e()),l.callbackNode===g?Jb.bind(null,l):null}function Qm(l,c){var g=Rc;return l.current.memoizedState.isDehydrated&&(hi(l,c).flags|=256),l=Ed(l,c),l!==2&&(c=lo,lo=g,c!==null&&Zm(c)),l}function Zm(l){lo===null?lo=l:lo.push.apply(lo,l)}function RI(l){for(var c=l;;){if(c.flags&16384){var g=c.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var y=0;y<g.length;y++){var x=g[y],j=x.getSnapshot;x=x.value;try{if(!nn(j(),x))return!1}catch{return!1}}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ma(l,c){for(c&=~Gm,c&=~wd,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var g=31-Rn(c),y=1<<g;l[g]=-1,c&=~y}}function ex(l){if(Zt&6)throw Error(a(327));gi();var c=Ve(l,0);if(!(c&1))return co(l,$e()),null;var g=Ed(l,c);if(l.tag!==0&&g===2){var y=tt(l);y!==0&&(c=y,g=Qm(l,y))}if(g===1)throw g=Oc,hi(l,0),Ma(l,c),co(l,$e()),g;if(g===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,mi(l,lo,na),co(l,$e()),null}function tx(l){Oa!==null&&Oa.tag===0&&!(Zt&6)&&gi();var c=Zt;Zt|=1;var g=yr.transition,y=_e;try{if(yr.transition=null,_e=1,l)return l()}finally{_e=y,yr.transition=g,Zt=c,!(Zt&6)&&Co()}}function Jm(){_o=dl.current,Tt(dl)}function hi(l,c){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==oe&&(l.timeoutHandle=oe,xe(g)),wr!==null)for(g=wr.return;g!==null;){var y=g;switch(om(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&wt();break;case 3:ll(),Tt(Qt),Tt(Vt),bm();break;case 5:vm(y);break;case 4:ll();break;case 13:Tt(rr);break;case 19:Tt(rr);break;case 10:um(y.type._context);break;case 22:case 23:Jm()}g=g.return}if(Nr=l,wr=l=Ta(l.current,null),Fr=_o=c,Rr=0,Oc=null,Gm=wd=pi=0,lo=Rc=null,di!==null){for(c=0;c<di.length;c++)if(g=di[c],y=g.interleaved,y!==null){g.interleaved=null;var x=y.next,j=g.pending;if(j!==null){var T=j.next;j.next=x,y.next=T}g.pending=y}di=null}return l}function nx(l,c){do{var g=wr;try{if(cm(),sd.current=cd,ad){for(var y=or.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}ad=!1}if(fi=0,Ar=Or=or=null,Sc=!1,wc=0,Um.current=null,g===null||g.return===null){Rr=1,Oc=c,wr=null;break}e:{var j=l,T=g.return,Z=g,ce=c;if(c=Fr,Z.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var De=ce,ft=Z,Bt=ft.tag;if(!(ft.mode&1)&&(Bt===0||Bt===11||Bt===15)){var rt=ft.alternate;rt?(ft.updateQueue=rt.updateQueue,ft.memoizedState=rt.memoizedState,ft.lanes=rt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Hn=jb(T);if(Hn!==null){Hn.flags&=-257,Eb(Hn,T,Z,j,c),Hn.mode&1&&_b(j,De,c),c=Hn,ce=De;var Dn=c.updateQueue;if(Dn===null){var uo=new Set;uo.add(ce),c.updateQueue=uo}else Dn.add(ce);break e}else{if(!(c&1)){_b(j,De,c),eg();break e}ce=Error(a(426))}}else if(Xn&&Z.mode&1){var ra=jb(T);if(ra!==null){!(ra.flags&65536)&&(ra.flags|=256),Eb(ra,T,Z,j,c),im(cl(ce,Z));break e}}j=ce=cl(ce,Z),Rr!==4&&(Rr=2),Rc===null?Rc=[j]:Rc.push(j),j=T;do{switch(j.tag){case 3:j.flags|=65536,c&=-c,j.lanes|=c;var ie=Pb(j,ce,c);qy(j,ie);break e;case 1:Z=ce;var ee=j.type,he=j.stateNode;if(!(j.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Ia===null||!Ia.has(he)))){j.flags|=65536,c&=-c,j.lanes|=c;var ot=kb(j,Z,c);qy(j,ot);break e}}j=j.return}while(j!==null)}sx(g)}catch(Et){c=Et,wr===g&&g!==null&&(wr=g=g.return);continue}break}while(1)}function rx(){var l=Sd.current;return Sd.current=cd,l===null?cd:l}function eg(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Nr===null||!(pi&268435455)&&!(wd&268435455)||Ma(Nr,Fr)}function Ed(l,c){var g=Zt;Zt|=2;var y=rx();(Nr!==l||Fr!==c)&&(na=null,hi(l,c));do try{MI();break}catch(x){nx(l,x)}while(1);if(cm(),Zt=g,Sd.current=y,wr!==null)throw Error(a(261));return Nr=null,Fr=0,Rr}function MI(){for(;wr!==null;)ox(wr)}function TI(){for(;wr!==null&&!jt();)ox(wr)}function ox(l){var c=lx(l.alternate,l,_o);l.memoizedProps=l.pendingProps,c===null?sx(l):wr=c,Um.current=null}function sx(l){var c=l;do{var g=c.alternate;if(l=c.return,c.flags&32768){if(g=_I(g,c),g!==null){g.flags&=32767,wr=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Rr=6,wr=null;return}}else if(g=kI(g,c,_o),g!==null){wr=g;return}if(c=c.sibling,c!==null){wr=c;return}wr=c=l}while(c!==null);Rr===0&&(Rr=5)}function mi(l,c,g){var y=_e,x=yr.transition;try{yr.transition=null,_e=1,DI(l,c,g,y)}finally{yr.transition=x,_e=y}return null}function DI(l,c,g,y){do gi();while(Oa!==null);if(Zt&6)throw Error(a(327));g=l.finishedWork;var x=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(a(177));l.callbackNode=null,l.callbackPriority=0;var j=g.lanes|g.childLanes;if(Je(l,j),l===Nr&&(wr=Nr=null,Fr=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||Pd||(Pd=!0,cx(rn,function(){return gi(),null})),j=(g.flags&15990)!==0,g.subtreeFlags&15990||j){j=yr.transition,yr.transition=null;var T=_e;_e=1;var Z=Zt;Zt|=4,Um.current=null,EI(l,g),qb(g,l),U(l.containerInfo),l.current=g,II(g),kt(),Zt=Z,_e=T,yr.transition=j}else l.current=g;if(Pd&&(Pd=!1,Oa=l,kd=x),j=l.pendingLanes,j===0&&(Ia=null),Ln(g.stateNode),co(l,$e()),c!==null)for(y=l.onRecoverableError,g=0;g<c.length;g++)x=c[g],y(x.value,{componentStack:x.stack,digest:x.digest});if(Cd)throw Cd=!1,l=Km,Km=null,l;return kd&1&&l.tag!==0&&gi(),j=l.pendingLanes,j&1?l===Xm?Mc++:(Mc=0,Xm=l):Mc=0,Co(),null}function gi(){if(Oa!==null){var l=Te(kd),c=yr.transition,g=_e;try{if(yr.transition=null,_e=16>l?16:l,Oa===null)var y=!1;else{if(l=Oa,Oa=null,kd=0,Zt&6)throw Error(a(331));var x=Zt;for(Zt|=4,ct=l.current;ct!==null;){var j=ct,T=j.child;if(ct.flags&16){var Z=j.deletions;if(Z!==null){for(var ce=0;ce<Z.length;ce++){var De=Z[ce];for(ct=De;ct!==null;){var ft=ct;switch(ft.tag){case 0:case 11:case 15:Ec(8,ft,j)}var Bt=ft.child;if(Bt!==null)Bt.return=ft,ct=Bt;else for(;ct!==null;){ft=ct;var rt=ft.sibling,Hn=ft.return;if(Wb(ft),ft===De){ct=null;break}if(rt!==null){rt.return=Hn,ct=rt;break}ct=Hn}}}var Dn=j.alternate;if(Dn!==null){var uo=Dn.child;if(uo!==null){Dn.child=null;do{var ra=uo.sibling;uo.sibling=null,uo=ra}while(uo!==null)}}ct=j}}if(j.subtreeFlags&2064&&T!==null)T.return=j,ct=T;else e:for(;ct!==null;){if(j=ct,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Ec(9,j,j.return)}var ie=j.sibling;if(ie!==null){ie.return=j.return,ct=ie;break e}ct=j.return}}var ee=l.current;for(ct=ee;ct!==null;){T=ct;var he=T.child;if(T.subtreeFlags&2064&&he!==null)he.return=T,ct=he;else e:for(T=ee;ct!==null;){if(Z=ct,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:md(9,Z)}}catch(Et){Qn(Z,Z.return,Et)}if(Z===T){ct=null;break e}var ot=Z.sibling;if(ot!==null){ot.return=Z.return,ct=ot;break e}ct=Z.return}}if(Zt=x,Co(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Bn,l)}catch{}y=!0}return y}finally{_e=g,yr.transition=c}}return!1}function ax(l,c,g){c=cl(g,c),c=Pb(l,c,1),l=Ea(l,c,1),c=Gr(),l!==null&&(dt(l,1,c),co(l,c))}function Qn(l,c,g){if(l.tag===3)ax(l,l,g);else for(;c!==null;){if(c.tag===3){ax(c,l,g);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ia===null||!Ia.has(y))){l=cl(g,l),l=kb(c,l,1),c=Ea(c,l,1),l=Gr(),c!==null&&(dt(c,1,l),co(c,l));break}}c=c.return}}function AI(l,c,g){var y=l.pingCache;y!==null&&y.delete(c),c=Gr(),l.pingedLanes|=l.suspendedLanes&g,Nr===l&&(Fr&g)===g&&(Rr===4||Rr===3&&(Fr&130023424)===Fr&&500>$e()-qm?hi(l,0):Gm|=g),co(l,c)}function ix(l,c){c===0&&(l.mode&1?(c=fn,fn<<=1,!(fn&130023424)&&(fn=4194304)):c=1);var g=Gr();l=Rs(l,c),l!==null&&(dt(l,c,g),co(l,g))}function NI(l){var c=l.memoizedState,g=0;c!==null&&(g=c.retryLane),ix(l,g)}function zI(l,c){var g=0;switch(l.tag){case 13:var y=l.stateNode,x=l.memoizedState;x!==null&&(g=x.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(a(314))}y!==null&&y.delete(c),ix(l,g)}var lx;lx=function(l,c,g){if(l!==null)if(l.memoizedProps!==c.pendingProps||Qt.current)io=!0;else{if(!(l.lanes&g)&&!(c.flags&128))return io=!1,PI(l,c,g);io=!!(l.flags&131072)}else io=!1,Xn&&c.flags&1048576&&Ly(c,Jr,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;dd(l,c),l=c.pendingProps;var x=Er(c,Vt.current);sl(c,g),x=wm(null,c,y,l,x,g);var j=Cm();return c.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Yn(y)?(j=!0,Kn(c)):j=!1,c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,pm(c),x.updater=nd,c.stateNode=x,x._reactInternals=c,mm(c,y,l,g),c=Rm(null,c,y,!0,j,g)):(c.tag=0,Xn&&j&&rm(c),no(null,c,x,g),c=c.child),c;case 16:y=c.elementType;e:{switch(dd(l,c),l=c.pendingProps,x=y._init,y=x(y._payload),c.type=y,x=c.tag=LI(y),l=us(y,l),x){case 0:c=Om(null,c,y,l,g);break e;case 1:c=Db(null,c,y,l,g);break e;case 11:c=Ib(null,c,y,l,g);break e;case 14:c=Ob(null,c,y,us(y.type,l),g);break e}throw Error(a(306,y,""))}return c;case 0:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:us(y,x),Om(l,c,y,x,g);case 1:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:us(y,x),Db(l,c,y,x,g);case 3:e:{if(Ab(c),l===null)throw Error(a(387));y=c.pendingProps,j=c.memoizedState,x=j.element,Gy(l,c),td(c,y,null,g);var T=c.memoizedState;if(y=T.element,Ae&&j.isDehydrated)if(j={element:y,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},c.updateQueue.baseState=j,c.memoizedState=j,c.flags&256){x=cl(Error(a(423)),c),c=Nb(l,c,y,g,x);break e}else if(y!==x){x=cl(Error(a(424)),c),c=Nb(l,c,y,g,x);break e}else for(Ae&&(Lo=J(c.stateNode.containerInfo),ko=c,Xn=!0,cs=null,vc=!1),g=tb(c,null,y,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(rl(),y===x){c=ta(l,c,g);break e}no(l,c,y,g)}c=c.child}return c;case 5:return nb(c),l===null&&am(c),y=c.type,x=c.pendingProps,j=l!==null?l.memoizedProps:null,T=x.children,K(y,x)?T=null:j!==null&&K(y,j)&&(c.flags|=32),Tb(l,c),no(l,c,T,g),c.child;case 6:return l===null&&am(c),null;case 13:return zb(l,c,g);case 4:return gm(c,c.stateNode.containerInfo),y=c.pendingProps,l===null?c.child=al(c,null,y,g):no(l,c,y,g),c.child;case 11:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:us(y,x),Ib(l,c,y,x,g);case 7:return no(l,c,c.pendingProps,g),c.child;case 8:return no(l,c,c.pendingProps.children,g),c.child;case 12:return no(l,c,c.pendingProps.children,g),c.child;case 10:e:{if(y=c.type._context,x=c.pendingProps,j=c.memoizedProps,T=x.value,Vy(c,y,T),j!==null)if(nn(j.value,T)){if(j.children===x.children&&!Qt.current){c=ta(l,c,g);break e}}else for(j=c.child,j!==null&&(j.return=c);j!==null;){var Z=j.dependencies;if(Z!==null){T=j.child;for(var ce=Z.firstContext;ce!==null;){if(ce.context===y){if(j.tag===1){ce=ea(-1,g&-g),ce.tag=2;var De=j.updateQueue;if(De!==null){De=De.shared;var ft=De.pending;ft===null?ce.next=ce:(ce.next=ft.next,ft.next=ce),De.pending=ce}}j.lanes|=g,ce=j.alternate,ce!==null&&(ce.lanes|=g),dm(j.return,g,c),Z.lanes|=g;break}ce=ce.next}}else if(j.tag===10)T=j.type===c.type?null:j.child;else if(j.tag===18){if(T=j.return,T===null)throw Error(a(341));T.lanes|=g,Z=T.alternate,Z!==null&&(Z.lanes|=g),dm(T,g,c),T=j.sibling}else T=j.child;if(T!==null)T.return=j;else for(T=j;T!==null;){if(T===c){T=null;break}if(j=T.sibling,j!==null){j.return=T.return,T=j;break}T=T.return}j=T}no(l,c,x.children,g),c=c.child}return c;case 9:return x=c.type,y=c.pendingProps.children,sl(c,g),x=Fo(x),y=y(x),c.flags|=1,no(l,c,y,g),c.child;case 14:return y=c.type,x=us(y,c.pendingProps),x=us(y.type,x),Ob(l,c,y,x,g);case 15:return Rb(l,c,c.type,c.pendingProps,g);case 17:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:us(y,x),dd(l,c),c.tag=1,Yn(y)?(l=!0,Kn(c)):l=!1,sl(c,g),Qy(c,y,x),mm(c,y,x,g),Rm(null,c,y,!0,l,g);case 19:return Lb(l,c,g);case 22:return Mb(l,c,g)}throw Error(a(156,c.tag))};function cx(l,c){return ze(l,c)}function $I(l,c,g,y){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(l,c,g,y){return new $I(l,c,g,y)}function tg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function LI(l){if(typeof l=="function")return tg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===S)return 11;if(l===k)return 14}return 2}function Ta(l,c){var g=l.alternate;return g===null?(g=Vo(l.tag,c,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=c,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,c=l.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function Id(l,c,g,y,x,j){var T=2;if(y=l,typeof l=="function")tg(l)&&(T=1);else if(typeof l=="string")T=5;else e:switch(l){case h:return vi(g.children,x,j,c);case m:T=8,x|=8;break;case v:return l=Vo(12,g,c,x|2),l.elementType=v,l.lanes=j,l;case C:return l=Vo(13,g,c,x),l.elementType=C,l.lanes=j,l;case P:return l=Vo(19,g,c,x),l.elementType=P,l.lanes=j,l;case E:return Od(g,x,j,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case b:T=10;break e;case w:T=9;break e;case S:T=11;break e;case k:T=14;break e;case _:T=16,y=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return c=Vo(T,g,c,x),c.elementType=l,c.type=y,c.lanes=j,c}function vi(l,c,g,y){return l=Vo(7,l,y,c),l.lanes=g,l}function Od(l,c,g,y){return l=Vo(22,l,y,c),l.elementType=E,l.lanes=g,l.stateNode={isHidden:!1},l}function ng(l,c,g){return l=Vo(6,l,null,c),l.lanes=g,l}function rg(l,c,g){return c=Vo(4,l.children!==null?l.children:[],l.key,c),c.lanes=g,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function FI(l,c,g,y,x){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=oe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dt(0),this.expirationTimes=Dt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.identifierPrefix=y,this.onRecoverableError=x,Ae&&(this.mutableSourceEagerHydrationData=null)}function ux(l,c,g,y,x,j,T,Z,ce){return l=new FI(l,c,g,Z,ce),c===1?(c=1,j===!0&&(c|=8)):c=0,j=Vo(3,null,null,c),l.current=j,j.stateNode=l,j.memoizedState={element:y,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(j),l}function dx(l){if(!l)return dn;l=l._reactInternals;e:{if(D(l)!==l||l.tag!==1)throw Error(a(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Yn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(a(171))}if(l.tag===1){var g=l.type;if(Yn(g))return _n(l,g,c)}return c}function fx(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=G(c),l===null?null:l.stateNode}function px(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<c?g:c}}function Rd(l,c){px(l,c),(l=l.alternate)&&px(l,c)}function BI(l){return l=G(l),l===null?null:l.stateNode}function HI(){return null}return n.attemptContinuousHydration=function(l){if(l.tag===13){var c=Rs(l,134217728);if(c!==null){var g=Gr();Wo(c,l,134217728,g)}Rd(l,134217728)}},n.attemptDiscreteHydration=function(l){if(l.tag===13){var c=Rs(l,1);if(c!==null){var g=Gr();Wo(c,l,1,g)}Rd(l,1)}},n.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var c=Ra(l),g=Rs(l,c);if(g!==null){var y=Gr();Wo(g,l,c,y)}Rd(l,c)}},n.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var g=pn(c.pendingLanes);g!==0&&(Ee(c,g|1),co(c,$e()),!(Zt&6)&&(fl(),Co()))}break;case 13:tx(function(){var y=Rs(l,1);if(y!==null){var x=Gr();Wo(y,l,1,x)}}),Rd(l,1)}},n.batchedUpdates=function(l,c){var g=Zt;Zt|=1;try{return l(c)}finally{Zt=g,Zt===0&&(fl(),$r&&Co())}},n.createComponentSelector=function(l){return{$$typeof:gd,value:l}},n.createContainer=function(l,c,g,y,x,j,T){return ux(l,c,!1,null,g,y,x,j,T)},n.createHasPseudoClassSelector=function(l){return{$$typeof:vd,value:l}},n.createHydrationContainer=function(l,c,g,y,x,j,T,Z,ce){return l=ux(g,y,!0,l,x,j,T,Z,ce),l.context=dx(null),g=l.current,y=Gr(),x=Ra(g),j=ea(y,x),j.callback=c??null,Ea(g,j,x),l.current.lanes=x,dt(l,x,y),co(l,y),l},n.createPortal=function(l,c,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:y==null?null:""+y,children:l,containerInfo:c,implementation:g}},n.createRoleSelector=function(l){return{$$typeof:yd,value:l}},n.createTestNameSelector=function(l){return{$$typeof:bd,value:l}},n.createTextSelector=function(l){return{$$typeof:xd,value:l}},n.deferredUpdates=function(l){var c=_e,g=yr.transition;try{return yr.transition=null,_e=16,l()}finally{_e=c,yr.transition=g}},n.discreteUpdates=function(l,c,g,y,x){var j=_e,T=yr.transition;try{return yr.transition=null,_e=1,l(c,g,y,x)}finally{_e=j,yr.transition=T,Zt===0&&fl()}},n.findAllNodes=Vm,n.findBoundingRects=function(l,c){if(!xt)throw Error(a(363));c=Vm(l,c),l=[];for(var g=0;g<c.length;g++)l.push(Q(c[g]));for(c=l.length-1;0<c;c--){g=l[c];for(var y=g.x,x=y+g.width,j=g.y,T=j+g.height,Z=c-1;0<=Z;Z--)if(c!==Z){var ce=l[Z],De=ce.x,ft=De+ce.width,Bt=ce.y,rt=Bt+ce.height;if(y>=De&&j>=Bt&&x<=ft&&T<=rt){l.splice(c,1);break}else if(y!==De||g.width!==ce.width||rt<j||Bt>T){if(!(j!==Bt||g.height!==ce.height||ft<y||De>x)){De>y&&(ce.width+=De-y,ce.x=y),ft<x&&(ce.width=x-De),l.splice(c,1);break}}else{Bt>j&&(ce.height+=Bt-j,ce.y=j),rt<T&&(ce.height=T-Bt),l.splice(c,1);break}}}return l},n.findHostInstance=fx,n.findHostInstanceWithNoPortals=function(l){return l=A(l),l=l!==null?F(l):null,l===null?null:l.stateNode},n.findHostInstanceWithWarning=function(l){return fx(l)},n.flushControlled=function(l){var c=Zt;Zt|=1;var g=yr.transition,y=_e;try{yr.transition=null,_e=1,l()}finally{_e=y,yr.transition=g,Zt=c,Zt===0&&(fl(),Co())}},n.flushPassiveEffects=gi,n.flushSync=tx,n.focusWithin=function(l,c){if(!xt)throw Error(a(363));for(l=Bm(l),c=Zb(l,c),c=Array.from(c),l=0;l<c.length;){var g=c[l++];if(!te(g)){if(g.tag===5&&Ne(g.stateNode))return!0;for(g=g.child;g!==null;)c.push(g),g=g.sibling}}return!1},n.getCurrentUpdatePriority=function(){return _e},n.getFindAllNodesFailureDescription=function(l,c){if(!xt)throw Error(a(363));var g=0,y=[];l=[Bm(l),0];for(var x=0;x<l.length;){var j=l[x++],T=l[x++],Z=c[T];if((j.tag!==5||!te(j))&&(Hm(j,Z)&&(y.push(Wm(Z)),T++,T>g&&(g=T)),T<c.length))for(j=j.child;j!==null;)l.push(j,T),j=j.sibling}if(g<c.length){for(l=[];g<c.length;g++)l.push(Wm(c[g]));return`findAllNodes was able to match part of the selector:
  `+(y.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},n.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return X(l.child.stateNode);default:return l.child.stateNode}},n.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:BI,findFiberByHostInstance:l.findFiberByHostInstance||HI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{Bn=c.inject(l),sn=c}catch{}l=!!c.checkDCE}}return l},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(l,c,g,y){if(!xt)throw Error(a(363));l=Vm(l,c);var x=Xe(l,g,y).disconnect;return{disconnect:function(){x()}}},n.registerMutableSourceForHydration=function(l,c){var g=c._getVersion;g=g(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,g]:l.mutableSourceEagerHydrationData.push(c,g)},n.runWithPriority=function(l,c){var g=_e;try{return _e=l,c()}finally{_e=g}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(l,c,g,y){var x=c.current,j=Gr(),T=Ra(x);return g=dx(g),c.context===null?c.context=g:c.pendingContext=g,c=ea(j,T),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ea(x,c,T),l!==null&&(Wo(l,x,T,j),ed(l,x,T)),T},n};YE.exports=Dne;var Ane=YE.exports;const Nne=ac(Ane);var KE={exports:{}},nl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */nl.ConcurrentRoot=1;nl.ContinuousEventPriority=4;nl.DefaultEventPriority=16;nl.DiscreteEventPriority=1;nl.IdleEventPriority=536870912;nl.LegacyRoot=0;KE.exports=nl;var XE=KE.exports;const H4={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let W4=!1,V4=!1;const Ny=".react-konva-event",zne=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,$ne=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Lne={};function nm(e,t,n=Lne){if(!W4&&"zIndex"in t&&(console.warn($ne),W4=!0),!V4&&t.draggable){var r=t.x!==void 0||t.y!==void 0,o=t.onDragEnd||t.onDragMove;r&&!o&&(console.warn(zne),V4=!0)}for(var s in n)if(!H4[s]){var a=s.slice(0,2)==="on",u=n[s]!==t[s];if(a&&u){var d=s.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),e.off(d,n[s])}var f=!t.hasOwnProperty(s);f&&e.setAttr(s,void 0)}var h=t._useStrictMode,m={},v=!1;const b={};for(var s in t)if(!H4[s]){var a=s.slice(0,2)==="on",w=n[s]!==t[s];if(a&&w){var d=s.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t[s]&&(b[d]=t[s])}!a&&(t[s]!==n[s]||h&&t[s]!==e.getAttr(s))&&(v=!0,m[s]=t[s])}v&&(e.setAttrs(m),ci(e));for(var d in b)e.on(d+Ny,b[d])}function ci(e){if(!TR.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const QE={},Fne={};ku.Node.prototype._applyProps=nm;function Bne(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),ci(e)}function Hne(e,t,n){let r=ku[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=ku.Group);const o={},s={};for(var a in t){var u=a.slice(0,2)==="on";u?s[a]=t[a]:o[a]=t[a]}const d=new r(o);return nm(d,s),d}function Wne(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function Vne(e,t,n){return!1}function Une(e){return e}function Gne(){return null}function qne(){return null}function Yne(e,t,n,r){return Fne}function Kne(){}function Xne(e){}function Qne(e,t){return!1}function Zne(){return QE}function Jne(){return QE}const ere=setTimeout,tre=clearTimeout,nre=-1;function rre(e,t){return!1}const ore=!1,sre=!0,are=!0;function ire(e,t){t.parent===e?t.moveToTop():e.add(t),ci(e)}function lre(e,t){t.parent===e?t.moveToTop():e.add(t),ci(e)}function ZE(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),ci(e)}function cre(e,t,n){ZE(e,t,n)}function ure(e,t){t.destroy(),t.off(Ny),ci(e)}function dre(e,t){t.destroy(),t.off(Ny),ci(e)}function fre(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function pre(e,t,n){}function hre(e,t,n,r,o){nm(e,o,r)}function mre(e){e.hide(),ci(e)}function gre(e){}function vre(e,t){(t.visible==null||t.visible)&&e.show()}function yre(e,t){}function bre(e){}function xre(){}const Sre=()=>XE.DefaultEventPriority,wre=Object.freeze(Object.defineProperty({__proto__:null,appendChild:ire,appendChildToContainer:lre,appendInitialChild:Bne,cancelTimeout:tre,clearContainer:bre,commitMount:pre,commitTextUpdate:fre,commitUpdate:hre,createInstance:Hne,createTextInstance:Wne,detachDeletedInstance:xre,finalizeInitialChildren:Vne,getChildHostContext:Jne,getCurrentEventPriority:Sre,getPublicInstance:Une,getRootHostContext:Zne,hideInstance:mre,hideTextInstance:gre,idlePriority:Pf.unstable_IdlePriority,insertBefore:ZE,insertInContainerBefore:cre,isPrimaryRenderer:ore,noTimeout:nre,now:Pf.unstable_now,prepareForCommit:Gne,preparePortalMount:qne,prepareUpdate:Yne,removeChild:ure,removeChildFromContainer:dre,resetAfterCommit:Kne,resetTextContent:Xne,run:Pf.unstable_runWithPriority,scheduleTimeout:ere,shouldDeprioritizeSubtree:Qne,shouldSetTextContent:rre,supportsMutation:are,unhideInstance:vre,unhideTextInstance:yre,warnsIfNotActing:sre},Symbol.toStringTag,{value:"Module"}));var Cre=Object.defineProperty,Pre=Object.defineProperties,kre=Object.getOwnPropertyDescriptors,U4=Object.getOwnPropertySymbols,_re=Object.prototype.hasOwnProperty,jre=Object.prototype.propertyIsEnumerable,G4=(e,t,n)=>t in e?Cre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q4=(e,t)=>{for(var n in t||(t={}))_re.call(t,n)&&G4(e,n,t[n]);if(U4)for(var n of U4(t))jre.call(t,n)&&G4(e,n,t[n]);return e},Ere=(e,t)=>Pre(e,kre(t));function JE(e,t,n){if(!e)return;if(n(e)===!0)return e;let r=t?e.return:e.child;for(;r;){const o=JE(r,t,n);if(o)return o;r=t?null:r.sibling}}function eI(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const zy=eI(p.createContext(null));class tI extends p.Component{render(){return p.createElement(zy.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Y4,ReactCurrentDispatcher:K4}=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Ire(){const e=p.useContext(zy);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=p.useId();return p.useMemo(()=>{for(const r of[Y4==null?void 0:Y4.current,e,e==null?void 0:e.alternate]){if(!r)continue;const o=JE(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===t)return!0;a=a.next}});if(o)return o}},[e,t])}function Ore(){var e,t;const n=Ire(),[r]=p.useState(()=>new Map);r.clear();let o=n;for(;o;){const s=(e=o.type)==null?void 0:e._context;s&&s!==zy&&!r.has(s)&&r.set(s,(t=K4==null?void 0:K4.current)==null?void 0:t.readContext(eI(s))),o=o.return}return r}function Rre(){const e=Ore();return p.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>p.createElement(t,null,p.createElement(n.Provider,Ere(q4({},r),{value:e.get(n)}))),t=>p.createElement(tI,q4({},t))),[e])}function Mre(e){const t=z.useRef({});return z.useLayoutEffect(()=>{t.current=e}),z.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const Tre=e=>{const t=z.useRef(),n=z.useRef(),r=z.useRef(),o=Mre(e),s=Rre(),a=u=>{const{forwardedRef:d}=e;d&&(typeof d=="function"?d(u):d.current=u)};return z.useLayoutEffect(()=>(n.current=new ku.Stage({width:e.width,height:e.height,container:t.current}),a(n.current),r.current=Zc.createContainer(n.current,XE.LegacyRoot,!1,null),Zc.updateContainer(z.createElement(s,{},e.children),r.current),()=>{ku.isBrowser&&(a(null),Zc.updateContainer(null,r.current,null),n.current.destroy())}),[]),z.useLayoutEffect(()=>{a(n.current),nm(n.current,e,o),Zc.updateContainer(z.createElement(s,{},e.children),r.current,null)}),z.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Uc="Layer",ya="Group",Gs="Rect",bi="Circle",eh="Line",nI="Image",Dre="Transformer",Zc=Nne(wre);Zc.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:z.version,rendererPackageName:"react-konva"});const Are=z.forwardRef((e,t)=>z.createElement(tI,{},z.createElement(Tre,{...e,forwardedRef:t}))),Nre=Pe([en,nr],(e,t)=>{const{tool:n,isMovingBoundingBox:r}=e;return{tool:n,isStaging:t,isMovingBoundingBox:r}},{memoizeOptions:{resultEqualityCheck:Wt}}),zre=()=>{const e=se(),{tool:t,isStaging:n,isMovingBoundingBox:r}=B(Nre);return{handleDragStart:p.useCallback(()=>{(t==="move"||n)&&!r&&e(Wf(!0))},[e,r,n,t]),handleDragMove:p.useCallback(o=>{if(!((t==="move"||n)&&!r))return;const s={x:o.target.x(),y:o.target.y()};e(W3(s))},[e,r,n,t]),handleDragEnd:p.useCallback(()=>{(t==="move"||n)&&!r&&e(Wf(!1))},[e,r,n,t])}},$re=Pe([en,Dr,nr],(e,t,n)=>{const{cursorPosition:r,shouldLockBoundingBox:o,shouldShowBoundingBox:s,tool:a,isMaskEnabled:u,shouldSnapToGrid:d}=e;return{activeTabName:t,isCursorOnCanvas:!!r,shouldLockBoundingBox:o,shouldShowBoundingBox:s,tool:a,isStaging:n,isMaskEnabled:u,shouldSnapToGrid:d}},{memoizeOptions:{resultEqualityCheck:Wt}}),Lre=()=>{const e=se(),{activeTabName:t,shouldShowBoundingBox:n,tool:r,isStaging:o,isMaskEnabled:s,shouldSnapToGrid:a}=B($re),u=p.useRef(null),d=V3(),f=()=>e(L0());Ge(["shift+c"],()=>{f()},{enabled:()=>!o,preventDefault:!0},[]);const h=()=>e(Du(!s));Ge(["h"],()=>{h()},{enabled:()=>!o,preventDefault:!0},[s]),Ge(["n"],()=>{e(Vf(!a))},{enabled:!0,preventDefault:!0},[a]),Ge("esc",()=>{e(DR())},{enabled:()=>!0,preventDefault:!0}),Ge("shift+h",()=>{e(AR(!n))},{enabled:()=>!o,preventDefault:!0},[t,n]),Ge(["space"],m=>{m.repeat||(d==null||d.container().focus(),r!=="move"&&(u.current=r,e(Hs("move"))),r==="move"&&u.current&&u.current!=="move"&&(e(Hs(u.current)),u.current="move"))},{keyup:!0,keydown:!0,preventDefault:!0},[r,u])},$y=e=>{const t=e.getPointerPosition(),n=e.getAbsoluteTransform().copy();if(!t||!n)return;const r=n.invert().point(t);return{x:r.x,y:r.y}},rI=()=>{const e=se(),t=pa(),n=V3();return{updateColorUnderCursor:()=>{if(!n||!t)return;const r=n.getPointerPosition();if(!r)return;const o=NR.pixelRatio,[s,a,u,d]=t.getContext().getImageData(r.x*o,r.y*o,1,1).data;e(zR({r:s,g:a,b:u,a:d}))},commitColorUnderCursor:()=>{e($R())}}},Fre=Pe([Dr,en,nr],(e,t,n)=>{const{tool:r}=t;return{tool:r,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:Wt}}),Bre=e=>{const t=se(),{tool:n,isStaging:r}=B(Fre),{commitColorUnderCursor:o}=rI();return p.useCallback(s=>{if(!e.current)return;if(e.current.container().focus(),n==="move"||r){t(Wf(!0));return}if(n==="colorPicker"){o();return}const a=$y(e.current);a&&(s.evt.preventDefault(),t(U3(!0)),t(LR([a.x,a.y])))},[e,n,r,t,o])},Hre=Pe([Dr,en,nr],(e,t,n)=>{const{tool:r,isDrawing:o}=t;return{tool:r,isDrawing:o,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:Wt}}),Wre=(e,t,n)=>{const r=se(),{isDrawing:o,tool:s,isStaging:a}=B(Hre),{updateColorUnderCursor:u}=rI();return p.useCallback(()=>{if(!e.current)return;const d=$y(e.current);if(d){if(r(FR(d)),n.current=d,s==="colorPicker"){u();return}!o||s==="move"||a||(t.current=!0,r(G3([d.x,d.y])))}},[t,r,o,a,n,e,s,u])},Vre=()=>{const e=se();return p.useCallback(()=>{e(BR())},[e])},Ure=Pe([Dr,en,nr],(e,t,n)=>{const{tool:r,isDrawing:o}=t;return{tool:r,isDrawing:o,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:Wt}}),Gre=(e,t)=>{const n=se(),{tool:r,isDrawing:o,isStaging:s}=B(Ure);return p.useCallback(()=>{if(r==="move"||s){n(Wf(!1));return}if(!t.current&&o&&e.current){const a=$y(e.current);if(!a)return;n(G3([a.x,a.y]))}else t.current=!1;n(U3(!1))},[t,n,o,s,e,r])},qre=Pe([en],e=>{const{isMoveStageKeyHeld:t,stageScale:n}=e;return{isMoveStageKeyHeld:t,stageScale:n}},{memoizeOptions:{resultEqualityCheck:Wt}}),Yre=e=>{const t=se(),{isMoveStageKeyHeld:n,stageScale:r}=B(qre);return p.useCallback(o=>{if(!e.current||n)return;o.evt.preventDefault();const s=e.current.getPointerPosition();if(!s)return;const a={x:(s.x-e.current.x())/r,y:(s.y-e.current.y())/r};let u=o.evt.deltaY;o.evt.ctrlKey&&(u=-u);const d=Vs(r*VR**u,WR,HR),f={x:s.x-a.x*d,y:s.y-a.y*d};t(UR(d)),t(W3(f))},[e,n,r,t])},Kre=Pe(en,e=>{const{boundingBoxCoordinates:t,boundingBoxDimensions:n,stageDimensions:r,stageScale:o,shouldDarkenOutsideBoundingBox:s,stageCoordinates:a}=e;return{boundingBoxCoordinates:t,boundingBoxDimensions:n,shouldDarkenOutsideBoundingBox:s,stageCoordinates:a,stageDimensions:r,stageScale:o}},{memoizeOptions:{resultEqualityCheck:Wt}}),Xre=()=>{const{boundingBoxCoordinates:e,boundingBoxDimensions:t,shouldDarkenOutsideBoundingBox:n,stageCoordinates:r,stageDimensions:o,stageScale:s}=B(Kre);return i.jsxs(ya,{children:[i.jsx(Gs,{offsetX:r.x/s,offsetY:r.y/s,height:o.height/s,width:o.width/s,fill:"rgba(0,0,0,0.4)",listening:!1,visible:n}),i.jsx(Gs,{x:e.x,y:e.y,width:t.width,height:t.height,fill:"rgb(255,255,255)",listening:!1,visible:n,globalCompositeOperation:"destination-out"})]})},Qre=Pe([en],e=>{const{stageScale:t,stageCoordinates:n,stageDimensions:r}=e;return{stageScale:t,stageCoordinates:n,stageDimensions:r}},{memoizeOptions:{resultEqualityCheck:Wt}}),Zre=()=>{const{stageScale:e,stageCoordinates:t,stageDimensions:n}=B(Qre),{colorMode:r}=bo(),[o,s]=p.useState([]),[a,u]=Xi("colors",["base.800","base.200"]),d=p.useCallback(f=>f/e,[e]);return p.useLayoutEffect(()=>{const{width:f,height:h}=n,{x:m,y:v}=t,b={x1:0,y1:0,x2:f,y2:h,offset:{x:d(m),y:d(v)}},w={x:Math.ceil(d(m)/64)*64,y:Math.ceil(d(v)/64)*64},S={x1:-w.x,y1:-w.y,x2:d(f)-w.x+64,y2:d(h)-w.y+64},P={x1:Math.min(b.x1,S.x1),y1:Math.min(b.y1,S.y1),x2:Math.max(b.x2,S.x2),y2:Math.max(b.y2,S.y2)},k=P.x2-P.x1,_=P.y2-P.y1,E=Math.round(k/64)+1,I=Math.round(_/64)+1,O=u2(0,E).map(M=>i.jsx(eh,{x:P.x1+M*64,y:P.y1,points:[0,0,0,_],stroke:r==="dark"?a:u,strokeWidth:1},`x_${M}`)),R=u2(0,I).map(M=>i.jsx(eh,{x:P.x1,y:P.y1+M*64,points:[0,0,k,0],stroke:r==="dark"?a:u,strokeWidth:1},`y_${M}`));s(O.concat(R))},[e,t,n,d,r,a,u]),i.jsx(ya,{children:o})},Jre=Pe([ao,en],(e,t)=>{const{progressImage:n,sessionId:r}=e,{sessionId:o,boundingBox:s}=t.layerState.stagingArea;return{boundingBox:s,progressImage:r===o?n:void 0}},{memoizeOptions:{resultEqualityCheck:Wt}}),eoe=e=>{const{...t}=e,{progressImage:n,boundingBox:r}=B(Jre),[o,s]=p.useState(null);return p.useEffect(()=>{if(!n)return;const a=new Image;a.onload=()=>{s(a)},a.src=n.dataURL},[n]),n&&r&&o?i.jsx(nI,{x:r.x,y:r.y,width:r.width,height:r.height,image:o,listening:!1,...t}):null},zi=e=>{const{r:t,g:n,b:r,a:o}=e;return`rgba(${t}, ${n}, ${r}, ${o})`},toe=Pe(en,e=>{const{maskColor:t,stageCoordinates:n,stageDimensions:r,stageScale:o}=e;return{stageCoordinates:n,stageDimensions:r,stageScale:o,maskColorString:zi(t)}}),X4=e=>`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
  <svg width="60px" height="60px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
  <g transform="matrix(0.5,0,0,0.5,0,0)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,2.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,7.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,10)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,12.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,15)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,17.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,20)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,22.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,25)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,27.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,30)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-2.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-7.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-10)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-12.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-15)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-17.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-20)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-22.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-25)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-27.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-30)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
</svg>`.replaceAll("black",e),noe=e=>{const{...t}=e,{maskColorString:n,stageCoordinates:r,stageDimensions:o,stageScale:s}=B(toe),[a,u]=p.useState(null),[d,f]=p.useState(0),h=p.useRef(null),m=p.useCallback(()=>{f(d+1),setTimeout(m,500)},[d]);return p.useEffect(()=>{if(a)return;const v=new Image;v.onload=()=>{u(v)},v.src=X4(n)},[a,n]),p.useEffect(()=>{a&&(a.src=X4(n))},[a,n]),p.useEffect(()=>{const v=setInterval(()=>f(b=>(b+1)%5),50);return()=>clearInterval(v)},[]),!a||!ml(r.x)||!ml(r.y)||!ml(s)||!ml(o.width)||!ml(o.height)?null:i.jsx(Gs,{ref:h,offsetX:r.x/s,offsetY:r.y/s,height:o.height/s,width:o.width/s,fillPatternImage:a,fillPatternOffsetY:ml(d)?d:0,fillPatternRepeat:"repeat",fillPatternScale:{x:1/s,y:1/s},listening:!0,globalCompositeOperation:"source-in",...t})},roe=Pe([en],e=>({objects:e.layerState.objects}),{memoizeOptions:{resultEqualityCheck:Wt}}),ooe=e=>{const{...t}=e,{objects:n}=B(roe);return i.jsx(ya,{listening:!1,...t,children:n.filter(GR).map((r,o)=>i.jsx(eh,{points:r.points,stroke:"rgb(0,0,0)",strokeWidth:r.strokeWidth*2,tension:0,lineCap:"round",lineJoin:"round",shadowForStrokeEnabled:!1,listening:!1,globalCompositeOperation:r.tool==="brush"?"source-over":"destination-out"},o))})};var xi=p,soe=function(t,n,r){const o=xi.useRef("loading"),s=xi.useRef(),[a,u]=xi.useState(0),d=xi.useRef(),f=xi.useRef(),h=xi.useRef();return(d.current!==t||f.current!==n||h.current!==r)&&(o.current="loading",s.current=void 0,d.current=t,f.current=n,h.current=r),xi.useLayoutEffect(function(){if(!t)return;var m=document.createElement("img");function v(){o.current="loaded",s.current=m,u(Math.random())}function b(){o.current="failed",s.current=void 0,u(Math.random())}return m.addEventListener("load",v),m.addEventListener("error",b),n&&(m.crossOrigin=n),r&&(m.referrerPolicy=r),m.src=t,function(){m.removeEventListener("load",v),m.removeEventListener("error",b)}},[t,n,r]),[s.current,o.current]};const aoe=ac(soe),oI=e=>{const{width:t,height:n,x:r,y:o,imageName:s}=e.canvasImage,{currentData:a,isError:u}=Ws(s??ga.skipToken),[d]=aoe((a==null?void 0:a.image_url)??"",qR.get()?"use-credentials":"anonymous");return u?i.jsx(Gs,{x:r,y:o,width:t,height:n,fill:"red"}):i.jsx(nI,{x:r,y:o,image:d,listening:!1})},ioe=Pe([en],e=>{const{layerState:{objects:t}}=e;return{objects:t}},{memoizeOptions:{resultEqualityCheck:Wt}}),loe=()=>{const{objects:e}=B(ioe);return e?i.jsx(ya,{name:"outpainting-objects",listening:!1,children:e.map((t,n)=>{if(YR(t))return i.jsx(oI,{canvasImage:t},n);if(KR(t)){const r=i.jsx(eh,{points:t.points,stroke:t.color?zi(t.color):"rgb(0,0,0)",strokeWidth:t.strokeWidth*2,tension:0,lineCap:"round",lineJoin:"round",shadowForStrokeEnabled:!1,listening:!1,globalCompositeOperation:t.tool==="brush"?"source-over":"destination-out"},n);return t.clip?i.jsx(ya,{clipX:t.clip.x,clipY:t.clip.y,clipWidth:t.clip.width,clipHeight:t.clip.height,children:r},n):r}else{if(XR(t))return i.jsx(Gs,{x:t.x,y:t.y,width:t.width,height:t.height,fill:zi(t.color)},n);if(QR(t))return i.jsx(Gs,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"rgb(255, 255, 255)",globalCompositeOperation:"destination-out"},n)}})}):null},coe=Pe([en],e=>{const{layerState:t,shouldShowStagingImage:n,shouldShowStagingOutline:r,boundingBoxCoordinates:{x:o,y:s},boundingBoxDimensions:{width:a,height:u}}=e,{selectedImageIndex:d,images:f}=t.stagingArea;return{currentStagingAreaImage:f.length>0&&d!==void 0?f[d]:void 0,isOnFirstImage:d===0,isOnLastImage:d===f.length-1,shouldShowStagingImage:n,shouldShowStagingOutline:r,x:o,y:s,width:a,height:u}},{memoizeOptions:{resultEqualityCheck:Wt}}),uoe=e=>{const{...t}=e,{currentStagingAreaImage:n,shouldShowStagingImage:r,shouldShowStagingOutline:o,x:s,y:a,width:u,height:d}=B(coe);return i.jsxs(ya,{...t,children:[r&&n&&i.jsx(oI,{canvasImage:n}),o&&i.jsxs(ya,{children:[i.jsx(Gs,{x:s,y:a,width:u,height:d,strokeWidth:1,stroke:"white",strokeScaleEnabled:!1}),i.jsx(Gs,{x:s,y:a,width:u,height:d,dash:[4,4],strokeWidth:1,stroke:"black",strokeScaleEnabled:!1})]})]})},doe=Pe([en],e=>{const{layerState:{stagingArea:{images:t,selectedImageIndex:n,sessionId:r}},shouldShowStagingOutline:o,shouldShowStagingImage:s}=e;return{currentStagingAreaImage:t.length>0?t[n]:void 0,isOnFirstImage:n===0,isOnLastImage:n===t.length-1,shouldShowStagingImage:s,shouldShowStagingOutline:o,sessionId:r}},{memoizeOptions:{resultEqualityCheck:Wt}}),foe=()=>{const e=se(),{isOnFirstImage:t,isOnLastImage:n,currentStagingAreaImage:r,shouldShowStagingImage:o,sessionId:s}=B(doe),{t:a}=ye(),u=p.useCallback(()=>{e(Zx(!0))},[e]),d=p.useCallback(()=>{e(Zx(!1))},[e]);Ge(["left"],()=>{f()},{enabled:()=>!0,preventDefault:!0}),Ge(["right"],()=>{h()},{enabled:()=>!0,preventDefault:!0}),Ge(["enter"],()=>{m()},{enabled:()=>!0,preventDefault:!0});const f=p.useCallback(()=>e(ZR()),[e]),h=p.useCallback(()=>e(JR()),[e]),m=p.useCallback(()=>e(e7(s)),[e,s]);return r?i.jsx(q,{pos:"absolute",bottom:4,w:"100%",align:"center",justify:"center",filter:"drop-shadow(0 0.5rem 1rem rgba(0,0,0))",onMouseOver:u,onMouseOut:d,children:i.jsxs(br,{isAttached:!0,children:[i.jsx(Me,{tooltip:`${a("unifiedCanvas.previous")} (Left)`,"aria-label":`${a("unifiedCanvas.previous")} (Left)`,icon:i.jsx(L$,{}),onClick:f,colorScheme:"accent",isDisabled:t}),i.jsx(Me,{tooltip:`${a("unifiedCanvas.next")} (Right)`,"aria-label":`${a("unifiedCanvas.next")} (Right)`,icon:i.jsx(F$,{}),onClick:h,colorScheme:"accent",isDisabled:n}),i.jsx(Me,{tooltip:`${a("unifiedCanvas.accept")} (Enter)`,"aria-label":`${a("unifiedCanvas.accept")} (Enter)`,icon:i.jsx(W$,{}),onClick:m,colorScheme:"accent"}),i.jsx(Me,{tooltip:a("unifiedCanvas.showHide"),"aria-label":a("unifiedCanvas.showHide"),"data-alert":!o,icon:o?i.jsx(K$,{}):i.jsx(Y$,{}),onClick:()=>e(t7(!o)),colorScheme:"accent"}),i.jsx(Me,{tooltip:a("unifiedCanvas.saveToGallery"),"aria-label":a("unifiedCanvas.saveToGallery"),icon:i.jsx(L1,{}),onClick:()=>e(n7({imageName:r.imageName})),colorScheme:"accent"}),i.jsx(Me,{tooltip:a("unifiedCanvas.discardAll"),"aria-label":a("unifiedCanvas.discardAll"),icon:i.jsx(Ih,{style:{transform:"rotate(45deg)"}}),onClick:()=>e(r7()),colorScheme:"error",fontSize:20})]})}):null},Ml=e=>Math.round(e*100)/100,poe=Pe([en],e=>{const{cursorPosition:t}=e,{cursorX:n,cursorY:r}=t?{cursorX:t.x,cursorY:t.y}:{cursorX:-1,cursorY:-1};return{cursorCoordinatesString:`(${Ml(n)}, ${Ml(r)})`}},{memoizeOptions:{resultEqualityCheck:Wt}});function hoe(){const{cursorCoordinatesString:e}=B(poe),{t}=ye();return i.jsx(Ue,{children:`${t("unifiedCanvas.cursorPosition")}: ${e}`})}const k0="var(--invokeai-colors-warning-500)",moe=Pe([en],e=>{const{stageDimensions:{width:t,height:n},stageCoordinates:{x:r,y:o},boundingBoxDimensions:{width:s,height:a},scaledBoundingBoxDimensions:{width:u,height:d},boundingBoxCoordinates:{x:f,y:h},stageScale:m,shouldShowCanvasDebugInfo:v,layer:b,boundingBoxScaleMethod:w,shouldPreserveMaskedArea:S}=e;let C="inherit";return(w==="none"&&(s<512||a<512)||w==="manual"&&u*d<512*512)&&(C=k0),{activeLayerColor:b==="mask"?k0:"inherit",activeLayerString:b.charAt(0).toUpperCase()+b.slice(1),boundingBoxColor:C,boundingBoxCoordinatesString:`(${Ml(f)}, ${Ml(h)})`,boundingBoxDimensionsString:`${s}${a}`,scaledBoundingBoxDimensionsString:`${u}${d}`,canvasCoordinatesString:`${Ml(r)}${Ml(o)}`,canvasDimensionsString:`${t}${n}`,canvasScaleString:Math.round(m*100),shouldShowCanvasDebugInfo:v,shouldShowBoundingBox:w!=="auto",shouldShowScaledBoundingBox:w!=="none",shouldPreserveMaskedArea:S}},{memoizeOptions:{resultEqualityCheck:Wt}}),goe=()=>{const{activeLayerColor:e,activeLayerString:t,boundingBoxColor:n,boundingBoxCoordinatesString:r,boundingBoxDimensionsString:o,scaledBoundingBoxDimensionsString:s,shouldShowScaledBoundingBox:a,canvasCoordinatesString:u,canvasDimensionsString:d,canvasScaleString:f,shouldShowCanvasDebugInfo:h,shouldShowBoundingBox:m,shouldPreserveMaskedArea:v}=B(moe),{t:b}=ye();return i.jsxs(q,{sx:{flexDirection:"column",position:"absolute",top:0,insetInlineStart:0,opacity:.65,display:"flex",fontSize:"sm",padding:1,px:2,minWidth:48,margin:1,borderRadius:"base",pointerEvents:"none",bg:"base.200",_dark:{bg:"base.800"}},children:[i.jsx(Ue,{style:{color:e},children:`${b("unifiedCanvas.activeLayer")}: ${t}`}),i.jsx(Ue,{children:`${b("unifiedCanvas.canvasScale")}: ${f}%`}),v&&i.jsx(Ue,{style:{color:k0},children:"Preserve Masked Area: On"}),m&&i.jsx(Ue,{style:{color:n},children:`${b("unifiedCanvas.boundingBox")}: ${o}`}),a&&i.jsx(Ue,{style:{color:n},children:`${b("unifiedCanvas.scaledBoundingBox")}: ${s}`}),h&&i.jsxs(i.Fragment,{children:[i.jsx(Ue,{children:`${b("unifiedCanvas.boundingBoxPosition")}: ${r}`}),i.jsx(Ue,{children:`${b("unifiedCanvas.canvasDimensions")}: ${d}`}),i.jsx(Ue,{children:`${b("unifiedCanvas.canvasPosition")}: ${u}`}),i.jsx(hoe,{})]})]})},voe=Pe(en,e=>{const{boundingBoxCoordinates:t,boundingBoxDimensions:n,stageScale:r,isDrawing:o,isTransformingBoundingBox:s,isMovingBoundingBox:a,tool:u,shouldSnapToGrid:d}=e;return{boundingBoxCoordinates:t,boundingBoxDimensions:n,isDrawing:o,isMovingBoundingBox:a,isTransformingBoundingBox:s,stageScale:r,shouldSnapToGrid:d,tool:u,hitStrokeWidth:20/r}},{memoizeOptions:{resultEqualityCheck:Wt}}),yoe=e=>{const{...t}=e,n=se(),{boundingBoxCoordinates:r,boundingBoxDimensions:o,isDrawing:s,isMovingBoundingBox:a,isTransformingBoundingBox:u,stageScale:d,shouldSnapToGrid:f,tool:h,hitStrokeWidth:m}=B(voe),v=p.useRef(null),b=p.useRef(null),[w,S]=p.useState(!1);p.useEffect(()=>{var G;!v.current||!b.current||(v.current.nodes([b.current]),(G=v.current.getLayer())==null||G.batchDraw())},[]);const C=64*d,P=p.useCallback(G=>{if(!f){n(lg({x:Math.floor(G.target.x()),y:Math.floor(G.target.y())}));return}const L=G.target.x(),F=G.target.y(),W=Jx(L,64),X=Jx(F,64);G.target.x(W),G.target.y(X),n(lg({x:W,y:X}))},[n,f]),k=p.useCallback(()=>{if(!b.current)return;const G=b.current,L=G.scaleX(),F=G.scaleY(),W=Math.round(G.width()*L),X=Math.round(G.height()*F),N=Math.round(G.x()),V=Math.round(G.y());n(uu({width:W,height:X})),n(lg({x:f?Dd(N,64):N,y:f?Dd(V,64):V})),G.scaleX(1),G.scaleY(1)},[n,f]),_=p.useCallback((G,L,F)=>{const W=G.x%C,X=G.y%C;return{x:Dd(L.x,C)+W,y:Dd(L.y,C)+X}},[C]),E=()=>{n(cg(!0))},I=()=>{n(cg(!1)),n(ug(!1)),n(Ad(!1)),S(!1)},O=()=>{n(ug(!0))},R=()=>{n(cg(!1)),n(ug(!1)),n(Ad(!1)),S(!1)},M=()=>{S(!0)},D=()=>{!u&&!a&&S(!1)},$=()=>{n(Ad(!0))},A=()=>{n(Ad(!1))};return i.jsxs(ya,{...t,children:[i.jsx(Gs,{height:o.height,width:o.width,x:r.x,y:r.y,onMouseEnter:$,onMouseOver:$,onMouseLeave:A,onMouseOut:A}),i.jsx(Gs,{draggable:!0,fillEnabled:!1,height:o.height,hitStrokeWidth:m,listening:!s&&h==="move",onDragStart:O,onDragEnd:R,onDragMove:P,onMouseDown:O,onMouseOut:D,onMouseOver:M,onMouseEnter:M,onMouseUp:R,onTransform:k,onTransformEnd:I,ref:b,stroke:w?"rgba(255,255,255,0.7)":"white",strokeWidth:(w?8:1)/d,width:o.width,x:r.x,y:r.y}),i.jsx(Dre,{anchorCornerRadius:3,anchorDragBoundFunc:_,anchorFill:"rgba(212,216,234,1)",anchorSize:15,anchorStroke:"rgb(42,42,42)",borderDash:[4,4],borderEnabled:!0,borderStroke:"black",draggable:!1,enabledAnchors:h==="move"?void 0:[],flipEnabled:!1,ignoreStroke:!0,keepRatio:!1,listening:!s&&h==="move",onDragStart:O,onDragEnd:R,onMouseDown:E,onMouseUp:I,onTransformEnd:I,ref:v,rotateEnabled:!1})]})},boe=Pe(en,e=>{const{cursorPosition:t,brushSize:n,colorPickerColor:r,maskColor:o,brushColor:s,tool:a,layer:u,shouldShowBrush:d,isMovingBoundingBox:f,isTransformingBoundingBox:h,stageScale:m,stageDimensions:v,boundingBoxCoordinates:b,boundingBoxDimensions:w,shouldRestrictStrokesToBox:S}=e,C=S?{clipX:b.x,clipY:b.y,clipWidth:w.width,clipHeight:w.height}:{};return{cursorPosition:t,brushX:t?t.x:v.width/2,brushY:t?t.y:v.height/2,radius:n/2,colorPickerOuterRadius:e2/m,colorPickerInnerRadius:(e2-vv+1)/m,maskColorString:zi({...o,a:.5}),brushColorString:zi(s),colorPickerColorString:zi(r),tool:a,layer:u,shouldShowBrush:d,shouldDrawBrushPreview:!(f||h||!t)&&d,strokeWidth:1.5/m,dotRadius:1.5/m,clip:C}},{memoizeOptions:{resultEqualityCheck:Wt}}),xoe=e=>{const{...t}=e,{brushX:n,brushY:r,radius:o,maskColorString:s,tool:a,layer:u,shouldDrawBrushPreview:d,dotRadius:f,strokeWidth:h,brushColorString:m,colorPickerColorString:v,colorPickerInnerRadius:b,colorPickerOuterRadius:w,clip:S}=B(boe);return d?i.jsxs(ya,{listening:!1,...S,...t,children:[a==="colorPicker"?i.jsxs(i.Fragment,{children:[i.jsx(bi,{x:n,y:r,radius:w,stroke:m,strokeWidth:vv,strokeScaleEnabled:!1}),i.jsx(bi,{x:n,y:r,radius:b,stroke:v,strokeWidth:vv,strokeScaleEnabled:!1})]}):i.jsxs(i.Fragment,{children:[i.jsx(bi,{x:n,y:r,radius:o,fill:u==="mask"?s:m,globalCompositeOperation:a==="eraser"?"destination-out":"source-out"}),i.jsx(bi,{x:n,y:r,radius:o,stroke:"rgba(255,255,255,0.4)",strokeWidth:h*2,strokeEnabled:!0,listening:!1}),i.jsx(bi,{x:n,y:r,radius:o,stroke:"rgba(0,0,0,1)",strokeWidth:h,strokeEnabled:!0,listening:!1})]}),i.jsx(bi,{x:n,y:r,radius:f*2,fill:"rgba(255,255,255,0.4)",listening:!1}),i.jsx(bi,{x:n,y:r,radius:f,fill:"rgba(0,0,0,1)",listening:!1})]}):null},Soe=Pe([en,nr],(e,t)=>{const{isMaskEnabled:n,stageScale:r,shouldShowBoundingBox:o,isTransformingBoundingBox:s,isMouseOverBoundingBox:a,isMovingBoundingBox:u,stageDimensions:d,stageCoordinates:f,tool:h,isMovingStage:m,shouldShowIntermediates:v,shouldShowGrid:b,shouldRestrictStrokesToBox:w,shouldAntialias:S}=e;let C="none";return h==="move"||t?m?C="grabbing":C="grab":s?C=void 0:w&&!a&&(C="default"),{isMaskEnabled:n,isModifyingBoundingBox:s||u,shouldShowBoundingBox:o,shouldShowGrid:b,stageCoordinates:f,stageCursor:C,stageDimensions:d,stageScale:r,tool:h,isStaging:t,shouldShowIntermediates:v,shouldAntialias:S}},Rt),woe=Be(Are,{shouldForwardProp:e=>!["sx"].includes(e)}),Q4=()=>{const{isMaskEnabled:e,isModifyingBoundingBox:t,shouldShowBoundingBox:n,shouldShowGrid:r,stageCoordinates:o,stageCursor:s,stageDimensions:a,stageScale:u,tool:d,isStaging:f,shouldShowIntermediates:h,shouldAntialias:m}=B(Soe);Lre();const v=p.useRef(null),b=p.useRef(null),w=p.useCallback($=>{s7($),v.current=$},[]),S=p.useCallback($=>{o7($),b.current=$},[]),C=p.useRef({x:0,y:0}),P=p.useRef(!1),k=Yre(v),_=Bre(v),E=Gre(v,P),I=Wre(v,P,C),O=Vre(),{handleDragStart:R,handleDragMove:M,handleDragEnd:D}=zre();return i.jsx(q,{sx:{position:"relative",height:"100%",width:"100%",borderRadius:"base"},children:i.jsxs(Ue,{sx:{position:"relative"},children:[i.jsxs(woe,{tabIndex:-1,ref:w,sx:{outline:"none",overflow:"hidden",cursor:s||void 0,canvas:{outline:"none"}},x:o.x,y:o.y,width:a.width,height:a.height,scale:{x:u,y:u},onTouchStart:_,onTouchMove:I,onTouchEnd:E,onMouseDown:_,onMouseLeave:O,onMouseMove:I,onMouseUp:E,onDragStart:R,onDragMove:M,onDragEnd:D,onContextMenu:$=>$.evt.preventDefault(),onWheel:k,draggable:(d==="move"||f)&&!t,children:[i.jsx(Uc,{id:"grid",visible:r,children:i.jsx(Zre,{})}),i.jsx(Uc,{id:"base",ref:S,listening:!1,imageSmoothingEnabled:m,children:i.jsx(loe,{})}),i.jsxs(Uc,{id:"mask",visible:e,listening:!1,children:[i.jsx(ooe,{visible:!0,listening:!1}),i.jsx(noe,{listening:!1})]}),i.jsx(Uc,{children:i.jsx(Xre,{})}),i.jsxs(Uc,{id:"preview",imageSmoothingEnabled:m,children:[!f&&i.jsx(xoe,{visible:d!=="move",listening:!1}),i.jsx(uoe,{visible:f}),h&&i.jsx(eoe,{}),i.jsx(yoe,{visible:n&&!f})]})]}),i.jsx(goe,{}),i.jsx(foe,{})]})})},Coe=Pe(en,a7,Dr,(e,t,n)=>{const{doesCanvasNeedScaling:r,isCanvasInitialized:o}=e;return{doesCanvasNeedScaling:r,activeTabName:n,initialCanvasImage:t,isCanvasInitialized:o}}),Z4=()=>{const e=se(),{doesCanvasNeedScaling:t,activeTabName:n,initialCanvasImage:r,isCanvasInitialized:o}=B(Coe),s=p.useRef(null);return p.useLayoutEffect(()=>{window.setTimeout(()=>{if(!s.current)return;const{clientWidth:a,clientHeight:u}=s.current;e(i7({width:a,height:u})),e(o?l7():lh()),e(b3(!1))},0)},[e,r,t,n,o]),i.jsx(q,{ref:s,sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,width:"100%",height:"100%"},children:i.jsx(Ou,{thickness:"2px",size:"xl"})})};function sI(e,t,n=250){const[r,o]=p.useState(0);return p.useEffect(()=>{const s=setTimeout(()=>{r===1&&e(),o(0)},n);return r===2&&t(),()=>clearTimeout(s)},[r,e,t,n]),()=>o(s=>s+1)}const Poe=Be(VE,{baseStyle:{paddingInline:4},shouldForwardProp:e=>!["pickerColor"].includes(e)}),lv={width:6,height:6,borderColor:"base.100"},koe=e=>{const{styleClass:t="",...n}=e;return i.jsx(Poe,{sx:{".react-colorful__hue-pointer":lv,".react-colorful__saturation-pointer":lv,".react-colorful__alpha-pointer":lv},className:t,...n})},th=p.memo(koe),_oe=Pe([en,nr],(e,t)=>{const{maskColor:n,layer:r,isMaskEnabled:o,shouldPreserveMaskedArea:s}=e;return{layer:r,maskColor:n,maskColorString:zi(n),isMaskEnabled:o,shouldPreserveMaskedArea:s,isStaging:t}},{memoizeOptions:{resultEqualityCheck:Wt}}),joe=()=>{const e=se(),{t}=ye(),{layer:n,maskColor:r,isMaskEnabled:o,shouldPreserveMaskedArea:s,isStaging:a}=B(_oe);Ge(["q"],()=>{u()},{enabled:()=>!a,preventDefault:!0},[n]),Ge(["shift+c"],()=>{d()},{enabled:()=>!a,preventDefault:!0},[]),Ge(["h"],()=>{f()},{enabled:()=>!a,preventDefault:!0},[o]);const u=()=>{e(Uf(n==="mask"?"base":"mask"))},d=()=>e(L0()),f=()=>e(Du(!o));return i.jsx(ia,{triggerComponent:i.jsx(br,{children:i.jsx(Me,{"aria-label":t("unifiedCanvas.maskingOptions"),tooltip:t("unifiedCanvas.maskingOptions"),icon:i.jsx(rL,{}),isChecked:n==="mask",isDisabled:a})}),children:i.jsxs(q,{direction:"column",gap:2,children:[i.jsx(En,{label:`${t("unifiedCanvas.enableMask")} (H)`,isChecked:o,onChange:f}),i.jsx(En,{label:t("unifiedCanvas.preserveMaskedArea"),isChecked:s,onChange:h=>e(q3(h.target.checked))}),i.jsx(th,{sx:{paddingTop:2,paddingBottom:2},pickerColor:r,onChange:h=>e(Y3(h))}),i.jsxs(Kt,{size:"sm",leftIcon:i.jsx(vo,{}),onClick:d,children:[t("unifiedCanvas.clearMask")," (Shift+C)"]})]})})},Eoe=Pe([en,Dr,ao],(e,t,n)=>{const{futureLayerStates:r}=e;return{canRedo:r.length>0&&!n.isProcessing,activeTabName:t}},{memoizeOptions:{resultEqualityCheck:Wt}});function aI(){const e=se(),{canRedo:t,activeTabName:n}=B(Eoe),{t:r}=ye(),o=()=>{e(c7())};return Ge(["meta+shift+z","ctrl+shift+z","control+y","meta+y"],()=>{o()},{enabled:()=>t,preventDefault:!0},[n,t]),i.jsx(Me,{"aria-label":`${r("unifiedCanvas.redo")} (Ctrl+Shift+Z)`,tooltip:`${r("unifiedCanvas.redo")} (Ctrl+Shift+Z)`,icon:i.jsx(lL,{}),onClick:o,isDisabled:!t})}const iI=()=>{const e=B(nr),t=se(),{t:n}=ye();return i.jsxs(Ty,{title:n("unifiedCanvas.clearCanvasHistory"),acceptCallback:()=>t(u7()),acceptButtonText:n("unifiedCanvas.clearHistory"),triggerComponent:i.jsx(Kt,{size:"sm",leftIcon:i.jsx(vo,{}),isDisabled:e,children:n("unifiedCanvas.clearCanvasHistory")}),children:[i.jsx("p",{children:n("unifiedCanvas.clearCanvasHistoryMessage")}),i.jsx("br",{}),i.jsx("p",{children:n("unifiedCanvas.clearCanvasHistoryConfirm")})]})},Ioe=Pe([en],e=>{const{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldDarkenOutsideBoundingBox:r,shouldShowCanvasDebugInfo:o,shouldShowGrid:s,shouldShowIntermediates:a,shouldSnapToGrid:u,shouldRestrictStrokesToBox:d,shouldAntialias:f}=e;return{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldDarkenOutsideBoundingBox:r,shouldShowCanvasDebugInfo:o,shouldShowGrid:s,shouldShowIntermediates:a,shouldSnapToGrid:u,shouldRestrictStrokesToBox:d,shouldAntialias:f}},{memoizeOptions:{resultEqualityCheck:Wt}}),Ooe=()=>{const e=se(),{t}=ye(),{shouldAutoSave:n,shouldCropToBoundingBoxOnSave:r,shouldDarkenOutsideBoundingBox:o,shouldShowCanvasDebugInfo:s,shouldShowGrid:a,shouldShowIntermediates:u,shouldSnapToGrid:d,shouldRestrictStrokesToBox:f,shouldAntialias:h}=B(Ioe);Ge(["n"],()=>{e(Vf(!d))},{enabled:!0,preventDefault:!0},[d]);const m=v=>e(Vf(v.target.checked));return i.jsx(ia,{isLazy:!1,triggerComponent:i.jsx(Me,{tooltip:t("unifiedCanvas.canvasSettings"),"aria-label":t("unifiedCanvas.canvasSettings"),icon:i.jsx(H1,{})}),children:i.jsxs(q,{direction:"column",gap:2,children:[i.jsx(En,{label:t("unifiedCanvas.showIntermediates"),isChecked:u,onChange:v=>e(K3(v.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.showGrid"),isChecked:a,onChange:v=>e(X3(v.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.snapToGrid"),isChecked:d,onChange:m}),i.jsx(En,{label:t("unifiedCanvas.darkenOutsideSelection"),isChecked:o,onChange:v=>e(Q3(v.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.autoSaveToGallery"),isChecked:n,onChange:v=>e(Z3(v.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.saveBoxRegionOnly"),isChecked:r,onChange:v=>e(J3(v.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.limitStrokesToBox"),isChecked:f,onChange:v=>e(e5(v.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.showCanvasDebugInfo"),isChecked:s,onChange:v=>e(t5(v.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.antialiasing"),isChecked:h,onChange:v=>e(n5(v.target.checked))}),i.jsx(iI,{})]})})},Roe=Pe([en,nr,ao],(e,t,n)=>{const{isProcessing:r}=n,{tool:o,brushColor:s,brushSize:a}=e;return{tool:o,isStaging:t,isProcessing:r,brushColor:s,brushSize:a}},{memoizeOptions:{resultEqualityCheck:Wt}}),Moe=()=>{const e=se(),{tool:t,brushColor:n,brushSize:r,isStaging:o}=B(Roe),{t:s}=ye();Ge(["b"],()=>{a()},{enabled:()=>!o,preventDefault:!0},[]),Ge(["e"],()=>{u()},{enabled:()=>!o,preventDefault:!0},[t]),Ge(["c"],()=>{d()},{enabled:()=>!o,preventDefault:!0},[t]),Ge(["shift+f"],()=>{f()},{enabled:()=>!o,preventDefault:!0}),Ge(["delete","backspace"],()=>{h()},{enabled:()=>!o,preventDefault:!0}),Ge(["BracketLeft"],()=>{e(Dl(Math.max(r-5,5)))},{enabled:()=>!o,preventDefault:!0},[r]),Ge(["BracketRight"],()=>{e(Dl(Math.min(r+5,500)))},{enabled:()=>!o,preventDefault:!0},[r]),Ge(["shift+BracketLeft"],()=>{e(Al({...n,a:Vs(n.a-.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[n]),Ge(["shift+BracketRight"],()=>{e(Al({...n,a:Vs(n.a+.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[n]);const a=()=>e(Hs("brush")),u=()=>e(Hs("eraser")),d=()=>e(Hs("colorPicker")),f=()=>e(r5()),h=()=>e(o5());return i.jsxs(br,{isAttached:!0,children:[i.jsx(Me,{"aria-label":`${s("unifiedCanvas.brush")} (B)`,tooltip:`${s("unifiedCanvas.brush")} (B)`,icon:i.jsx(tk,{}),isChecked:t==="brush"&&!o,onClick:a,isDisabled:o}),i.jsx(Me,{"aria-label":`${s("unifiedCanvas.eraser")} (E)`,tooltip:`${s("unifiedCanvas.eraser")} (E)`,icon:i.jsx(QP,{}),isChecked:t==="eraser"&&!o,isDisabled:o,onClick:u}),i.jsx(Me,{"aria-label":`${s("unifiedCanvas.fillBoundingBox")} (Shift+F)`,tooltip:`${s("unifiedCanvas.fillBoundingBox")} (Shift+F)`,icon:i.jsx(JP,{}),isDisabled:o,onClick:f}),i.jsx(Me,{"aria-label":`${s("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,tooltip:`${s("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,icon:i.jsx(Ih,{style:{transform:"rotate(45deg)"}}),isDisabled:o,onClick:h}),i.jsx(Me,{"aria-label":`${s("unifiedCanvas.colorPicker")} (C)`,tooltip:`${s("unifiedCanvas.colorPicker")} (C)`,icon:i.jsx(ZP,{}),isChecked:t==="colorPicker"&&!o,isDisabled:o,onClick:d}),i.jsx(ia,{triggerComponent:i.jsx(Me,{"aria-label":s("unifiedCanvas.brushOptions"),tooltip:s("unifiedCanvas.brushOptions"),icon:i.jsx(F1,{})}),children:i.jsxs(q,{minWidth:60,direction:"column",gap:4,width:"100%",children:[i.jsx(q,{gap:4,justifyContent:"space-between",children:i.jsx(vt,{label:s("unifiedCanvas.brushSize"),value:r,withInput:!0,onChange:m=>e(Dl(m)),sliderNumberInputProps:{max:500},inputReadOnly:!1})}),i.jsx(th,{sx:{width:"100%",paddingTop:2,paddingBottom:2},pickerColor:n,onChange:m=>e(Al(m))})]})})]})},Toe=Pe([en,Dr,ao],(e,t,n)=>{const{pastLayerStates:r}=e;return{canUndo:r.length>0&&!n.isProcessing,activeTabName:t}},{memoizeOptions:{resultEqualityCheck:Wt}});function lI(){const e=se(),{t}=ye(),{canUndo:n,activeTabName:r}=B(Toe),o=()=>{e(d7())};return Ge(["meta+z","ctrl+z"],()=>{o()},{enabled:()=>n,preventDefault:!0},[r,n]),i.jsx(Me,{"aria-label":`${t("unifiedCanvas.undo")} (Ctrl+Z)`,tooltip:`${t("unifiedCanvas.undo")} (Ctrl+Z)`,icon:i.jsx(B1,{}),onClick:o,isDisabled:!n})}const Doe=Pe([ao,en,nr],(e,t,n)=>{const{isProcessing:r}=e,{tool:o,shouldCropToBoundingBoxOnSave:s,layer:a,isMaskEnabled:u}=t;return{isProcessing:r,isStaging:n,isMaskEnabled:u,tool:o,layer:a,shouldCropToBoundingBoxOnSave:s}},{memoizeOptions:{resultEqualityCheck:Wt}}),Aoe=()=>{const e=se(),{isProcessing:t,isStaging:n,isMaskEnabled:r,layer:o,tool:s}=B(Doe),a=pa(),{t:u}=ye(),{openUploader:d}=Ch();Ge(["v"],()=>{f()},{enabled:()=>!n,preventDefault:!0},[]),Ge(["r"],()=>{m()},{enabled:()=>!0,preventDefault:!0},[a]),Ge(["shift+m"],()=>{b()},{enabled:()=>!n,preventDefault:!0},[a,t]),Ge(["shift+s"],()=>{w()},{enabled:()=>!n,preventDefault:!0},[a,t]),Ge(["meta+c","ctrl+c"],()=>{S()},{enabled:()=>!n,preventDefault:!0},[a,t]),Ge(["shift+d"],()=>{C()},{enabled:()=>!n,preventDefault:!0},[a,t]);const f=()=>e(Hs("move")),h=sI(()=>m(!1),()=>m(!0)),m=(k=!1)=>{const _=pa();if(!_)return;const E=_.getClientRect({skipTransform:!0});e(s5({contentRect:E,shouldScaleTo1:k}))},v=()=>{e(d5()),e(lh())},b=()=>{e(a5())},w=()=>{e(i5())},S=()=>{e(l5())},C=()=>{e(c5())},P=k=>{const _=k;e(Uf(_)),_==="mask"&&!r&&e(Du(!0))};return i.jsxs(q,{sx:{alignItems:"center",gap:2,flexWrap:"wrap"},children:[i.jsx(Ue,{w:24,children:i.jsx(mr,{tooltip:`${u("unifiedCanvas.layer")} (Q)`,value:o,data:u5,onChange:P,disabled:n})}),i.jsx(joe,{}),i.jsx(Moe,{}),i.jsxs(br,{isAttached:!0,children:[i.jsx(Me,{"aria-label":`${u("unifiedCanvas.move")} (V)`,tooltip:`${u("unifiedCanvas.move")} (V)`,icon:i.jsx(KP,{}),isChecked:s==="move"||n,onClick:f}),i.jsx(Me,{"aria-label":`${u("unifiedCanvas.resetView")} (R)`,tooltip:`${u("unifiedCanvas.resetView")} (R)`,icon:i.jsx(XP,{}),onClick:h})]}),i.jsxs(br,{isAttached:!0,children:[i.jsx(Me,{"aria-label":`${u("unifiedCanvas.mergeVisible")} (Shift+M)`,tooltip:`${u("unifiedCanvas.mergeVisible")} (Shift+M)`,icon:i.jsx(ek,{}),onClick:b,isDisabled:n}),i.jsx(Me,{"aria-label":`${u("unifiedCanvas.saveToGallery")} (Shift+S)`,tooltip:`${u("unifiedCanvas.saveToGallery")} (Shift+S)`,icon:i.jsx(L1,{}),onClick:w,isDisabled:n}),i.jsx(Me,{"aria-label":`${u("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,tooltip:`${u("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,icon:i.jsx(pc,{}),onClick:S,isDisabled:n}),i.jsx(Me,{"aria-label":`${u("unifiedCanvas.downloadAsImage")} (Shift+D)`,tooltip:`${u("unifiedCanvas.downloadAsImage")} (Shift+D)`,icon:i.jsx(z1,{}),onClick:C,isDisabled:n})]}),i.jsxs(br,{isAttached:!0,children:[i.jsx(lI,{}),i.jsx(aI,{})]}),i.jsxs(br,{isAttached:!0,children:[i.jsx(Me,{"aria-label":`${u("common.upload")}`,tooltip:`${u("common.upload")}`,icon:i.jsx(Oh,{}),onClick:d,isDisabled:n}),i.jsx(Me,{"aria-label":`${u("unifiedCanvas.clearCanvas")}`,tooltip:`${u("unifiedCanvas.clearCanvas")}`,icon:i.jsx(vo,{}),onClick:v,colorScheme:"error",isDisabled:n})]}),i.jsx(br,{isAttached:!0,children:i.jsx(Ooe,{})})]})},Noe=Pe([en],e=>{const{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldShowCanvasDebugInfo:r,shouldShowIntermediates:o,shouldAntialias:s}=e;return{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldShowCanvasDebugInfo:r,shouldShowIntermediates:o,shouldAntialias:s}},{memoizeOptions:{resultEqualityCheck:Wt}}),zoe=()=>{const e=se(),{t}=ye(),{shouldAutoSave:n,shouldCropToBoundingBoxOnSave:r,shouldShowCanvasDebugInfo:o,shouldShowIntermediates:s,shouldAntialias:a}=B(Noe);return i.jsx(ia,{isLazy:!1,triggerComponent:i.jsx(Me,{tooltip:t("unifiedCanvas.canvasSettings"),tooltipProps:{placement:"bottom"},"aria-label":t("unifiedCanvas.canvasSettings"),icon:i.jsx(H1,{})}),children:i.jsxs(q,{direction:"column",gap:2,children:[i.jsx(En,{label:t("unifiedCanvas.showIntermediates"),isChecked:s,onChange:u=>e(K3(u.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.autoSaveToGallery"),isChecked:n,onChange:u=>e(Z3(u.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.saveBoxRegionOnly"),isChecked:r,onChange:u=>e(J3(u.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.showCanvasDebugInfo"),isChecked:o,onChange:u=>e(t5(u.target.checked))}),i.jsx(En,{label:t("unifiedCanvas.antialiasing"),isChecked:a,onChange:u=>e(n5(u.target.checked))}),i.jsx(iI,{})]})})};function $oe(){const e=B(nr),t=pa(),n=B(a=>a.system.isProcessing),r=se(),{t:o}=ye();Ge(["meta+c","ctrl+c"],()=>{s()},{enabled:()=>!e,preventDefault:!0},[t,n]);const s=()=>{r(l5())};return i.jsx(Me,{"aria-label":`${o("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,tooltip:`${o("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,icon:i.jsx(pc,{}),onClick:s,isDisabled:e})}function Loe(){const e=se(),{t}=ye(),n=pa(),r=B(nr);Ge(["shift+d"],()=>{o()},{enabled:()=>!r,preventDefault:!0},[n]);const o=()=>{e(c5())};return i.jsx(Me,{"aria-label":`${t("unifiedCanvas.downloadAsImage")} (Shift+D)`,tooltip:`${t("unifiedCanvas.downloadAsImage")} (Shift+D)`,icon:i.jsx(z1,{}),onClick:o,isDisabled:r})}function Foe(){const e=B(nr),{openUploader:t}=Ch(),{t:n}=ye();return i.jsx(Me,{"aria-label":n("common.upload"),tooltip:n("common.upload"),icon:i.jsx(Oh,{}),onClick:t,isDisabled:e})}const Boe=Pe([en,nr],(e,t)=>{const{layer:n,isMaskEnabled:r}=e;return{layer:n,isMaskEnabled:r,isStaging:t}},{memoizeOptions:{resultEqualityCheck:Wt}});function Hoe(){const e=se(),{t}=ye(),{layer:n,isMaskEnabled:r,isStaging:o}=B(Boe),s=()=>{e(Uf(n==="mask"?"base":"mask"))};Ge(["q"],()=>{s()},{enabled:()=>!o,preventDefault:!0},[n]);const a=u=>{const d=u;e(Uf(d)),d==="mask"&&!r&&e(Du(!0))};return i.jsx(mr,{tooltip:`${t("unifiedCanvas.layer")} (Q)`,"aria-label":`${t("unifiedCanvas.layer")} (Q)`,value:n,data:u5,onChange:a,disabled:o,w:"full"})}function Woe(){const e=se(),{t}=ye(),n=pa(),r=B(nr),o=B(a=>a.system.isProcessing);Ge(["shift+m"],()=>{s()},{enabled:()=>!r,preventDefault:!0},[n,o]);const s=()=>{e(a5())};return i.jsx(Me,{"aria-label":`${t("unifiedCanvas.mergeVisible")} (Shift+M)`,tooltip:`${t("unifiedCanvas.mergeVisible")} (Shift+M)`,icon:i.jsx(ek,{}),onClick:s,isDisabled:r})}function Voe(){const e=B(s=>s.canvas.tool),t=B(nr),n=se(),{t:r}=ye();Ge(["v"],()=>{o()},{enabled:()=>!t,preventDefault:!0},[]);const o=()=>n(Hs("move"));return i.jsx(Me,{"aria-label":`${r("unifiedCanvas.move")} (V)`,tooltip:`${r("unifiedCanvas.move")} (V)`,icon:i.jsx(KP,{}),isChecked:e==="move"||t,onClick:o})}function Uoe(){const e=B(s=>s.ui.shouldPinParametersPanel),t=B(s=>s.ui.shouldShowParametersPanel),n=se(),{t:r}=ye(),o=()=>{n(F0(!0)),e&&n(_s())};return!e||!t?i.jsxs(q,{flexDirection:"column",gap:2,children:[i.jsx(Me,{tooltip:`${r("parameters.showOptionsPanel")} (O)`,tooltipProps:{placement:"top"},"aria-label":r("parameters.showOptionsPanel"),onClick:o,children:i.jsx(F1,{})}),i.jsx(q,{children:i.jsx(Iy,{iconButton:!0})}),i.jsx(q,{children:i.jsx(Ey,{width:"100%",height:"40px",btnGroupWidth:"100%"})})]}):null}function Goe(){const e=se(),{t}=ye(),n=B(nr),r=()=>{e(d5()),e(lh())};return i.jsx(Me,{"aria-label":t("unifiedCanvas.clearCanvas"),tooltip:t("unifiedCanvas.clearCanvas"),icon:i.jsx(vo,{}),onClick:r,isDisabled:n,colorScheme:"error"})}function qoe(){const e=pa(),t=se(),{t:n}=ye();Ge(["r"],()=>{o()},{enabled:()=>!0,preventDefault:!0},[e]);const r=sI(()=>o(!1),()=>o(!0)),o=(s=!1)=>{const a=pa();if(!a)return;const u=a.getClientRect({skipTransform:!0});t(s5({contentRect:u,shouldScaleTo1:s}))};return i.jsx(Me,{"aria-label":`${n("unifiedCanvas.resetView")} (R)`,tooltip:`${n("unifiedCanvas.resetView")} (R)`,icon:i.jsx(XP,{}),onClick:r})}function Yoe(){const e=B(nr),t=pa(),n=B(a=>a.system.isProcessing),r=se(),{t:o}=ye();Ge(["shift+s"],()=>{s()},{enabled:()=>!e,preventDefault:!0},[t,n]);const s=()=>{r(i5())};return i.jsx(Me,{"aria-label":`${o("unifiedCanvas.saveToGallery")} (Shift+S)`,tooltip:`${o("unifiedCanvas.saveToGallery")} (Shift+S)`,icon:i.jsx(L1,{}),onClick:s,isDisabled:e})}const Koe=Pe([en,nr,ao],(e,t,n)=>{const{isProcessing:r}=n,{tool:o}=e;return{tool:o,isStaging:t,isProcessing:r}},{memoizeOptions:{resultEqualityCheck:Wt}}),Xoe=()=>{const e=se(),{t}=ye(),{tool:n,isStaging:r}=B(Koe);Ge(["b"],()=>{o()},{enabled:()=>!r,preventDefault:!0},[]),Ge(["e"],()=>{s()},{enabled:()=>!r,preventDefault:!0},[n]),Ge(["c"],()=>{a()},{enabled:()=>!r,preventDefault:!0},[n]),Ge(["shift+f"],()=>{u()},{enabled:()=>!r,preventDefault:!0}),Ge(["delete","backspace"],()=>{d()},{enabled:()=>!r,preventDefault:!0});const o=()=>e(Hs("brush")),s=()=>e(Hs("eraser")),a=()=>e(Hs("colorPicker")),u=()=>e(r5()),d=()=>e(o5());return i.jsxs(q,{flexDirection:"column",gap:2,children:[i.jsxs(br,{children:[i.jsx(Me,{"aria-label":`${t("unifiedCanvas.brush")} (B)`,tooltip:`${t("unifiedCanvas.brush")} (B)`,icon:i.jsx(tk,{}),isChecked:n==="brush"&&!r,onClick:o,isDisabled:r}),i.jsx(Me,{"aria-label":`${t("unifiedCanvas.eraser")} (E)`,tooltip:`${t("unifiedCanvas.eraser")} (B)`,icon:i.jsx(QP,{}),isChecked:n==="eraser"&&!r,isDisabled:r,onClick:s})]}),i.jsxs(br,{children:[i.jsx(Me,{"aria-label":`${t("unifiedCanvas.fillBoundingBox")} (Shift+F)`,tooltip:`${t("unifiedCanvas.fillBoundingBox")} (Shift+F)`,icon:i.jsx(JP,{}),isDisabled:r,onClick:u}),i.jsx(Me,{"aria-label":`${t("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,tooltip:`${t("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,icon:i.jsx(Ih,{style:{transform:"rotate(45deg)"}}),isDisabled:r,onClick:d})]}),i.jsx(Me,{"aria-label":`${t("unifiedCanvas.colorPicker")} (C)`,tooltip:`${t("unifiedCanvas.colorPicker")} (C)`,icon:i.jsx(ZP,{}),isChecked:n==="colorPicker"&&!r,isDisabled:r,onClick:a,width:"max-content"})]})},Qoe=()=>i.jsxs(q,{flexDirection:"column",rowGap:2,width:"min-content",children:[i.jsx(Hoe,{}),i.jsx(Xoe,{}),i.jsxs(q,{gap:2,children:[i.jsx(Voe,{}),i.jsx(qoe,{})]}),i.jsxs(q,{columnGap:2,children:[i.jsx(Woe,{}),i.jsx(Yoe,{})]}),i.jsxs(q,{columnGap:2,children:[i.jsx($oe,{}),i.jsx(Loe,{})]}),i.jsxs(q,{gap:2,children:[i.jsx(lI,{}),i.jsx(aI,{})]}),i.jsxs(q,{gap:2,children:[i.jsx(Foe,{}),i.jsx(Goe,{})]}),i.jsx(zoe,{}),i.jsx(Uoe,{})]});function Zoe(){const e=se(),t=B(o=>o.canvas.brushSize),{t:n}=ye(),r=B(nr);return Ge(["BracketLeft"],()=>{e(Dl(Math.max(t-5,5)))},{enabled:()=>!r,preventDefault:!0},[t]),Ge(["BracketRight"],()=>{e(Dl(Math.min(t+5,500)))},{enabled:()=>!r,preventDefault:!0},[t]),i.jsx(vt,{label:n("unifiedCanvas.brushSize"),value:t,withInput:!0,onChange:o=>e(Dl(o)),sliderNumberInputProps:{max:500},inputReadOnly:!1,isCompact:!0})}const Joe=Pe([en,nr],(e,t)=>{const{brushColor:n,maskColor:r,layer:o}=e;return{brushColor:n,maskColor:r,layer:o,isStaging:t}},{memoizeOptions:{resultEqualityCheck:Wt}});function ese(){const e=se(),{brushColor:t,maskColor:n,layer:r,isStaging:o}=B(Joe),s=()=>{if(r==="base")return`rgba(${t.r},${t.g},${t.b},${t.a})`;if(r==="mask")return`rgba(${n.r},${n.g},${n.b},${n.a})`};return Ge(["shift+BracketLeft"],()=>{e(Al({...t,a:Vs(t.a-.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[t]),Ge(["shift+BracketRight"],()=>{e(Al({...t,a:Vs(t.a+.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[t]),i.jsx(ia,{triggerComponent:i.jsx(Ue,{sx:{width:7,height:7,minWidth:7,minHeight:7,borderRadius:"full",bg:s(),cursor:"pointer"}}),children:i.jsxs(q,{minWidth:60,direction:"column",gap:4,width:"100%",children:[r==="base"&&i.jsx(th,{sx:{width:"100%",paddingTop:2,paddingBottom:2},pickerColor:t,onChange:a=>e(Al(a))}),r==="mask"&&i.jsx(th,{sx:{width:"100%",paddingTop:2,paddingBottom:2},pickerColor:n,onChange:a=>e(Y3(a))})]})})}function cI(){return i.jsxs(q,{columnGap:4,alignItems:"center",children:[i.jsx(Zoe,{}),i.jsx(ese,{})]})}function tse(){const e=se(),t=B(r=>r.canvas.shouldRestrictStrokesToBox),{t:n}=ye();return i.jsx(En,{label:n("unifiedCanvas.betaLimitToBox"),isChecked:t,onChange:r=>e(e5(r.target.checked))})}function nse(){return i.jsxs(q,{gap:4,alignItems:"center",children:[i.jsx(cI,{}),i.jsx(tse,{})]})}function rse(){const e=se(),{t}=ye(),n=()=>e(L0());return i.jsx(Kt,{size:"sm",leftIcon:i.jsx(vo,{}),onClick:n,tooltip:`${t("unifiedCanvas.clearMask")} (Shift+C)`,children:t("unifiedCanvas.betaClear")})}function ose(){const e=B(o=>o.canvas.isMaskEnabled),t=se(),{t:n}=ye(),r=()=>t(Du(!e));return i.jsx(En,{label:`${n("unifiedCanvas.enableMask")} (H)`,isChecked:e,onChange:r})}function sse(){const e=se(),{t}=ye(),n=B(r=>r.canvas.shouldPreserveMaskedArea);return i.jsx(En,{label:t("unifiedCanvas.betaPreserveMasked"),isChecked:n,onChange:r=>e(q3(r.target.checked))})}function ase(){return i.jsxs(q,{gap:4,alignItems:"center",children:[i.jsx(cI,{}),i.jsx(ose,{}),i.jsx(sse,{}),i.jsx(rse,{})]})}function ise(){const e=B(r=>r.canvas.shouldDarkenOutsideBoundingBox),t=se(),{t:n}=ye();return i.jsx(En,{label:n("unifiedCanvas.betaDarkenOutside"),isChecked:e,onChange:r=>t(Q3(r.target.checked))})}function lse(){const e=B(r=>r.canvas.shouldShowGrid),t=se(),{t:n}=ye();return i.jsx(En,{label:n("unifiedCanvas.showGrid"),isChecked:e,onChange:r=>t(X3(r.target.checked))})}function cse(){const e=B(o=>o.canvas.shouldSnapToGrid),t=se(),{t:n}=ye(),r=o=>t(Vf(o.target.checked));return i.jsx(En,{label:`${n("unifiedCanvas.snapToGrid")} (N)`,isChecked:e,onChange:r})}function use(){return i.jsxs(q,{alignItems:"center",gap:4,children:[i.jsx(lse,{}),i.jsx(cse,{}),i.jsx(ise,{})]})}const dse=Pe([en],e=>{const{tool:t,layer:n}=e;return{tool:t,layer:n}},{memoizeOptions:{resultEqualityCheck:Wt}});function fse(){const{tool:e,layer:t}=B(dse);return i.jsxs(q,{height:8,minHeight:8,maxHeight:8,alignItems:"center",children:[t=="base"&&["brush","eraser","colorPicker"].includes(e)&&i.jsx(nse,{}),t=="mask"&&["brush","eraser","colorPicker"].includes(e)&&i.jsx(ase,{}),e=="move"&&i.jsx(use,{})]})}const pse=Pe([en,rs],(e,t)=>{const{doesCanvasNeedScaling:n}=e,{shouldUseCanvasBetaLayout:r}=t;return{doesCanvasNeedScaling:n,shouldUseCanvasBetaLayout:r}},Rt),cv={id:"canvas-intial-image",actionType:"SET_CANVAS_INITIAL_IMAGE"},hse=()=>{const e=se(),{doesCanvasNeedScaling:t,shouldUseCanvasBetaLayout:n}=B(pse),{isOver:r,setNodeRef:o,active:s}=Ru({id:"unifiedCanvas",data:cv});return p.useLayoutEffect(()=>{const a=()=>{e(_s())};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),n?i.jsx(Ue,{layerStyle:"first",ref:o,tabIndex:0,sx:{w:"full",h:"full",p:4,borderRadius:"base"},children:i.jsxs(q,{sx:{w:"full",h:"full",gap:4},children:[i.jsx(Qoe,{}),i.jsxs(q,{sx:{flexDir:"column",w:"full",h:"full",gap:4,position:"relative"},children:[i.jsx(fse,{}),i.jsxs(Ue,{sx:{w:"full",h:"full",position:"relative"},children:[t?i.jsx(Z4,{}):i.jsx(Q4,{}),Vl(cv,s)&&i.jsx(Gl,{isOver:r,label:"Set Canvas Initial Image"})]})]})]})}):i.jsx(Ue,{ref:o,tabIndex:-1,sx:{layerStyle:"first",w:"full",h:"full",p:4,borderRadius:"base"},children:i.jsxs(q,{sx:{flexDirection:"column",alignItems:"center",gap:4,w:"full",h:"full"},children:[i.jsx(Aoe,{}),i.jsx(q,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,w:"full",h:"full"},children:i.jsxs(Ue,{sx:{w:"full",h:"full",position:"relative"},children:[t?i.jsx(Z4,{}):i.jsx(Q4,{}),Vl(cv,s)&&i.jsx(Gl,{isOver:r,label:"Set Canvas Initial Image"})]})})]})})},mse=p.memo(hse),gse=Pe([Do,ao],(e,t)=>{const{infillMethod:n}=e,{infillMethods:r}=t;return{infillMethod:n,infillMethods:r}},Rt),vse=()=>{const e=se(),{infillMethod:t,infillMethods:n}=B(gse),{t:r}=ye(),o=p.useCallback(s=>{e(f7(s))},[e]);return i.jsx(mr,{label:r("parameters.infillMethod"),value:t,data:n,onChange:o})},yse=p.memo(vse),bse=Pe([Do],e=>{const{tileSize:t,infillMethod:n}=e;return{tileSize:t,infillMethod:n}},Rt),xse=()=>{const e=se(),{tileSize:t,infillMethod:n}=B(bse),{t:r}=ye(),o=p.useCallback(a=>{e(t2(a))},[e]),s=p.useCallback(()=>{e(t2(32))},[e]);return i.jsx(vt,{isDisabled:n!=="tile",label:r("parameters.tileSize"),min:16,max:64,sliderNumberInputProps:{max:256},value:t,onChange:o,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:s})},Sse=p.memo(xse),wse=Pe([en],e=>{const{boundingBoxScaleMethod:t}=e;return{boundingBoxScale:t}},Rt),Cse=()=>{const e=se(),{boundingBoxScale:t}=B(wse),{t:n}=ye(),r=o=>{e(h7(o))};return i.jsx(mr,{label:n("parameters.scaleBeforeProcessing"),data:p7,value:t,onChange:r})},Pse=p.memo(Cse),kse=Pe([Do,ao,en],(e,t,n)=>{const{scaledBoundingBoxDimensions:r,boundingBoxScaleMethod:o}=n;return{scaledBoundingBoxDimensions:r,isManual:o==="manual"}},Rt),_se=()=>{const e=se(),{isManual:t,scaledBoundingBoxDimensions:n}=B(kse),{t:r}=ye(),o=a=>{e(Gf({...n,height:Math.floor(a)}))},s=()=>{e(Gf({...n,height:Math.floor(512)}))};return i.jsx(vt,{isDisabled:!t,label:r("parameters.scaledHeight"),min:64,max:1024,step:64,value:n.height,onChange:o,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:s})},jse=p.memo(_se),Ese=Pe([en],e=>{const{boundingBoxScaleMethod:t,scaledBoundingBoxDimensions:n}=e;return{scaledBoundingBoxDimensions:n,isManual:t==="manual"}},Rt),Ise=()=>{const e=se(),{isManual:t,scaledBoundingBoxDimensions:n}=B(Ese),{t:r}=ye(),o=a=>{e(Gf({...n,width:Math.floor(a)}))},s=()=>{e(Gf({...n,width:Math.floor(512)}))};return i.jsx(vt,{isDisabled:!t,label:r("parameters.scaledWidth"),min:64,max:1024,step:64,value:n.width,onChange:o,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:s})},Ose=p.memo(Ise),Rse=()=>{const{t:e}=ye();return i.jsx(wo,{label:e("parameters.infillScalingHeader"),children:i.jsxs(q,{sx:{gap:2,flexDirection:"column"},children:[i.jsx(yse,{}),i.jsx(Sse,{}),i.jsx(Pse,{}),i.jsx(Ose,{}),i.jsx(jse,{})]})})},Mse=p.memo(Rse);function Tse(){const e=se(),t=B(r=>r.generation.seamBlur),{t:n}=ye();return i.jsx(vt,{label:n("parameters.seamBlur"),min:0,max:64,sliderNumberInputProps:{max:512},value:t,onChange:r=>{e(n2(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(n2(16))}})}function Dse(){const e=se(),{t}=ye(),n=B(r=>r.generation.seamSize);return i.jsx(vt,{label:t("parameters.seamSize"),min:1,max:256,sliderNumberInputProps:{max:512},value:n,onChange:r=>{e(r2(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>e(r2(96))})}function Ase(){const{t:e}=ye(),t=B(r=>r.generation.seamSteps),n=se();return i.jsx(vt,{label:e("parameters.seamSteps"),min:1,max:100,sliderNumberInputProps:{max:999},value:t,onChange:r=>{n(o2(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{n(o2(30))}})}function Nse(){const e=se(),{t}=ye(),n=B(r=>r.generation.seamStrength);return i.jsx(vt,{label:t("parameters.seamStrength"),min:.01,max:.99,step:.01,value:n,onChange:r=>{e(s2(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(s2(.7))}})}const zse=()=>{const{t:e}=ye();return i.jsxs(wo,{label:e("parameters.seamCorrectionHeader"),children:[i.jsx(Dse,{}),i.jsx(Tse,{}),i.jsx(Nse,{}),i.jsx(Ase,{})]})},$se=p.memo(zse),Lse=Pe([en,nr],(e,t)=>{const{boundingBoxDimensions:n}=e;return{boundingBoxDimensions:n,isStaging:t}},Rt),Fse=()=>{const e=se(),{boundingBoxDimensions:t,isStaging:n}=B(Lse),{t:r}=ye(),o=a=>{e(uu({...t,height:Math.floor(a)}))},s=()=>{e(uu({...t,height:Math.floor(512)}))};return i.jsx(vt,{label:r("parameters.boundingBoxHeight"),min:64,max:1024,step:64,value:t.height,onChange:o,isDisabled:n,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:s})},J4=p.memo(Fse),Bse=Pe([en,nr],(e,t)=>{const{boundingBoxDimensions:n}=e;return{boundingBoxDimensions:n,isStaging:t}},Rt),Hse=()=>{const e=se(),{boundingBoxDimensions:t,isStaging:n}=B(Bse),{t:r}=ye(),o=a=>{e(uu({...t,width:Math.floor(a)}))},s=()=>{e(uu({...t,width:Math.floor(512)}))};return i.jsx(vt,{label:r("parameters.boundingBoxWidth"),min:64,max:1024,step:64,value:t.width,onChange:o,isDisabled:n,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:s})},e3=p.memo(Hse),Wse=Pe(wn,({ui:e,generation:t})=>{const{shouldUseSliders:n}=e,{shouldRandomizeSeed:r}=t;return{shouldUseSliders:n,activeLabel:r?void 0:"Manual Seed"}},Rt),Vse=()=>{const{shouldUseSliders:e,activeLabel:t}=B(Wse);return i.jsx(wo,{label:"General",activeLabel:t,defaultIsOpen:!0,children:i.jsxs(q,{sx:{flexDirection:"column",gap:3},children:[e?i.jsxs(i.Fragment,{children:[i.jsx(nc,{}),i.jsx(Ue,{pt:2,children:i.jsx(oc,{})}),i.jsx(tc,{}),i.jsx(rc,{}),i.jsx(ec,{}),i.jsx(e3,{}),i.jsx(J4,{})]}):i.jsxs(i.Fragment,{children:[i.jsxs(q,{gap:3,children:[i.jsx(tc,{}),i.jsx(rc,{}),i.jsx(ec,{})]}),i.jsx(nc,{}),i.jsx(Ue,{pt:2,children:i.jsx(oc,{})}),i.jsx(e3,{}),i.jsx(J4,{})]}),i.jsx(OE,{})]})})},Use=p.memo(Vse),Gse=()=>i.jsxs(i.Fragment,{children:[i.jsx(ky,{}),i.jsx(Py,{}),i.jsx(Oy,{}),i.jsx(Use,{}),i.jsx(by,{}),i.jsx(vy,{}),i.jsx(wy,{}),i.jsx(jy,{}),i.jsx(_y,{}),i.jsx($se,{}),i.jsx(Mse,{}),i.jsx(xy,{})]}),uI=p.memo(Gse),qse=()=>i.jsxs(q,{sx:{gap:4,w:"full",h:"full"},children:[i.jsx(gy,{children:i.jsx(uI,{})}),i.jsx(mse,{})]}),Yse=p.memo(qse),Kse=[{id:"txt2img",icon:i.jsx(mo,{as:X$,sx:{boxSize:6,pointerEvents:"none"}}),content:i.jsx(Mne,{})},{id:"img2img",icon:i.jsx(mo,{as:xu,sx:{boxSize:6,pointerEvents:"none"}}),content:i.jsx(xJ,{})},{id:"unifiedCanvas",icon:i.jsx(mo,{as:HK,sx:{boxSize:6,pointerEvents:"none"}}),content:i.jsx(Yse,{})},{id:"nodes",icon:i.jsx(mo,{as:BK,sx:{boxSize:6,pointerEvents:"none"}}),content:i.jsx(bne,{})},{id:"modelManager",icon:i.jsx(mo,{as:U$,sx:{boxSize:6,pointerEvents:"none"}}),content:i.jsx(Nee,{})}],Xse=Pe(li,e=>{const{disabledTabs:t}=e;return Kse.filter(n=>!t.includes(n.id))},{memoizeOptions:{resultEqualityCheck:Wt}}),Qse=300,uv=20,dI=["modelManager"],Zse=()=>{const e=B(m7),t=B(Dr),n=B(Xse),r=B(S=>S.lightbox.isLightboxOpen),{shouldPinGallery:o,shouldPinParametersPanel:s,shouldShowGallery:a}=B(S=>S.ui),{t:u}=ye(),d=se();Ge("z",()=>{d(cu(!r))},[r]),Ge("f",()=>{d(g7()),(o||s)&&d(_s())},[o,s]);const f=p.useCallback(()=>{t==="unifiedCanvas"&&d(_s())},[d,t]),h=p.useCallback(S=>{S.target instanceof HTMLElement&&S.target.blur()},[]),m=p.useMemo(()=>n.map(S=>i.jsx(Gn,{hasArrow:!0,label:String(u(`common.${S.id}`)),placement:"end",children:i.jsxs(y1,{onClick:h,children:[i.jsx(b5,{children:String(u(`common.${S.id}`))}),S.icon]})},S.id)),[n,u,h]),v=p.useMemo(()=>n.map(S=>i.jsx(g1,{children:S.content},S.id)),[n]),{ref:b,minSizePct:w}=DX(Qse,uv,"app");return i.jsxs(h1,{defaultIndex:e,index:e,onChange:S=>{d(_i(S))},sx:{flexGrow:1,gap:4},isLazy:!0,children:[i.jsxs(m1,{sx:{pt:2,gap:4,flexDir:"column"},children:[m,i.jsx(Qi,{}),i.jsx(gX,{})]}),i.jsxs(my,{id:"app",autoSaveId:"app",direction:"horizontal",style:{height:"100%",width:"100%"},children:[i.jsx(Cu,{id:"main",children:i.jsx(v1,{style:{height:"100%",width:"100%"},children:v})}),o&&a&&!dI.includes(t)&&i.jsxs(i.Fragment,{children:[i.jsx(yE,{}),i.jsx(Cu,{ref:b,onResize:f,id:"gallery",order:3,defaultSize:w>uv?w:uv,minSize:w,maxSize:50,children:i.jsx(wk,{})})]})]})]})},Jse=p.memo(Zse),eae=Pe([Dr,rs],(e,t)=>{const{shouldPinGallery:n,shouldShowGallery:r}=t;return{shouldPinGallery:n,shouldShowGalleryButton:dI.includes(e)?!1:!r}},{memoizeOptions:{resultEqualityCheck:Wt}}),tae=()=>{const{t:e}=ye(),{shouldPinGallery:t,shouldShowGalleryButton:n}=B(eae),r=se(),o=()=>{r(gv(!0)),t&&r(_s())};return n?i.jsx(Me,{tooltip:"Show Gallery (G)",tooltipProps:{placement:"top"},"aria-label":e("accessibility.showGallery"),onClick:o,sx:{pos:"absolute",top:"50%",transform:"translate(0, -50%)",p:0,insetInlineEnd:0,px:3,h:48,w:8,borderStartEndRadius:0,borderEndEndRadius:0,shadow:"2xl"},children:i.jsx(WK,{})}):null},nae=p.memo(tae),dv={borderStartStartRadius:0,borderEndStartRadius:0,shadow:"2xl"},rae=Pe([rs,Dr],(e,t)=>{const{shouldPinParametersPanel:n,shouldUseCanvasBetaLayout:r,shouldShowParametersPanel:o}=e,s=r&&t==="unifiedCanvas",a=!s&&(!n||!o),u=!s&&!o&&["txt2img","img2img","unifiedCanvas"].includes(t);return{shouldPinParametersPanel:n,shouldShowParametersPanelButton:u,shouldShowProcessButtons:a}},{memoizeOptions:{resultEqualityCheck:Wt}}),oae=()=>{const e=se(),{t}=ye(),{shouldShowProcessButtons:n,shouldShowParametersPanelButton:r,shouldPinParametersPanel:o}=B(rae),s=()=>{e(F0(!0)),o&&e(_s())};return r?i.jsxs(q,{pos:"absolute",transform:"translate(0, -50%)",minW:8,top:"50%",insetInlineStart:"4.5rem",direction:"column",gap:2,children:[i.jsx(Me,{tooltip:"Show Options Panel (O)",tooltipProps:{placement:"top"},"aria-label":t("accessibility.showOptionsPanel"),onClick:s,sx:dv,children:i.jsx(F1,{})}),n&&i.jsxs(i.Fragment,{children:[i.jsx(Iy,{iconButton:!0,sx:dv}),i.jsx(Ey,{sx:dv})]})]}):null},sae=p.memo(oae),aae=Pe([rs,Dr,Pk],(e,t,n)=>{const{shouldPinParametersPanel:r,shouldShowParametersPanel:o}=e;return{activeTabName:t,shouldPinParametersPanel:r,shouldShowParametersPanel:o}},Rt),iae=()=>{const e=se(),{shouldPinParametersPanel:t,shouldShowParametersPanel:n,activeTabName:r}=B(aae),o=()=>{e(F0(!1))},s=p.useMemo(()=>r==="txt2img"?i.jsx(qE,{}):r==="img2img"?i.jsx(RE,{}):r==="unifiedCanvas"?i.jsx(uI,{}):null,[r]);return t?null:i.jsx(Ck,{direction:"left",isResizable:!1,isOpen:n,onClose:o,children:i.jsxs(q,{sx:{flexDir:"column",h:"full",w:dy,gap:2,position:"relative",flexShrink:0,overflowY:"auto"},children:[i.jsxs(q,{paddingTop:1.5,paddingBottom:4,justifyContent:"space-between",alignItems:"center",children:[i.jsx(rE,{}),i.jsx(vE,{})]}),i.jsx(q,{sx:{gap:2,flexDirection:"column",h:"full",w:"full"},children:s})]})})},lae=p.memo(iae),cae=e=>{const{imagesUsage:t}=e;return!t||!P3(t)?null:i.jsxs(i.Fragment,{children:[i.jsx(Ye,{children:"An image from this board is currently in use in the following features:"}),i.jsxs(ph,{sx:{paddingInlineStart:6},children:[t.isInitialImage&&i.jsx(Ro,{children:"Image to Image"}),t.isCanvasImage&&i.jsx(Ro,{children:"Unified Canvas"}),t.isControlNetImage&&i.jsx(Ro,{children:"ControlNet"}),t.isNodesImage&&i.jsx(Ro,{children:"Node Editor"})]}),i.jsx(Ye,{children:"If you delete images from this board, those features will immediately be reset."})]})},uae=()=>{const{t:e}=ye(),{isOpen:t,onClose:n,board:r,handleDeleteBoardImages:o,handleDeleteBoardOnly:s,imagesUsage:a}=p.useContext(x3),u=p.useRef(null);return i.jsx(vh,{isOpen:t,leastDestructiveRef:u,onClose:n,isCentered:!0,children:i.jsx(ei,{children:r&&i.jsxs(yh,{children:[i.jsx(Ja,{fontSize:"lg",fontWeight:"bold",children:"Delete Board"}),i.jsx(ti,{children:i.jsxs(q,{direction:"column",gap:3,children:[i.jsx(cae,{imagesUsage:a}),i.jsx(Sa,{}),i.jsx(Ye,{children:e("common.areYouSure")}),i.jsxs(Ye,{fontWeight:"bold",children:["This board has ",r.image_count," image(s) that will be deleted."]})]})}),i.jsxs(Za,{gap:3,children:[i.jsx(Kt,{ref:u,onClick:n,children:"Cancel"}),i.jsx(Kt,{colorScheme:"warning",onClick:()=>s(r.board_id),children:"Delete Board Only"}),i.jsx(Kt,{colorScheme:"error",onClick:()=>o(r.board_id),children:"Delete Board and Images"})]})]})})})},dae=p.memo(uae),fae=()=>{const{data:e,isFetching:t}=D0(),{isOpen:n,onClose:r,handleAddToBoard:o,image:s}=p.useContext(m3),[a,u]=p.useState(),d=p.useRef(null),f=e==null?void 0:e.find(h=>h.board_id===(s==null?void 0:s.board_id));return i.jsx(vh,{isOpen:n,leastDestructiveRef:d,onClose:r,isCentered:!0,children:i.jsx(ei,{children:i.jsxs(yh,{children:[i.jsx(Ja,{fontSize:"lg",fontWeight:"bold",children:f?"Move Image to Board":"Add Image to Board"}),i.jsx(ti,{children:i.jsx(Ue,{children:i.jsxs(q,{direction:"column",gap:3,children:[f&&i.jsxs(Ye,{children:["Moving this image from"," ",i.jsx("strong",{children:f.board_name})," to"]}),t?i.jsx(Ou,{}):i.jsx(mr,{placeholder:"Select Board",onChange:h=>u(h),value:a,data:(e??[]).map(h=>({label:h.board_name,value:h.board_id}))})]})})}),i.jsxs(Za,{children:[i.jsx(Kt,{onClick:r,children:"Cancel"}),i.jsx(Kt,{isDisabled:!a,colorScheme:"accent",onClick:()=>{a&&o(a)},ml:3,children:f?"Move":"Add"})]})]})})})},pae=p.memo(fae),hae=Pe(e=>e.hotkeys,e=>{const{shift:t}=e;return{shift:t}},{memoizeOptions:{resultEqualityCheck:Wt}}),mae=()=>{const e=se(),{shift:t}=B(hae);return Ge("*",()=>{dP("shift")?!t&&e(a2(!0)):t&&e(a2(!1))},{keyup:!0,keydown:!0},[t]),Ge("o",()=>{e(v7())}),Ge(["shift+o"],()=>{e(y7())}),Ge("g",()=>{e(b7())}),Ge(["shift+g"],()=>{e(C3())}),Ge("1",()=>{e(_i("txt2img"))}),Ge("2",()=>{e(_i("img2img"))}),Ge("3",()=>{e(_i("unifiedCanvas"))}),Ge("4",()=>{e(_i("nodes"))}),null},gae=p.memo(mae),vae={},yae=({config:e=vae,headerComponent:t})=>{const n=B(E3),r=x7(),o=hr("lightbox").isFeatureEnabled,s=se();return p.useEffect(()=>{Cr.changeLanguage(n)},[n]),p.useEffect(()=>{r.info({namespace:"App",data:e},"Received config"),s(S7(e))},[s,e,r]),i.jsxs(i.Fragment,{children:[i.jsxs(ha,{w:"100vw",h:"100vh",position:"relative",overflow:"hidden",children:[o&&i.jsx(YK,{}),i.jsx(uz,{children:i.jsxs(ha,{sx:{gap:4,p:4,gridAutoRows:"min-content auto",w:"full",h:"full"},children:[t||i.jsx(pX,{}),i.jsx(q,{sx:{gap:4,w:"full",h:"full"},children:i.jsx(Jse,{})})]})}),i.jsx(KF,{}),i.jsx(lae,{}),i.jsx(Mf,{children:i.jsx(sae,{})}),i.jsx(Mf,{children:i.jsx(nae,{})})]}),i.jsx(tB,{}),i.jsx(pae,{}),i.jsx(dae,{}),i.jsx(w7,{}),i.jsx(gae,{})]})},kae=p.memo(yae);export{kae as default};
