---
title: Development Environment
lastUpdated: 2026-02-19
---

import { LinkCard, Steps, Tabs, TabItem, FileTree, LinkButton } from '@astrojs/starlight/components'
import SystemRequirementsLink from '@components/SystemRequirmentsLink.astro'

:::caution
  Invoke uses a SQLite database. When you run the application as a dev install, you accept responsibility for your database. This means making regular backups (especially before pulling) and/or fixing it yourself in the event that a PR introduces a schema change.

  If you don't need to persist your db, you can use an ephemeral in-memory database by setting `use_memory_db: true` in your `invokeai.yaml` file. You'll also want to set `scan_models_on_startup: true` so that your models are registered on startup.
:::

## Initial Setup

<Steps>
  1. Refer to the system requirements.

      <SystemRequirementsLink />

  2. Fork and clone the InvokeAI git repository.

      <LinkButton
        icon="github"
        iconPlacement="start"
        href="https://github.com/invoke-ai/InvokeAI/fork"
        target="_blank"
        rel="noopener noreferrer"
      >
        Fork Repository
      </LinkButton>

      Next, clone your fork to your local machine. You can use either HTTPS or SSH, depending on your git configuration.

  3. This repository uses Git LFS to manage large files. To ensure all assets are downloaded:
        - Install git-lfs â†’ [Download here](https://git-lfs.com/)
        - Enable automatic LFS fetching for this repository:
          ```shell
          git config lfs.fetchinclude "*"
          ```
        - Fetch files from LFS (only needs to be done once; subsequent `git pull` will fetch changes automatically):
          ```shell
          git lfs pull
          ```
  4. Create a directory for user data (images, models, db, etc). This is typically at `~/invokeai`, but if you already have a non-dev install, you may want to create a separate directory for the dev install.
  5. Follow the [manual install](../installation/manual) guide, with some modifications to the install command:

        - Use `.` instead of `invokeai` to install from the current directory. You don't need to specify the version.
        - Add `-e` after the `install` operation to make this an [editable install](https://pip.pypa.io/en/latest/cli/pip_install/#cmdoption-e). That means your changes to the python code will be reflected when you restart the Invoke server.
        - When installing the `invokeai` package, add the `dev`, `test` and `docs` package options to the package specifier. You may or may not need the `xformers` option - follow the manual install guide to figure that out. So, your package specifier will be either `".[dev,test,docs]"` or `".[dev,test,docs,xformers]"`. Note the quotes!

       With the modifications made, the install command should look something like this:

        ```sh
        uv pip install -e ".[dev,test,docs,xformers]" --python 3.12 --python-preference only-managed --index=https://download.pytorch.org/whl/cu128 --reinstall
        ```
  6. At this point, you should have Invoke installed, a venv set up and activated, and the server running. But you will see a warning in the terminal that no UI was found. If you go to the URL for the server, you won't get a UI.

        This is because the UI build is not distributed with the source code. You need to build it manually. End the running server instance.

        *(If you only want to edit the docs, you can stop here and skip to the **Documentation** section below.)*

  7. Install the frontend dev toolchain, paying attention to versions:

        - [`nodejs`](https://nodejs.org/) (tested on LTS, v22)
        - [`pnpm`](https://pnpm.io/installation) (tested on v10)

  8. Do a production build of the frontend:

        ```sh
        cd <PATH_TO_INVOKEAI_REPO>/invokeai/frontend/web
        pnpm i
        pnpm build
        ```

  9. Restart the server and navigate to the URL. You should get a UI. After making changes to the python code, restart the server to see those changes.
</Steps>

## Backend Development

Experimenting with changes to the Python source code is a drag if you have to re-start the server and re-load multi-gigabyte models after every change.

For a faster development workflow, add the `--dev_reload` flag when starting the server. The server will watch for changes to all the Python files in the `invokeai` directory and apply those changes to the running server on the fly.

This will allow you to avoid restarting the server (and reloading models) in most cases, but there are some caveats; see the [jurigged documentation](https://github.com/breuleux/jurigged#caveats) for details.

### Testing

The backend tests require the `test` dependency group, which you installed during the initial setup.

See the [Tests](../tests) documentation for information about running and writing tests.

## Frontend Development

You'll need to run `pnpm build` every time you pull in new changes to the frontend.

Another option is to skip the build and instead run the UI in dev mode:

```sh
cd invokeai/frontend/web
pnpm dev
```

This starts a vite dev server for the UI at `127.0.0.1:5173`, which you will use instead of `127.0.0.1:9090`.

The dev mode is substantially slower than the production build but may be more convenient if you just need to test things out. It will hot-reload the UI as you make changes to the frontend code. Sometimes the hot-reload doesn't work, and you need to manually refresh the browser tab.

## Documentation

This documentation is built on [Astro Starlight](https://starlight.astro.build/). It provides a pleasant developer environment for writing engaging documentation, and is built on top of the Astro static site generator, which provides a powerful and flexible framework for building fast, modern websites.

To contribute to the documentation, simply edit the markdown files in the `./docs` directory. You can run a local dev server with hot-reloading for changes made to the docs.

<FileTree>
  - **docs**
    - public/
    - src
      - content docs content lives here
        - docs
      - lib
        - components/
        - utils/
      - content.config.ts
  - scripts/
  - tests/
  - invokeai/
  - docker/
  - coverage/
</FileTree>

<Steps>
  1. Navigate to the `docs` directory and install the dependencies:

      ```sh
      cd docs
      pnpm install
      ```
  2. Start the dev server:

      ```sh
      pnpm run dev
      ```
</Steps>

## VSCode Setup

VSCode offers excellent tools for InvokeAI development, including a python debugger, automatic virtual environment activation, and remote development capabilities.

### Prerequisites

First, ensure you have the following extensions installed:
- [Python](https://marketplace.visualstudio.com/items?itemName=ms-python.python)
- [Pylance](https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance)

It's also highly recommended to install the Jupyter extensions if you plan on working with notebooks:
- [Jupyter](https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter)
- [Jupyter Cell Tags](https://marketplace.visualstudio.com/items?itemName=ms-toolsai.vscode-jupyter-cell-tags)
- [Jupyter Notebook Renderers](https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter-renderers)
- [Jupyter Slide Show](https://marketplace.visualstudio.com/items?itemName=ms-toolsai.vscode-jupyter-slideshow)

### Configuration

<Tabs>
  <TabItem label="Workspace & Interpreter">
    Creating a VSCode workspace for working on InvokeAI is highly recommended to hold InvokeAI-specific settings and configs.

    1. Open the InvokeAI repository directory in VSCode
    2. Go to `File` > `Save Workspace As` and save it *outside* the repository

    **Default Python Interpreter**

    To enable automatic virtual environment activation:
    1. Open the command palette (`Ctrl+Shift+P` / `Cmd+Shift+P`) and run `Preferences: Open Workspace Settings (JSON)`
    2. Add `python.defaultInterpreterPath` to your settings, pointing to your virtual environment's python executable:

    ```jsonc
    {
      "folders": [
        { "path": "InvokeAI" },
        { "path": "/path/to/invokeai_root" }
      ],
      "settings": {
        "python.defaultInterpreterPath": "/path/to/invokeai_root/.venv/bin/python"
      }
    }
    ```
    Now, opening the integrated terminal or running python will automatically use your InvokeAI virtual environment.
  </TabItem>

  <TabItem label="Type-Checking (Pylance)">
    We use Python's typing system in InvokeAI. PR reviews will include checking that types are present and correct.

    Pylance provides type checking in the editor. To enable it:

    1. Open a Python file
    2. Look along the status bar in VSCode for `{ } Python`
    3. Click the `{ }`
    4. Turn type checking on (Basic is fine)

    You'll now see red squiggly lines where type issues are detected. Hover your cursor over the indicated symbols to see what's wrong.
  </TabItem>

  <TabItem label="Debugging configs">
    Debugging configs are managed in a `launch.json` file. Follow the [official guide](https://code.visualstudio.com/docs/python/debugging) to set up your `launch.json` and try it out.

    Add these InvokeAI debugging configurations to your `launch.json`:

    ```jsonc
    {
      "version": "0.2.0",
      "configurations": [
        {
          "name": "InvokeAI Web",
          "type": "python",
          "request": "launch",
          "program": "scripts/invokeai-web.py",
          "args": [
            "--root", "/path/to/invokeai_root",
            "--host", "0.0.0.0"
          ],
          "justMyCode": true
        },
        {
          "name": "InvokeAI CLI",
          "type": "python",
          "request": "launch",
          "program": "scripts/invokeai-cli.py",
          "justMyCode": true
        },
        {
          "name": "InvokeAI Test",
          "type": "python",
          "request": "launch",
          "module": "pytest",
          "args": ["--capture=no"],
          "justMyCode": true
        },
        {
          "name": "InvokeAI Single Test",
          "type": "python",
          "request": "launch",
          "module": "pytest",
          "args": ["tests/nodes/test_invoker.py"],
          "justMyCode": true
        }
      ]
    }
    ```
  </TabItem>

  <TabItem label="Remote Dev">
    This provides a smooth experience for running the backend on a powerful Linux machine while developing on another device.

    Consult the [official guide](https://code.visualstudio.com/docs/remote/remote-overview) to get it set up. We suggest using VSCode's included settings sync so that your remote dev host has all the same app settings and extensions automatically.

    :::tip[Port Forwarding]
      Automatic port forwarding can be flaky. You can disable it in `Preferences: Open Remote Settings (ssh: hostname)` by unticking `remote.autoForwardPorts`.

      To forward ports reliably, use SSH on the remote dev client:
      ```bash
      ssh -L 9090:localhost:9090 -L 5173:localhost:5173 user@remote-dev-host
      ```
      Run this outside the VSCode integrated terminal so it persists across VSCode restarts.
    :::
  </TabItem>
</Tabs>
